var LANG=[];LANG[0]="Verifique o <b>login</b> e a <b>senha</b>.";LANG[1]="Digite pelo menos 20 caracteres!";LANG[2]="<b>Falhou!</b><br>Verifique os dados informados<br>ou recarregue a página e faça nova tentativa.";LANG[3]="Nenhuma mensagem!.";LANG[4]="Chave de criptografia <b>inválida!</b>";LANG[5]="Mensagem privada para ";LANG[6]="Conectado ao <b>relay</b> com sucesso!";LANG[7]='Conectando em "';LANG[8]="<b>Erro na conexão!<b><br>";LANG[9]="Conexão <b>perdida</b>!<br>É necessário reiniciar.";LANG[10]="Mensagem muito LONGA! Não posso enviar.";LANG[11]="Gerar uma chave com esse tamanho realmente será demorado.<br>Portanto, <b>aguarde com paciência</b>!";LANG[12]="Sucesso!";LANG[13]="Não foi possível salvar as chaves no servidor!.";LANG[14]="O <b>e-mail</b> é inválido!";(function(d,c){if(typeof exports==="object"){module.exports=c()}else{if(typeof define==="function"&&define.amd){define(c)}else{d.AES=c()}}}(this,function(){var aw=14,ao=8,aE=false,S=function(b){try{return unescape(encodeURIComponent(b))}catch(a){throw"Error on UTF-8 encode"}},V=function(b){try{return decodeURIComponent(escape(b))}catch(a){throw ("Bad Key")}},af=function(b){var a=[],c,d;if(b.length<16){c=16-b.length;a=[c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c]}for(d=0;d<b.length;d++){a[d]=b[d]}return a},aA=function(a,c){var e="",b,d;if(c){b=a[15];if(b>16){throw ("Decryption error: Maybe bad key")}if(b===16){return""}for(d=0;d<16-b;d++){e+=String.fromCharCode(a[d])}}else{for(d=0;d<16;d++){e+=String.fromCharCode(a[d])}}return e},at=function(a){var c="",b;for(b=0;b<a.length;b++){c+=(a[b]<16?"0":"")+a[b].toString(16)}return c},ae=function(a){var b=[];a.replace(/(..)/g,function(c){b.push(parseInt(c,16))});return b},ax=function(d,a){var b=[],c;if(!a){d=S(d)}for(c=0;c<d.length;c++){b[c]=d.charCodeAt(c)}return b},aH=function(a){if("undefined"==typeof a){if(aw==10){return 128}if(aw==12){return 192}if(aw==14){return 256}}switch(a){case 128:aw=10;ao=4;break;case 192:aw=12;ao=6;break;case 256:aw=14;ao=8;break;default:throw ("Invalid Key Size Specified:"+a)}},aq=function(b){var c=[],a;for(a=0;a<b;a++){c=c.concat(Math.floor(Math.random()*256))}return c},au=function(e,c){var b=aw>=12?3:2,d=[],g=[],j=[],a=[],h=e.concat(c),f;j[0]=az(h);a=j[0];for(f=1;f<b;f++){j[f]=az(j[f-1].concat(h));a=a.concat(j[f])}d=a.slice(0,4*ao);g=a.slice(4*ao,4*ao+16);return{key:d,iv:g}},aI=function(a,b,d){b=aa(b);var f=Math.ceil(a.length/16),g=[],c,e=[];for(c=0;c<f;c++){g[c]=af(a.slice(c*16,c*16+16))}if(a.length%16===0){g.push([16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16]);f++}for(c=0;c<g.length;c++){g[c]=(c===0)?ag(g[c],d):ag(g[c],e[c-1]);e[c]=aG(g[c],b)}return e},ak=function(c,b,g,f){b=aa(b);var a=c.length/16,h=[],e,j=[],d="";for(e=0;e<a;e++){h.push(c.slice(e*16,(e+1)*16))}for(e=h.length-1;e>=0;e--){j[e]=ab(h[e],b);j[e]=(e===0)?ag(j[e],g):ag(j[e],h[e-1])}for(e=0;e<a-1;e++){d+=aA(j[e])}d+=aA(j[e],true);return f?d:V(d)},aG=function(a,b){aE=false;var c=X(a,b,0),d;for(d=1;d<(aw+1);d++){c=W(c);c=aK(c);if(d<aw){c=T(c)}c=X(c,b,d)}return c},ab=function(a,b){aE=true;var c=X(a,b,aw),d;for(d=aw-1;d>-1;d--){c=aK(c);c=W(c);c=X(c,b,d);if(d>0){c=T(c)}}return c},W=function(a){var b=aE?ah:U,d=[],c;for(c=0;c<16;c++){d[c]=b[a[c]]}return d},aK=function(a){var d=[],b=aE?[0,13,10,7,4,1,14,11,8,5,2,15,12,9,6,3]:[0,5,10,15,4,9,14,3,8,13,2,7,12,1,6,11],c;for(c=0;c<16;c++){d[c]=a[b[c]]}return d},T=function(b){var c=[],a;if(!aE){for(a=0;a<4;a++){c[a*4]=aj[b[a*4]]^aF[b[1+a*4]]^b[2+a*4]^b[3+a*4];c[1+a*4]=b[a*4]^aj[b[1+a*4]]^aF[b[2+a*4]]^b[3+a*4];c[2+a*4]=b[a*4]^b[1+a*4]^aj[b[2+a*4]]^aF[b[3+a*4]];c[3+a*4]=aF[b[a*4]]^b[1+a*4]^b[2+a*4]^aj[b[3+a*4]]}}else{for(a=0;a<4;a++){c[a*4]=ay[b[a*4]]^aB[b[1+a*4]]^ac[b[2+a*4]]^aD[b[3+a*4]];c[1+a*4]=aD[b[a*4]]^ay[b[1+a*4]]^aB[b[2+a*4]]^ac[b[3+a*4]];c[2+a*4]=ac[b[a*4]]^aD[b[1+a*4]]^ay[b[2+a*4]]^aB[b[3+a*4]];c[3+a*4]=aB[b[a*4]]^ac[b[1+a*4]]^aD[b[2+a*4]]^ay[b[3+a*4]]}}return c},X=function(b,a,d){var e=[],c;for(c=0;c<16;c++){e[c]=b[c]^a[d][c]}return e},ag=function(a,b){var d=[],c;for(c=0;c<16;c++){d[c]=a[c]^b[c]}return d},aa=function(h){var e=[],d=[],a,g,b,f=[],c;for(a=0;a<ao;a++){g=[h[4*a],h[4*a+1],h[4*a+2],h[4*a+3]];e[a]=g}for(a=ao;a<(4*(aw+1));a++){e[a]=[];for(b=0;b<4;b++){d[b]=e[a-1][b]}if(a%ao===0){d=am(an(d));d[0]^=Z[a/ao-1]}else{if(ao>6&&a%ao===4){d=am(d)}}for(b=0;b<4;b++){e[a][b]=e[a-ao][b]^d[b]}}for(a=0;a<(aw+1);a++){f[a]=[];for(c=0;c<4;c++){f[a].push(e[a*4+c][0],e[a*4+c][1],e[a*4+c][2],e[a*4+c][3])}}return f},am=function(b){for(var a=0;a<4;a++){b[a]=U[b[a]]}return b},an=function(c){var a=c[0],b;for(b=0;b<4;b++){c[b]=c[b+1]}c[3]=a;return c},aJ=function(a,b){var c,d=[];for(c=0;c<a.length;c+=b){d[c/b]=parseInt(a.substr(c,b),16)}return d},aC=function(c){var a,b=[];for(a=0;a<c.length;a++){b[c[a]]=a}return b},av=function(c,d){var a,b;b=0;for(a=0;a<8;a++){b=((d&1)===1)?b^c:b;c=(c>127)?283^(c<<1):(c<<1);d>>>=1}return b},ai=function(c){var b,a=[];for(b=0;b<256;b++){a[b]=av(c,b)}return a},U=aJ("637c777bf26b6fc53001672bfed7ab76ca82c97dfa5947f0add4a2af9ca472c0b7fd9326363ff7cc34a5e5f171d8311504c723c31896059a071280e2eb27b27509832c1a1b6e5aa0523bd6b329e32f8453d100ed20fcb15b6acbbe394a4c58cfd0efaafb434d338545f9027f503c9fa851a3408f929d38f5bcb6da2110fff3d2cd0c13ec5f974417c4a77e3d645d197360814fdc222a908846eeb814de5e0bdbe0323a0a4906245cc2d3ac629195e479e7c8376d8dd54ea96c56f4ea657aae08ba78252e1ca6b4c6e8dd741f4bbd8b8a703eb5664803f60e613557b986c11d9ee1f8981169d98e949b1e87e9ce5528df8ca1890dbfe6426841992d0fb054bb16",2),ah=aC(U),Z=aJ("01020408102040801b366cd8ab4d9a2f5ebc63c697356ad4b37dfaefc591",2),aj=ai(2),aF=ai(3),aD=ai(9),aB=ai(11),ac=ai(13),ay=ai(14),ar=function(e,b,g){var f=aq(8),c=au(ax(b,g),f),a=c.key,h=c.iv,j,d=[[83,97,108,116,101,100,95,95].concat(f)];e=ax(e,g);j=aI(e,a,h);j=d.concat(j);return Y.encode(j)},ap=function(f,b,h){try{var d=Y.decode(f),g=d.slice(8,16),c=au(ax(b,h),g),a=c.key,j=c.iv;d=d.slice(16,d.length);f=ak(d,a,j,h);return f}catch(e){return false}},az=function(d){function e(B,C){return(B<<C)|(B>>>(32-C))}function z(G,C){var E,D,H,F,B;H=(G&2147483648);F=(C&2147483648);E=(G&1073741824);D=(C&1073741824);B=(G&1073741823)+(C&1073741823);if(E&D){return(B^2147483648^H^F)}if(E|D){if(B&1073741824){return(B^3221225472^H^F)}else{return(B^1073741824^H^F)}}else{return(B^H^F)}}function q(D,B,C){return(D&B)|((~D)&C)}function r(D,B,C){return(D&C)|(B&(~C))}function s(D,B,C){return(D^B^C)}function c(D,B,C){return(B^(D|(~C)))}function x(B,C,E,F,D,H,G){B=z(B,z(z(q(C,E,F),D),G));return z(e(B,H),C)}function n(B,C,E,F,D,H,G){B=z(B,z(z(r(C,E,F),D),G));return z(e(B,H),C)}function f(B,C,E,F,D,H,G){B=z(B,z(z(s(C,E,F),D),G));return z(e(B,H),C)}function y(B,C,E,F,D,H,G){B=z(B,z(z(c(C,E,F),D),G));return z(e(B,H),C)}function w(B){var J,E=B.length,F=E+8,G=(F-(F%64))/64,C=(G+1)*16,I=[],H=0,D=0;while(D<E){J=(D-(D%4))/4;H=(D%4)*8;I[J]=(I[J]|(B[D]<<H));D++}J=(D-(D%4))/4;H=(D%4)*8;I[J]=I[J]|(128<<H);I[C-2]=E<<3;I[C-1]=E>>>29;return I}function h(B){var E,D,C=[];for(D=0;D<=3;D++){E=(B>>>(D*8))&255;C=C.concat(E)}return C}var A=[],u,t,g,a,v,j,l,m,p,b=aJ("67452301efcdab8998badcfe10325476d76aa478e8c7b756242070dbc1bdceeef57c0faf4787c62aa8304613fd469501698098d88b44f7afffff5bb1895cd7be6b901122fd987193a679438e49b40821f61e2562c040b340265e5a51e9b6c7aad62f105d02441453d8a1e681e7d3fbc821e1cde6c33707d6f4d50d87455a14eda9e3e905fcefa3f8676f02d98d2a4c8afffa39428771f6816d9d6122fde5380ca4beea444bdecfa9f6bb4b60bebfbc70289b7ec6eaa127fad4ef308504881d05d9d4d039e6db99e51fa27cf8c4ac5665f4292244432aff97ab9423a7fc93a039655b59c38f0ccc92ffeff47d85845dd16fa87e4ffe2ce6e0a30143144e0811a1f7537e82bd3af2352ad7d2bbeb86d391",8);A=w(d);j=b[0];l=b[1];m=b[2];p=b[3];for(u=0;u<A.length;u+=16){t=j;g=l;a=m;v=p;j=x(j,l,m,p,A[u+0],7,b[4]);p=x(p,j,l,m,A[u+1],12,b[5]);m=x(m,p,j,l,A[u+2],17,b[6]);l=x(l,m,p,j,A[u+3],22,b[7]);j=x(j,l,m,p,A[u+4],7,b[8]);p=x(p,j,l,m,A[u+5],12,b[9]);m=x(m,p,j,l,A[u+6],17,b[10]);l=x(l,m,p,j,A[u+7],22,b[11]);j=x(j,l,m,p,A[u+8],7,b[12]);p=x(p,j,l,m,A[u+9],12,b[13]);m=x(m,p,j,l,A[u+10],17,b[14]);l=x(l,m,p,j,A[u+11],22,b[15]);j=x(j,l,m,p,A[u+12],7,b[16]);p=x(p,j,l,m,A[u+13],12,b[17]);m=x(m,p,j,l,A[u+14],17,b[18]);l=x(l,m,p,j,A[u+15],22,b[19]);j=n(j,l,m,p,A[u+1],5,b[20]);p=n(p,j,l,m,A[u+6],9,b[21]);m=n(m,p,j,l,A[u+11],14,b[22]);l=n(l,m,p,j,A[u+0],20,b[23]);j=n(j,l,m,p,A[u+5],5,b[24]);p=n(p,j,l,m,A[u+10],9,b[25]);m=n(m,p,j,l,A[u+15],14,b[26]);l=n(l,m,p,j,A[u+4],20,b[27]);j=n(j,l,m,p,A[u+9],5,b[28]);p=n(p,j,l,m,A[u+14],9,b[29]);m=n(m,p,j,l,A[u+3],14,b[30]);l=n(l,m,p,j,A[u+8],20,b[31]);j=n(j,l,m,p,A[u+13],5,b[32]);p=n(p,j,l,m,A[u+2],9,b[33]);m=n(m,p,j,l,A[u+7],14,b[34]);l=n(l,m,p,j,A[u+12],20,b[35]);j=f(j,l,m,p,A[u+5],4,b[36]);p=f(p,j,l,m,A[u+8],11,b[37]);m=f(m,p,j,l,A[u+11],16,b[38]);l=f(l,m,p,j,A[u+14],23,b[39]);j=f(j,l,m,p,A[u+1],4,b[40]);p=f(p,j,l,m,A[u+4],11,b[41]);m=f(m,p,j,l,A[u+7],16,b[42]);l=f(l,m,p,j,A[u+10],23,b[43]);j=f(j,l,m,p,A[u+13],4,b[44]);p=f(p,j,l,m,A[u+0],11,b[45]);m=f(m,p,j,l,A[u+3],16,b[46]);l=f(l,m,p,j,A[u+6],23,b[47]);j=f(j,l,m,p,A[u+9],4,b[48]);p=f(p,j,l,m,A[u+12],11,b[49]);m=f(m,p,j,l,A[u+15],16,b[50]);l=f(l,m,p,j,A[u+2],23,b[51]);j=y(j,l,m,p,A[u+0],6,b[52]);p=y(p,j,l,m,A[u+7],10,b[53]);m=y(m,p,j,l,A[u+14],15,b[54]);l=y(l,m,p,j,A[u+5],21,b[55]);j=y(j,l,m,p,A[u+12],6,b[56]);p=y(p,j,l,m,A[u+3],10,b[57]);m=y(m,p,j,l,A[u+10],15,b[58]);l=y(l,m,p,j,A[u+1],21,b[59]);j=y(j,l,m,p,A[u+8],6,b[60]);p=y(p,j,l,m,A[u+15],10,b[61]);m=y(m,p,j,l,A[u+6],15,b[62]);l=y(l,m,p,j,A[u+13],21,b[63]);j=y(j,l,m,p,A[u+4],6,b[64]);p=y(p,j,l,m,A[u+11],10,b[65]);m=y(m,p,j,l,A[u+2],15,b[66]);l=y(l,m,p,j,A[u+9],21,b[67]);j=z(j,t);l=z(l,g);m=z(m,a);p=z(p,v)}return h(j).concat(h(l),h(m),h(p))},ad=function(f,a,d){var b;f=ax(f);a=ax(a);for(b=a.length;b<32;b++){a[b]=0}if(d===undefined){}else{d=ax(d);for(b=d.length;b<16;b++){d[b]=0}}var c=aI(f,a,d);var e=[d];for(b=0;b<c.length;b++){e[e.length]=c[b]}return Y.encode(e)},al=function(g,a){var b=Y.decode(g);var e=b.slice(0,16);var c=b.slice(16,b.length);var d;a=ax(a);for(d=a.length;d<32;d++){a[d]=0}var f=ak(c,a,e,false);return f},Y=(function(){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=d.split(""),c=function(e,g){var f=[],j="",h,l,m=Math.floor(e.length*16/3);for(h=0;h<e.length*16;h++){f.push(e[Math.floor(h/16)][h%16])}for(h=0;h<f.length;h=h+3){j+=b[f[h]>>2];j+=b[((f[h]&3)<<4)|(f[h+1]>>4)];if(f[h+1]!==undefined){j+=b[((f[h+1]&15)<<2)|(f[h+2]>>6)]}else{j+="="}if(f[h+2]!==undefined){j+=b[f[h+2]&63]}else{j+="="}}l=j.slice(0,64)+"\n";for(h=1;h<(Math.ceil(j.length/64));h++){l+=j.slice(h*64,h*64+64)+(Math.ceil(j.length/64)===h+1?"":"\n")}return l},a=function(j){j=j.replace(/\n/g,"");var g=[],f=[],e=[],h;for(h=0;h<j.length;h=h+4){f[0]=d.indexOf(j.charAt(h));f[1]=d.indexOf(j.charAt(h+1));f[2]=d.indexOf(j.charAt(h+2));f[3]=d.indexOf(j.charAt(h+3));e[0]=(f[0]<<2)|(f[1]>>4);e[1]=((f[1]&15)<<4)|(f[2]>>2);e[2]=((f[2]&3)<<6)|f[3];g.push(e[0],e[1],e[2])}g=g.slice(0,g.length-(g.length%16));return g};if(typeof Array.indexOf==="function"){d=b}return{encode:c,decode:a}})();return{size:aH,h2a:ae,expandKey:aa,encryptBlock:aG,decryptBlock:ab,Decrypt:aE,s2a:ax,rawEncrypt:aI,rawDecrypt:ak,dec:ap,openSSLKey:au,a2h:at,enc:ar,Hash:{MD5:az},Base64:Y}}));!function(c){if("object"==typeof exports&&"undefined"!=typeof module){module.exports=c()}else{if("function"==typeof define&&define.amd){define([],c)}else{var d;"undefined"!=typeof window?d=window:"undefined"!=typeof global?d=global:"undefined"!=typeof self&&(d=self),d.JSZip=c()}}}(function(){var g,e,f;return(function h(l,a,c){function d(r,p){if(!a[r]){if(!l[r]){var q=typeof require=="function"&&require;if(!p&&q){return q(r,!0)}if(m){return m(r,!0)}throw new Error("Cannot find module '"+r+"'")}var j=a[r]={exports:{}};l[r][0].call(j.exports,function(s){var n=l[r][1][s];return d(n?n:s)},j,j.exports,h,l,a,c)}return a[r].exports}var m=typeof require=="function"&&require;for(var b=0;b<c.length;b++){d(c[b])}return d})({1:[function(a,b,d){var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";d.encode=function(z,A){var C="";var D,u,w,E,v,x,y;var B=0;while(B<z.length){D=z.charCodeAt(B++);u=z.charCodeAt(B++);w=z.charCodeAt(B++);E=D>>2;v=((D&3)<<4)|(u>>4);x=((u&15)<<2)|(w>>6);y=w&63;if(isNaN(u)){x=y=64}else{if(isNaN(w)){y=64}}C=C+c.charAt(E)+c.charAt(v)+c.charAt(x)+c.charAt(y)}return C};d.decode=function(z,A){var C="";var D,u,w;var E,v,x,y;var B=0;z=z.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(B<z.length){E=c.indexOf(z.charAt(B++));v=c.indexOf(z.charAt(B++));x=c.indexOf(z.charAt(B++));y=c.indexOf(z.charAt(B++));D=(E<<2)|(v>>4);u=((v&15)<<4)|(x>>2);w=((x&3)<<6)|y;C=C+String.fromCharCode(D);if(x!=64){C=C+String.fromCharCode(u)}if(y!=64){C=C+String.fromCharCode(w)}}return C}},{}],2:[function(a,c,d){function b(){this.compressedSize=0;this.uncompressedSize=0;this.crc32=0;this.compressionMethod=null;this.compressedContent=null}b.prototype={getContent:function(){return null},getCompressedContent:function(){return null}};c.exports=b},{}],3:[function(a,b,c){c.STORE={magic:"\x00\x00",compress:function(j,d){return j},uncompress:function(d){return d},compressInputType:null,uncompressInputType:null};c.DEFLATE=a("./flate")},{"./flate":8}],4:[function(a,d,l){var m=a("./utils");var b=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918000,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];d.exports=function c(y,w){if(typeof y==="undefined"||!y.length){return 0}var j=m.getTypeOf(y)!=="string";if(typeof(w)=="undefined"){w=0}var s=0;var u=0;var t=0;w=w^(-1);for(var x=0,v=y.length;x<v;x++){t=j?y[x]:y.charCodeAt(x);u=(w^t)&255;s=b[u];w=(w>>>8)^s}return w^(-1)}},{"./utils":21}],5:[function(b,c,d){var j=b("./utils");function a(l){this.data=null;this.length=0;this.index=0}a.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<l||l<0){throw new Error("End of data reached (data length = "+this.length+", asked index = "+(l)+"). Corrupted zip ?")}},setIndex:function(l){this.checkIndex(l);this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(l){},readInt:function(m){var p=0,n;this.checkOffset(m);for(n=this.index+m-1;n>=this.index;n--){p=(p<<8)+this.byteAt(n)}this.index+=m;return p},readString:function(l){return j.transformTo("string",this.readData(l))},readData:function(l){},lastIndexOfSignature:function(l){},readDate:function(){var l=this.readInt(4);return new Date(((l>>25)&127)+1980,((l>>21)&15)-1,(l>>16)&31,(l>>11)&31,(l>>5)&63,(l&31)<<1)}};c.exports=a},{"./utils":21}],6:[function(a,b,c){c.base64=false;c.binary=false;c.dir=false;c.createFolders=false;c.date=null;c.compression=null;c.compressionOptions=null;c.comment=null;c.unixPermissions=null;c.dosPermissions=null},{}],7:[function(a,b,c){var d=a("./utils");c.string2binary=function(j){return d.string2binary(j)};c.string2Uint8Array=function(j){return d.transformTo("uint8array",j)};c.uint8Array2String=function(j){return d.transformTo("string",j)};c.string2Blob=function(l){var m=d.transformTo("arraybuffer",l);return d.arrayBuffer2Blob(m)};c.arrayBuffer2Blob=function(j){return d.arrayBuffer2Blob(j)};c.transformTo=function(l,m){return d.transformTo(l,m)};c.getTypeOf=function(j){return d.getTypeOf(j)};c.checkSupport=function(j){return d.checkSupport(j)};c.MAX_VALUE_16BITS=d.MAX_VALUE_16BITS;c.MAX_VALUE_32BITS=d.MAX_VALUE_32BITS;c.pretty=function(j){return d.pretty(j)};c.findCompression=function(j){return d.findCompression(j)};c.isRegExp=function(j){return d.isRegExp(j)}},{"./utils":21}],8:[function(a,c,j){var d=(typeof Uint8Array!=="undefined")&&(typeof Uint16Array!=="undefined")&&(typeof Uint32Array!=="undefined");var b=a("pako");j.uncompressInputType=d?"uint8array":"array";j.compressInputType=d?"uint8array":"array";j.magic="\x08\x00";j.compress=function(m,l){return b.deflateRaw(m,{level:l.level||-1})};j.uncompress=function(l){return b.inflateRaw(l)}},{pako:24}],9:[function(b,c,d){var j=b("./base64");function a(l,m){if(!(this instanceof a)){return new a(l,m)}this.files={};this.comment=null;this.root="";if(l){this.load(l,m)}this.clone=function(){var p=new a();for(var n in this){if(typeof this[n]!=="function"){p[n]=this[n]}}return p}}a.prototype=b("./object");a.prototype.load=b("./load");a.support=b("./support");a.defaults=b("./defaults");a.utils=b("./deprecatedPublicUtils");a.base64={encode:function(l){return j.encode(l)},decode:function(l){return j.decode(l)}};a.compressions=b("./compressions");c.exports=a},{"./base64":1,"./compressions":3,"./defaults":6,"./deprecatedPublicUtils":7,"./load":10,"./object":13,"./support":17}],10:[function(a,b,c){var d=a("./base64");var j=a("./zipEntries");b.exports=function(t,r){var u,p,q,s;r=r||{};if(r.base64){t=d.decode(t)}p=new j(t,r);u=p.files;for(q=0;q<u.length;q++){s=u[q];this.file(s.fileName,s.decompressed,{binary:true,optimizedBinaryString:true,date:s.date,dir:s.dir,comment:s.fileComment.length?s.fileComment:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:r.createFolders})}if(p.zipComment.length){this.comment=p.zipComment}return this}},{"./base64":1,"./zipEntries":22}],11:[function(a,b,c){(function(d){b.exports=function(l,m){return new d(l,m)};b.exports.test=function(j){return d.isBuffer(j)}}).call(this,(typeof Buffer!=="undefined"?Buffer:undefined))},{}],12:[function(b,c,d){var j=b("./uint8ArrayReader");function a(l){this.data=l;this.length=this.data.length;this.index=0}a.prototype=new j();a.prototype.readData=function(l){this.checkOffset(l);var m=this.data.slice(this.index,this.index+l);this.index+=l;return m};c.exports=a},{"./uint8ArrayReader":18}],13:[function(ab,ah,d){var Q=ab("./support");var N=ab("./utils");var ae=ab("./crc32");var K=ab("./signature");var S=ab("./defaults");var ai=ab("./base64");var W=ab("./compressions");var af=ab("./compressedObject");var O=ab("./nodeBuffer");var ag=ab("./utf8");var ac=ab("./stringWriter");var Y=ab("./uint8ArrayWriter");var P=function(l){if(l._data instanceof af){l._data=l._data.getContent();l.options.binary=true;l.options.base64=false;if(N.getTypeOf(l._data)==="uint8array"){var j=l._data;l._data=new Uint8Array(j.length);if(j.length!==0){l._data.set(j,0)}}}return l._data};var J=function(l){var m=P(l),j=N.getTypeOf(m);if(j==="string"){if(!l.options.binary){if(Q.nodebuffer){return O(m,"utf-8")}}return l.asBinary()}return m};var Z=function(j){var l=P(this);if(l===null||typeof l==="undefined"){return""}if(this.options.base64){l=ai.decode(l)}if(j&&this.options.binary){l=a.utf8decode(l)}else{l=N.transformTo("string",l)}if(!j&&!this.options.binary){l=N.transformTo("string",a.utf8encode(l))}return l};var U=function(l,j,m){this.name=l;this.dir=m.dir;this.date=m.date;this.comment=m.comment;this.unixPermissions=m.unixPermissions;this.dosPermissions=m.dosPermissions;this._data=j;this.options=m;this._initialMetadata={dir:m.dir,date:m.date}};U.prototype={asText:function(){return Z.call(this,true)},asBinary:function(){return Z.call(this,false)},asNodeBuffer:function(){var j=J(this);return N.transformTo("nodebuffer",j)},asUint8Array:function(){var j=J(this);return N.transformTo("uint8array",j)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var aj=function(n,m){var j="",l;for(l=0;l<m;l++){j+=String.fromCharCode(n&255);n=n>>>8}return j};var R=function(){var l={},j,m;for(j=0;j<arguments.length;j++){for(m in arguments[j]){if(arguments[j].hasOwnProperty(m)&&typeof l[m]==="undefined"){l[m]=arguments[j][m]}}}return l};var aa=function(j){j=j||{};if(j.base64===true&&(j.binary===null||j.binary===undefined)){j.binary=true}j=R(j,S);j.date=j.date||new Date();if(j.compression!==null){j.compression=j.compression.toUpperCase()}return j};var X=function(j,p,n){var m=N.getTypeOf(p),q;n=aa(n);if(typeof n.unixPermissions==="string"){n.unixPermissions=parseInt(n.unixPermissions,8)}if(n.unixPermissions&&(n.unixPermissions&16384)){n.dir=true}if(n.dosPermissions&&(n.dosPermissions&16)){n.dir=true}if(n.dir){j=V(j)}if(n.createFolders&&(q=T(j))){M.call(this,q,true)}if(n.dir||p===null||typeof p==="undefined"){n.base64=false;n.binary=false;p=null;m=null}else{if(m==="string"){if(n.binary&&!n.base64){if(n.optimizedBinaryString!==true){p=N.string2binary(p)}}}else{n.base64=false;n.binary=true;if(!m&&!(p instanceof af)){throw new Error("The data of '"+j+"' is in an unsupported format !")}if(m==="arraybuffer"){p=N.transformTo("uint8array",p)}}}var l=new U(j,p,n);this.files[j]=l;return l};var T=function(j){if(j.slice(-1)=="/"){j=j.substring(0,j.length-1)}var l=j.lastIndexOf("/");return(l>0)?j.substring(0,l):""};var V=function(j){if(j.slice(-1)!="/"){j+="/"}return j};var M=function(l,j){j=(typeof j!=="undefined")?j:false;l=V(l);if(!this.files[l]){X.call(this,l,null,{dir:true,createFolders:j})}return this.files[l]};var L=function(j,l,n){var m=new af(),p;if(j._data instanceof af){m.uncompressedSize=j._data.uncompressedSize;m.crc32=j._data.crc32;if(m.uncompressedSize===0||j.dir){l=W.STORE;m.compressedContent="";m.crc32=0}else{if(j._data.compressionMethod===l.magic){m.compressedContent=j._data.getCompressedContent()}else{p=j._data.getContent();m.compressedContent=l.compress(N.transformTo(l.compressInputType,p),n)}}}else{p=J(j);if(!p||p.length===0||j.dir){l=W.STORE;p=""}m.uncompressedSize=p.length;m.crc32=ae(p);m.compressedContent=l.compress(N.transformTo(l.compressInputType,p),n)}m.compressedSize=m.compressedContent.length;m.compressionMethod=l.magic;return m};var ad=function(l,j){var m=l;if(!l){m=j?16893:33204}return(m&65535)<<16};var b=function(l,j){return(l||0)&63};var c=function(C,j,z,w,E){var F=z.compressedContent,B=N.transformTo("string",ag.utf8encode(j.name)),A=j.comment||"",x=N.transformTo("string",ag.utf8encode(A)),G=B.length!==j.name.length,I=x.length!==A.length,s=j.options,y,n,u="",H="",v="",t,l;if(j._initialMetadata.dir!==j.dir){t=j.dir}else{t=s.dir}if(j._initialMetadata.date!==j.date){l=j.date}else{l=s.date}var D=0;var m=0;if(t){D|=16}if(E==="UNIX"){m=798;D|=ad(j.unixPermissions,t)}else{m=20;D|=b(j.dosPermissions,t)}y=l.getHours();y=y<<6;y=y|l.getMinutes();y=y<<5;y=y|l.getSeconds()/2;n=l.getFullYear()-1980;n=n<<4;n=n|(l.getMonth()+1);n=n<<5;n=n|l.getDate();if(G){H=aj(1,1)+aj(ae(B),4)+B;u+="\x75\x70"+aj(H.length,2)+H}if(I){v=aj(1,1)+aj(this.crc32(x),4)+x;u+="\x75\x63"+aj(v.length,2)+v}var p="";p+="\x0A\x00";p+=(G||I)?"\x00\x08":"\x00\x00";p+=z.compressionMethod;p+=aj(y,2);p+=aj(n,2);p+=aj(z.crc32,4);p+=aj(z.compressedSize,4);p+=aj(z.uncompressedSize,4);p+=aj(B.length,2);p+=aj(u.length,2);var q=K.LOCAL_FILE_HEADER+p+B+u;var r=K.CENTRAL_FILE_HEADER+aj(m,2)+p+aj(x.length,2)+"\x00\x00\x00\x00"+aj(D,4)+aj(w,4)+B+u+x;return{fileRecord:q,dirRecord:r,compressedObject:z}};var a={load:function(j,l){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(n){var m=[],j,l,p,q;for(j in this.files){if(!this.files.hasOwnProperty(j)){continue}p=this.files[j];q=new U(p.name,p._data,R(p.options));l=j.slice(this.root.length,j.length);if(j.slice(0,this.root.length)===this.root&&n(l,q)){m.push(q)}}return m},file:function(m,j,n){if(arguments.length===1){if(N.isRegExp(m)){var l=m;return this.filter(function(q,p){return !p.dir&&l.test(q)})}else{return this.filter(function(q,p){return !p.dir&&q===m})[0]||null}}else{m=this.root+m;X.call(this,m,j,n)}return this},folder:function(m){if(!m){return this}if(N.isRegExp(m)){return this.filter(function(q,p){return p.dir&&m.test(q)})}var j=this.root+m;var n=M.call(this,j);var l=this.clone();l.root=n.name;return l},remove:function(l){l=this.root+l;var n=this.files[l];if(!n){if(l.slice(-1)!="/"){l+="/"}n=this.files[l]}if(n&&!n.dir){delete this.files[l]}else{var m=this.filter(function(q,p){return p.name.slice(0,l.length)===l});for(var j=0;j<m.length;j++){delete this.files[m[j].name]}}return this},generate:function(j){j=R(j||{},{base64:true,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip"});N.checkSupport(j.type);if(j.platform==="darwin"||j.platform==="freebsd"||j.platform==="linux"||j.platform==="sunos"){j.platform="UNIX"}if(j.platform==="win32"){j.platform="DOS"}var u=[],t=0,y=0,v,r,s=N.transformTo("string",this.utf8encode(j.comment||this.comment||""));for(var A in this.files){if(!this.files.hasOwnProperty(A)){continue}var w=this.files[A];var q=w.options.compression||j.compression.toUpperCase();var l=W[q];if(!l){throw new Error(q+" is not a valid compression method !")}var n=w.options.compressionOptions||j.compressionOptions||{};var p=L.call(this,w,l,n);var B=c.call(this,A,w,p,t,j.platform);t+=B.fileRecord.length+p.compressedSize;y+=B.dirRecord.length;u.push(B)}var x="";x=K.CENTRAL_DIRECTORY_END+"\x00\x00\x00\x00"+aj(u.length,2)+aj(u.length,2)+aj(y,4)+aj(t,4)+aj(s.length,2)+s;var m=j.type.toLowerCase();if(m==="uint8array"||m==="arraybuffer"||m==="blob"||m==="nodebuffer"){v=new Y(t+y+x.length)}else{v=new ac(t+y+x.length)}for(r=0;r<u.length;r++){v.append(u[r].fileRecord);v.append(u[r].compressedObject.compressedContent)}for(r=0;r<u.length;r++){v.append(u[r].dirRecord)}v.append(x);var z=v.finalize();switch(j.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return N.transformTo(j.type.toLowerCase(),z);case"blob":return N.arrayBuffer2Blob(N.transformTo("arraybuffer",z),j.mimeType);case"base64":return(j.base64)?ai.encode(z):z;default:return z}},crc32:function(l,j){return ae(l,j)},utf8encode:function(j){return N.transformTo("string",ag.utf8encode(j))},utf8decode:function(j){return ag.utf8decode(j)}};ah.exports=a},{"./base64":1,"./compressedObject":2,"./compressions":3,"./crc32":4,"./defaults":6,"./nodeBuffer":11,"./signature":14,"./stringWriter":16,"./support":17,"./uint8ArrayWriter":19,"./utf8":20,"./utils":21}],14:[function(a,b,c){c.LOCAL_FILE_HEADER="PK\x03\x04";c.CENTRAL_FILE_HEADER="PK\x01\x02";c.CENTRAL_DIRECTORY_END="PK\x05\x06";c.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07";c.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06";c.DATA_DESCRIPTOR="PK\x07\x08"},{}],15:[function(c,d,l){var a=c("./dataReader");var m=c("./utils");function b(j,n){this.data=j;if(!n){this.data=m.string2binary(this.data)}this.length=this.data.length;this.index=0}b.prototype=new a();b.prototype.byteAt=function(j){return this.data.charCodeAt(j)};b.prototype.lastIndexOfSignature=function(j){return this.data.lastIndexOf(j)};b.prototype.readData=function(j){this.checkOffset(j);var n=this.data.slice(this.index,this.index+j);this.index+=j;return n};d.exports=b},{"./dataReader":5,"./utils":21}],16:[function(a,b,d){var j=a("./utils");var c=function(){this.data=[]};c.prototype={append:function(l){l=j.transformTo("string",l);this.data.push(l)},finalize:function(){return this.data.join("")}};b.exports=c},{"./utils":21}],17:[function(a,b,c){(function(d){c.base64=true;c.array=true;c.string=true;c.arraybuffer=typeof ArrayBuffer!=="undefined"&&typeof Uint8Array!=="undefined";c.nodebuffer=typeof d!=="undefined";c.uint8array=typeof Uint8Array!=="undefined";if(typeof ArrayBuffer==="undefined"){c.blob=false}else{var q=new ArrayBuffer(0);try{c.blob=new Blob([q],{type:"application/zip"}).size===0}catch(n){try{var m=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;var p=new m();p.append(q);c.blob=p.getBlob("application/zip").size===0}catch(n){c.blob=false}}}}).call(this,(typeof Buffer!=="undefined"?Buffer:undefined))},{}],18:[function(b,c,d){var a=b("./dataReader");function j(l){if(l){this.data=l;this.length=this.data.length;this.index=0}}j.prototype=new a();j.prototype.byteAt=function(l){return this.data[l]};j.prototype.lastIndexOfSignature=function(t){var u=t.charCodeAt(0),p=t.charCodeAt(1),q=t.charCodeAt(2),r=t.charCodeAt(3);for(var s=this.length-4;s>=0;--s){if(this.data[s]===u&&this.data[s+1]===p&&this.data[s+2]===q&&this.data[s+3]===r){return s}}return -1};j.prototype.readData=function(l){this.checkOffset(l);if(l===0){return new Uint8Array(0)}var m=this.data.subarray(this.index,this.index+l);this.index+=l;return m};c.exports=j},{"./dataReader":5}],19:[function(b,c,d){var j=b("./utils");var a=function(l){this.data=new Uint8Array(l);this.index=0};a.prototype={append:function(l){if(l.length!==0){l=j.transformTo("uint8array",l);this.data.set(l,this.index);this.index+=l.length}},finalize:function(){return this.data}};c.exports=a},{"./utils":21}],20:[function(A,z,v){var c=A("./utils");var b=A("./support");var s=A("./nodeBuffer");var w=new Array(256);for(var u=0;u<256;u++){w[u]=(u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1)}w[254]=w[254]=1;var a=function(B){var q,r,n,m,p,j=B.length,l=0;for(m=0;m<j;m++){r=B.charCodeAt(m);if((r&64512)===55296&&(m+1<j)){n=B.charCodeAt(m+1);if((n&64512)===56320){r=65536+((r-55296)<<10)+(n-56320);m++}}l+=r<128?1:r<2048?2:r<65536?3:4}if(b.uint8array){q=new Uint8Array(l)}else{q=new Array(l)}for(p=0,m=0;p<l;m++){r=B.charCodeAt(m);if((r&64512)===55296&&(m+1<j)){n=B.charCodeAt(m+1);if((n&64512)===56320){r=65536+((r-55296)<<10)+(n-56320);m++}}if(r<128){q[p++]=r}else{if(r<2048){q[p++]=192|(r>>>6);q[p++]=128|(r&63)}else{if(r<65536){q[p++]=224|(r>>>12);q[p++]=128|(r>>>6&63);q[p++]=128|(r&63)}else{q[p++]=240|(r>>>18);q[p++]=128|(r>>>12&63);q[p++]=128|(r>>>6&63);q[p++]=128|(r&63)}}}}return q};var t=function(m,l){var j;l=l||m.length;if(l>m.length){l=m.length}j=l-1;while(j>=0&&(m[j]&192)===128){j--}if(j<0){return l}if(j===0){return l}return(j+w[m[j]]>l)?j:l};var x=function(l){var B,j,m,r,n;var p=l.length;var q=new Array(p*2);for(m=0,j=0;j<p;){r=l[j++];if(r<128){q[m++]=r;continue}n=w[r];if(n>4){q[m++]=65533;j+=n-1;continue}r&=n===2?31:n===3?15:7;while(n>1&&j<p){r=(r<<6)|(l[j++]&63);n--}if(n>1){q[m++]=65533;continue}if(r<65536){q[m++]=r}else{r-=65536;q[m++]=55296|((r>>10)&1023);q[m++]=56320|(r&1023)}}if(q.length!==m){if(q.subarray){q=q.subarray(0,m)}else{q.length=m}}return c.applyFromCharCode(q)};v.utf8encode=function d(j){if(b.nodebuffer){return s(j,"utf-8")}return a(j)};v.utf8decode=function y(l){if(b.nodebuffer){return c.transformTo("nodebuffer",l).toString("utf-8")}l=c.transformTo(b.uint8array?"uint8array":"array",l);var q=[],p=0,n=l.length,m=65536;while(p<n){var j=t(l,Math.min(p+m,n));if(b.uint8array){q.push(x(l.subarray(p,j)))}else{q.push(x(l.slice(p,j)))}p=j}return q.join("")}},{"./nodeBuffer":11,"./support":17,"./utils":21}],21:[function(v,u,s){var c=v("./support");var d=v("./compressions");var q=v("./nodeBuffer");s.string2binary=function(j){var m="";for(var l=0;l<j.length;l++){m+=String.fromCharCode(j.charCodeAt(l)&255)}return m};s.arrayBuffer2Blob=function(w,j){s.checkSupport("blob");j=j||"application/zip";try{return new Blob([w],{type:j})}catch(m){try{var l=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;var n=new l();n.append(w);return n.getBlob(j)}catch(m){throw new Error("Bug : can't construct the Blob.")}}};function p(j){return j}function a(l,j){for(var m=0;m<l.length;++m){j[m]=l.charCodeAt(m)&255}return j}function b(D){var z=65536;var n=[],E=D.length,A=s.getTypeOf(D),l=0,m=true;try{switch(A){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,q(0));break}}catch(C){m=false}if(!m){var B="";for(var j=0;j<D.length;j++){B+=String.fromCharCode(D[j])}return B}while(l<E&&z>1){try{if(A==="array"||A==="nodebuffer"){n.push(String.fromCharCode.apply(null,D.slice(l,Math.min(l+z,E))))}else{n.push(String.fromCharCode.apply(null,D.subarray(l,Math.min(l+z,E))))}l+=z}catch(C){z=Math.floor(z/2)}}return n.join("")}s.applyFromCharCode=b;function r(l,j){for(var m=0;m<l.length;m++){j[m]=l[m]}return j}var t={};t.string={string:p,array:function(j){return a(j,new Array(j.length))},arraybuffer:function(j){return t.string.uint8array(j).buffer},uint8array:function(j){return a(j,new Uint8Array(j.length))},nodebuffer:function(j){return a(j,q(j.length))}};t.array={string:b,array:p,arraybuffer:function(j){return(new Uint8Array(j)).buffer},uint8array:function(j){return new Uint8Array(j)},nodebuffer:function(j){return q(j)}};t.arraybuffer={string:function(j){return b(new Uint8Array(j))},array:function(j){return r(new Uint8Array(j),new Array(j.byteLength))},arraybuffer:p,uint8array:function(j){return new Uint8Array(j)},nodebuffer:function(j){return q(new Uint8Array(j))}};t.uint8array={string:b,array:function(j){return r(j,new Array(j.length))},arraybuffer:function(j){return j.buffer},uint8array:p,nodebuffer:function(j){return q(j)}};t.nodebuffer={string:b,array:function(j){return r(j,new Array(j.length))},arraybuffer:function(j){return t.nodebuffer.uint8array(j).buffer},uint8array:function(j){return r(j,new Uint8Array(j.length))},nodebuffer:p};s.transformTo=function(j,m){if(!m){m=""}if(!j){return m}s.checkSupport(j);var l=s.getTypeOf(m);var n=t[l][j](m);return n};s.getTypeOf=function(j){if(typeof j==="string"){return"string"}if(Object.prototype.toString.call(j)==="[object Array]"){return"array"}if(c.nodebuffer&&q.test(j)){return"nodebuffer"}if(c.uint8array&&j instanceof Uint8Array){return"uint8array"}if(c.arraybuffer&&j instanceof ArrayBuffer){return"arraybuffer"}};s.checkSupport=function(j){var l=c[j.toLowerCase()];if(!l){throw new Error(j+" is not supported by this browser")}};s.MAX_VALUE_16BITS=65535;s.MAX_VALUE_32BITS=-1;s.pretty=function(j){var m="",l,n;for(n=0;n<(j||"").length;n++){l=j.charCodeAt(n);m+="\\x"+(l<16?"0":"")+l.toString(16).toUpperCase()}return m};s.findCompression=function(l){for(var j in d){if(!d.hasOwnProperty(j)){continue}if(d[j].magic===l){return d[j]}}return null};s.isRegExp=function(j){return Object.prototype.toString.call(j)==="[object RegExp]"}},{"./compressions":3,"./nodeBuffer":11,"./support":17}],22:[function(w,v,s){var u=w("./stringReader");var x=w("./nodeBufferReader");var q=w("./uint8ArrayReader");var d=w("./utils");var a=w("./signature");var r=w("./zipEntry");var c=w("./support");var b=w("./object");function t(j,l){this.files=[];this.loadOptions=l;if(j){this.load(j)}}t.prototype={checkSignature:function(j){var l=this.reader.readString(4);if(l!==j){throw new Error("Corrupted zip or bug : unexpected signature ("+d.pretty(l)+", expected "+d.pretty(j)+")")}},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2);this.diskWithCentralDirStart=this.reader.readInt(2);this.centralDirRecordsOnThisDisk=this.reader.readInt(2);this.centralDirRecords=this.reader.readInt(2);this.centralDirSize=this.reader.readInt(4);this.centralDirOffset=this.reader.readInt(4);this.zipCommentLength=this.reader.readInt(2);this.zipComment=this.reader.readString(this.zipCommentLength);this.zipComment=b.utf8decode(this.zipComment)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8);this.versionMadeBy=this.reader.readString(2);this.versionNeeded=this.reader.readInt(2);this.diskNumber=this.reader.readInt(4);this.diskWithCentralDirStart=this.reader.readInt(4);this.centralDirRecordsOnThisDisk=this.reader.readInt(8);this.centralDirRecords=this.reader.readInt(8);this.centralDirSize=this.reader.readInt(8);this.centralDirOffset=this.reader.readInt(8);this.zip64ExtensibleData={};var j=this.zip64EndOfCentralSize-44,n=0,m,l,p;while(n<j){m=this.reader.readInt(2);l=this.reader.readInt(4);p=this.reader.readString(l);this.zip64ExtensibleData[m]={id:m,length:l,value:p}}},readBlockZip64EndOfCentralLocator:function(){this.diskWithZip64CentralDirStart=this.reader.readInt(4);this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8);this.disksCount=this.reader.readInt(4);if(this.disksCount>1){throw new Error("Multi-volumes zip are not supported")}},readLocalFiles:function(){var j,l;for(j=0;j<this.files.length;j++){l=this.files[j];this.reader.setIndex(l.localHeaderOffset);this.checkSignature(a.LOCAL_FILE_HEADER);l.readLocalPart(this.reader);l.handleUTF8();l.processAttributes()}},readCentralDir:function(){var j;this.reader.setIndex(this.centralDirOffset);while(this.reader.readString(4)===a.CENTRAL_FILE_HEADER){j=new r({zip64:this.zip64},this.loadOptions);j.readCentralPart(this.reader);this.files.push(j)}},readEndOfCentral:function(){var j=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(j===-1){var l=true;try{this.reader.setIndex(0);this.checkSignature(a.LOCAL_FILE_HEADER);l=false}catch(m){}if(l){throw new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html")}else{throw new Error("Corrupted zip : can't find end of central directory")}}this.reader.setIndex(j);this.checkSignature(a.CENTRAL_DIRECTORY_END);this.readBlockEndOfCentral();if(this.diskNumber===d.MAX_VALUE_16BITS||this.diskWithCentralDirStart===d.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===d.MAX_VALUE_16BITS||this.centralDirRecords===d.MAX_VALUE_16BITS||this.centralDirSize===d.MAX_VALUE_32BITS||this.centralDirOffset===d.MAX_VALUE_32BITS){this.zip64=true;j=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR);if(j===-1){throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator")}this.reader.setIndex(j);this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR);this.readBlockZip64EndOfCentralLocator();this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir);this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END);this.readBlockZip64EndOfCentral()}},prepareReader:function(j){var l=d.getTypeOf(j);if(l==="string"&&!c.uint8array){this.reader=new u(j,this.loadOptions.optimizedBinaryString)}else{if(l==="nodebuffer"){this.reader=new x(j)}else{this.reader=new q(d.transformTo("uint8array",j))}}},load:function(j){this.prepareReader(j);this.readEndOfCentral();this.readCentralDir();this.readLocalFiles()}};v.exports=t},{"./nodeBufferReader":12,"./object":13,"./signature":14,"./stringReader":15,"./support":17,"./uint8ArrayReader":18,"./utils":21,"./zipEntry":23}],23:[function(u,t,q){var r=u("./stringReader");var b=u("./utils");var d=u("./compressedObject");var a=u("./object");var p=0;var s=3;function c(l,j){this.options=l;this.loadOptions=j}c.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},prepareCompressedContent:function(m,j,l){return function(){var n=m.index;m.setIndex(j);var v=m.readData(l);m.setIndex(n);return v}},prepareContent:function(v,j,l,m,n){return function(){var x=b.transformTo(m.uncompressInputType,this.getCompressedContent());var w=m.uncompress(x);if(w.length!==n){throw new Error("Bug : uncompressed data size mismatch")}return w}},readLocalPart:function(m){var l,j;m.skip(22);this.fileNameLength=m.readInt(2);j=m.readInt(2);this.fileName=m.readString(this.fileNameLength);m.skip(j);if(this.compressedSize==-1||this.uncompressedSize==-1){throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)")}l=b.findCompression(this.compressionMethod);if(l===null){throw new Error("Corrupted zip : compression "+b.pretty(this.compressionMethod)+" unknown (inner file : "+this.fileName+")")}this.decompressed=new d();this.decompressed.compressedSize=this.compressedSize;this.decompressed.uncompressedSize=this.uncompressedSize;this.decompressed.crc32=this.crc32;this.decompressed.compressionMethod=this.compressionMethod;this.decompressed.getCompressedContent=this.prepareCompressedContent(m,m.index,this.compressedSize,l);this.decompressed.getContent=this.prepareContent(m,m.index,this.compressedSize,l,this.uncompressedSize);if(this.loadOptions.checkCRC32){this.decompressed=b.transformTo("string",this.decompressed.getContent());if(a.crc32(this.decompressed)!==this.crc32){throw new Error("Corrupted zip : CRC32 mismatch")}}},readCentralPart:function(j){this.versionMadeBy=j.readInt(2);this.versionNeeded=j.readInt(2);this.bitFlag=j.readInt(2);this.compressionMethod=j.readString(2);this.date=j.readDate();this.crc32=j.readInt(4);this.compressedSize=j.readInt(4);this.uncompressedSize=j.readInt(4);this.fileNameLength=j.readInt(2);this.extraFieldsLength=j.readInt(2);this.fileCommentLength=j.readInt(2);this.diskNumberStart=j.readInt(2);this.internalFileAttributes=j.readInt(2);this.externalFileAttributes=j.readInt(4);this.localHeaderOffset=j.readInt(4);if(this.isEncrypted()){throw new Error("Encrypted zip are not supported")}this.fileName=j.readString(this.fileNameLength);this.readExtraFields(j);this.parseZIP64ExtraField(j);this.fileComment=j.readString(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null;this.dosPermissions=null;var j=this.versionMadeBy>>8;this.dir=this.externalFileAttributes&16?true:false;if(j===p){this.dosPermissions=this.externalFileAttributes&63}if(j===s){this.unixPermissions=(this.externalFileAttributes>>16)&65535}if(!this.dir&&this.fileName.slice(-1)==="/"){this.dir=true}},parseZIP64ExtraField:function(l){if(!this.extraFields[1]){return}var j=new r(this.extraFields[1].value);if(this.uncompressedSize===b.MAX_VALUE_32BITS){this.uncompressedSize=j.readInt(8)}if(this.compressedSize===b.MAX_VALUE_32BITS){this.compressedSize=j.readInt(8)}if(this.localHeaderOffset===b.MAX_VALUE_32BITS){this.localHeaderOffset=j.readInt(8)}if(this.diskNumberStart===b.MAX_VALUE_32BITS){this.diskNumberStart=j.readInt(4)}},readExtraFields:function(n){var j=n.index,m,l,v;this.extraFields=this.extraFields||{};while(n.index<j+this.extraFieldsLength){m=n.readInt(2);l=n.readInt(2);v=n.readString(l);this.extraFields[m]={id:m,length:l,value:v}}},handleUTF8:function(){if(this.useUTF8()){this.fileName=a.utf8decode(this.fileName);this.fileComment=a.utf8decode(this.fileComment)}else{var l=this.findExtraFieldUnicodePath();if(l!==null){this.fileName=l}var j=this.findExtraFieldUnicodeComment();if(j!==null){this.fileComment=j}}},findExtraFieldUnicodePath:function(){var j=this.extraFields[28789];if(j){var l=new r(j.value);if(l.readInt(1)!==1){return null}if(a.crc32(this.fileName)!==l.readInt(4)){return null}return a.utf8decode(l.readString(j.length-5))}return null},findExtraFieldUnicodeComment:function(){var j=this.extraFields[25461];if(j){var l=new r(j.value);if(l.readInt(1)!==1){return null}if(a.crc32(this.fileComment)!==l.readInt(4)){return null}return a.utf8decode(l.readString(j.length-5))}return null}};t.exports=c},{"./compressedObject":2,"./object":13,"./stringReader":15,"./utils":21}],24:[function(b,d,p){var q=b("./lib/utils/common").assign;var m=b("./lib/deflate");var a=b("./lib/inflate");var n=b("./lib/zlib/constants");var c={};q(c,m,a,n);d.exports=c},{"./lib/deflate":25,"./lib/inflate":26,"./lib/utils/common":27,"./lib/zlib/constants":30}],25:[function(H,L,c){var A=H("./zlib/deflate.js");var d=H("./utils/common");var G=H("./utils/strings");var E=H("./zlib/messages");var x=H("./zlib/zstream");var z=0;var a=4;var F=0;var C=1;var K=-1;var J=0;var B=8;var b=function(m){this.options=d.assign({level:K,method:B,chunkSize:16384,windowBits:15,memLevel:8,strategy:J,to:""},m||{});var l=this.options;if(l.raw&&(l.windowBits>0)){l.windowBits=-l.windowBits}else{if(l.gzip&&(l.windowBits>0)&&(l.windowBits<16)){l.windowBits+=16}}this.err=0;this.msg="";this.ended=false;this.chunks=[];this.strm=new x();this.strm.avail_out=0;var j=A.deflateInit2(this.strm,l.level,l.method,l.windowBits,l.memLevel,l.strategy);if(j!==F){throw new Error(E[j])}if(l.header){A.deflateSetHeader(this.strm,l.header)}};b.prototype.push=function(l,q){var p=this.strm;var n=this.options.chunkSize;var j,m;if(this.ended){return false}m=(q===~~q)?q:((q===true)?a:z);if(typeof l==="string"){p.input=G.string2buf(l)}else{p.input=l}p.next_in=0;p.avail_in=p.input.length;do{if(p.avail_out===0){p.output=new d.Buf8(n);p.next_out=0;p.avail_out=n}j=A.deflate(p,m);if(j!==C&&j!==F){this.onEnd(j);this.ended=true;return false}if(p.avail_out===0||(p.avail_in===0&&m===a)){if(this.options.to==="string"){this.onData(G.buf2binstring(d.shrinkBuf(p.output,p.next_out)))}else{this.onData(d.shrinkBuf(p.output,p.next_out))}}}while((p.avail_in>0||p.avail_out===0)&&j!==C);if(m===a){j=A.deflateEnd(this.strm);this.onEnd(j);this.ended=true;return j===F}return true};b.prototype.onData=function(j){this.chunks.push(j)};b.prototype.onEnd=function(j){if(j===F){if(this.options.to==="string"){this.result=this.chunks.join("")}else{this.result=d.flattenChunks(this.chunks)}}this.chunks=[];this.err=j;this.msg=this.strm.msg};function D(j,m){var l=new b(m);l.push(j,true);if(l.err){throw l.msg}return l.result}function y(j,l){l=l||{};l.raw=true;return D(j,l)}function I(j,l){l=l||{};l.gzip=true;return D(j,l)}c.Deflate=b;c.deflate=D;c.deflateRaw=y;c.gzip=I},{"./utils/common":27,"./utils/strings":28,"./zlib/deflate.js":32,"./zlib/messages":37,"./zlib/zstream":39}],26:[function(x,w,s){var z=x("./zlib/inflate.js");var c=x("./utils/common");var b=x("./utils/strings");var d=x("./zlib/constants");var u=x("./zlib/messages");var t=x("./zlib/zstream");var y=x("./zlib/gzheader");var r=function(l){this.options=c.assign({chunkSize:16384,windowBits:0,to:""},l||{});var j=this.options;if(j.raw&&(j.windowBits>=0)&&(j.windowBits<16)){j.windowBits=-j.windowBits;if(j.windowBits===0){j.windowBits=-15}}if((j.windowBits>=0)&&(j.windowBits<16)&&!(l&&l.windowBits)){j.windowBits+=32}if((j.windowBits>15)&&(j.windowBits<48)){if((j.windowBits&15)===0){j.windowBits|=15}}this.err=0;this.msg="";this.ended=false;this.chunks=[];this.strm=new t();this.strm.avail_out=0;var m=z.inflateInit2(this.strm,j.windowBits);if(m!==d.Z_OK){throw new Error(u[m])}this.header=new y();z.inflateGetHeader(this.strm,this.header)};r.prototype.push=function(p,n){var l=this.strm;var A=this.options.chunkSize;var q,B;var C,m,j;if(this.ended){return false}B=(n===~~n)?n:((n===true)?d.Z_FINISH:d.Z_NO_FLUSH);if(typeof p==="string"){l.input=b.binstring2buf(p)}else{l.input=p}l.next_in=0;l.avail_in=l.input.length;do{if(l.avail_out===0){l.output=new c.Buf8(A);l.next_out=0;l.avail_out=A}q=z.inflate(l,d.Z_NO_FLUSH);if(q!==d.Z_STREAM_END&&q!==d.Z_OK){this.onEnd(q);this.ended=true;return false}if(l.next_out){if(l.avail_out===0||q===d.Z_STREAM_END||(l.avail_in===0&&B===d.Z_FINISH)){if(this.options.to==="string"){C=b.utf8border(l.output,l.next_out);m=l.next_out-C;j=b.buf2string(l.output,C);l.next_out=m;l.avail_out=A-m;if(m){c.arraySet(l.output,l.output,C,m,0)}this.onData(j)}else{this.onData(c.shrinkBuf(l.output,l.next_out))}}}}while((l.avail_in>0)&&q!==d.Z_STREAM_END);if(q===d.Z_STREAM_END){B=d.Z_FINISH}if(B===d.Z_FINISH){q=z.inflateEnd(this.strm);this.onEnd(q);this.ended=true;return q===d.Z_OK}return true};r.prototype.onData=function(j){this.chunks.push(j)};r.prototype.onEnd=function(j){if(j===d.Z_OK){if(this.options.to==="string"){this.result=this.chunks.join("")}else{this.result=c.flattenChunks(this.chunks)}}this.chunks=[];this.err=j;this.msg=this.strm.msg};function a(m,l){var j=new r(l);j.push(m,true);if(j.err){throw j.msg}return j.result}function v(l,j){j=j||{};j.raw=true;return a(l,j)}s.Inflate=r;s.inflate=a;s.inflateRaw=v;s.ungzip=a},{"./utils/common":27,"./utils/strings":28,"./zlib/constants":30,"./zlib/gzheader":33,"./zlib/inflate.js":35,"./zlib/messages":37,"./zlib/zstream":39}],27:[function(d,l,m){var a=(typeof Uint8Array!=="undefined")&&(typeof Uint16Array!=="undefined")&&(typeof Int32Array!=="undefined");m.assign=function(r){var q=Array.prototype.slice.call(arguments,1);while(q.length){var p=q.shift();if(!p){continue}if(typeof(p)!=="object"){throw new TypeError(p+"must be non-object")}for(var j in p){if(p.hasOwnProperty(j)){r[j]=p[j]}}}return r};m.shrinkBuf=function(n,j){if(n.length===j){return n}if(n.subarray){return n.subarray(0,j)}n.length=j;return n};var c={arraySet:function(q,u,s,r,t){if(u.subarray&&q.subarray){q.set(u.subarray(s,s+r),t);return}for(var j=0;j<r;j++){q[t+j]=u[s+j]}},flattenChunks:function(t){var v,x,j,u,w,s;j=0;for(v=0,x=t.length;v<x;v++){j+=t[v].length}s=new Uint8Array(j);u=0;for(v=0,x=t.length;v<x;v++){w=t[v];s.set(w,u);u+=w.length}return s}};var b={arraySet:function(q,u,s,r,t){for(var j=0;j<r;j++){q[t+j]=u[s+j]}},flattenChunks:function(j){return[].concat.apply([],j)}};m.setTyped=function(j){if(j){m.Buf8=Uint8Array;m.Buf16=Uint16Array;m.Buf32=Int32Array;m.assign(m,c)}else{m.Buf8=Array;m.Buf16=Array;m.Buf32=Array;m.assign(m,b)}};m.setTyped(a)},{}],28:[function(u,t,r){var a=u("./common");var c=true;var p=true;try{String.fromCharCode.apply(null,[0])}catch(b){c=false}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(b){p=false}var s=new a.Buf8(256);for(var q=0;q<256;q++){s[q]=(q>=252?6:q>=248?5:q>=240?4:q>=224?3:q>=192?2:1)}s[254]=s[254]=1;r.string2buf=function(l){var A,j,y,x,z,m=l.length,n=0;for(x=0;x<m;x++){j=l.charCodeAt(x);if((j&64512)===55296&&(x+1<m)){y=l.charCodeAt(x+1);if((y&64512)===56320){j=65536+((j-55296)<<10)+(y-56320);x++}}n+=j<128?1:j<2048?2:j<65536?3:4}A=new a.Buf8(n);for(z=0,x=0;z<n;x++){j=l.charCodeAt(x);if((j&64512)===55296&&(x+1<m)){y=l.charCodeAt(x+1);if((y&64512)===56320){j=65536+((j-55296)<<10)+(y-56320);x++}}if(j<128){A[z++]=j}else{if(j<2048){A[z++]=192|(j>>>6);A[z++]=128|(j&63)}else{if(j<65536){A[z++]=224|(j>>>12);A[z++]=128|(j>>>6&63);A[z++]=128|(j&63)}else{A[z++]=240|(j>>>18);A[z++]=128|(j>>>12&63);A[z++]=128|(j>>>6&63);A[z++]=128|(j&63)}}}}return A};function d(l,m){if(m<65537){if((l.subarray&&p)||(!l.subarray&&c)){return String.fromCharCode.apply(null,a.shrinkBuf(l,m))}}var n="";for(var j=0;j<m;j++){n+=String.fromCharCode(l[j])}return n}r.buf2binstring=function(j){return d(j,j.length)};r.binstring2buf=function(j){var m=new a.Buf8(j.length);for(var l=0,n=m.length;l<n;l++){m[l]=j.charCodeAt(l)}return m};r.buf2string=function(m,y){var l,n,j,x;var z=y||m.length;var A=new Array(z*2);for(n=0,l=0;l<z;){j=m[l++];if(j<128){A[n++]=j;continue}x=s[j];if(x>4){A[n++]=65533;l+=x-1;continue}j&=x===2?31:x===3?15:7;while(x>1&&l<z){j=(j<<6)|(m[l++]&63);x--}if(x>1){A[n++]=65533;continue}if(j<65536){A[n++]=j}else{j-=65536;A[n++]=55296|((j>>10)&1023);A[n++]=56320|(j&1023)}}return d(A,n)};r.utf8border=function(m,j){var l;j=j||m.length;if(j>m.length){j=m.length}l=j-1;while(l>=0&&(m[l]&192)===128){l--}if(l<0){return j}if(l===0){return j}return(l+s[m[l]]>j)?l:j}},{"./common":27}],29:[function(a,c,d){function b(q,r,t,u){var n=(q&65535)|0,s=((q>>>16)&65535)|0,v=0;while(t!==0){v=t>2000?2000:t;t-=v;do{n=(n+r[u++])|0;s=(s+n)|0}while(--v);n%=65521;s%=65521}return(n|(s<<16))|0}c.exports=b},{}],30:[function(a,b,c){b.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],31:[function(a,d,l){function c(){var q,j=[];for(var r=0;r<256;r++){q=r;for(var n=0;n<8;n++){q=((q&1)?(3988292384^(q>>>1)):(q>>>1))}j[r]=q}return j}var m=c();function b(u,j,s,t){var v=m,r=t+s;u=u^(-1);for(var w=t;w<r;w++){u=(u>>>8)^v[(u^j[w])&255]}return(u^(-1))}d.exports=b},{}],32:[function(a2,bO,bb){var a4=a2("../utils/common");var bQ=a2("./trees");var bc=a2("./adler32");var bL=a2("./crc32");var bl=a2("./messages");var a9=0;var aX=1;var br=3;var aN=4;var a3=5;var aH=0;var c=1;var bw=-2;var d=-3;var aS=-5;var aQ=-1;var a8=1;var bo=2;var a=3;var aG=4;var bp=0;var bd=2;var aY=8;var bn=9;var a6=15;var aL=8;var bA=29;var bf=256;var bP=bf+1+bA;var bq=30;var bF=19;var by=2*bP+1;var a5=15;var bg=3;var bv=258;var aU=(bv+bg+1);var aP=32;var a0=42;var aJ=69;var bK=73;var bz=91;var aI=103;var bM=113;var bs=666;var bx=1;var aF=2;var a1=3;var aT=4;var bu=3;function bE(l,j){l.msg=bl[j];return j}function a7(j){return((j)<<1)-((j)>4?9:0)}function bh(j){var l=j.length;while(--l>=0){j[l]=0}}function aR(l){var j=l.state;var m=j.pending;if(m>l.avail_out){m=l.avail_out}if(m===0){return}a4.arraySet(l.output,j.pending_buf,j.pending_out,m,l.next_out);l.next_out+=m;j.pending_out+=m;l.total_out+=m;l.avail_out-=m;j.pending-=m;if(j.pending===0){j.pending_out=0}}function aO(l,j){bQ._tr_flush_block(l,(l.block_start>=0?l.block_start:-1),l.strstart-l.block_start,j);l.block_start=l.strstart;aR(l.strm)}function aV(j,l){j.pending_buf[j.pending++]=l}function bt(j,l){j.pending_buf[j.pending++]=(l>>>8)&255;j.pending_buf[j.pending++]=l&255}function bm(l,j,n,p){var m=l.avail_in;if(m>p){m=p}if(m===0){return 0}l.avail_in-=m;a4.arraySet(j,l.input,l.next_in,m,n);if(l.state.wrap===1){l.adler=bc(l.adler,j,m,n)}else{if(l.state.wrap===2){l.adler=bL(l.adler,j,m,n)}}l.next_in+=m;l.total_in+=m;return m}function bj(r,j){var x=r.max_chain_length;var q=r.strstart;var z;var y;var p=r.prev_length;var n=r.nice_match;var l=(r.strstart>(r.w_size-aU))?r.strstart-(r.w_size-aU):0;var t=r.window;var w=r.w_mask;var m=r.prev;var u=r.strstart+bv;var s=t[q+p-1];var v=t[q+p];if(r.prev_length>=r.good_match){x>>=2}if(n>r.lookahead){n=r.lookahead}do{z=j;if(t[z+p]!==v||t[z+p-1]!==s||t[z]!==t[q]||t[++z]!==t[q+1]){continue}q+=2;z++;do{}while(t[++q]===t[++z]&&t[++q]===t[++z]&&t[++q]===t[++z]&&t[++q]===t[++z]&&t[++q]===t[++z]&&t[++q]===t[++z]&&t[++q]===t[++z]&&t[++q]===t[++z]&&q<u);y=bv-(u-q);q=u-bv;if(y>p){r.match_start=j;p=y;if(y>=n){break}s=t[q+p-1];v=t[q+p]}}while((j=m[j&w])>l&&--x!==0);if(p<=r.lookahead){return p}return r.lookahead}function bB(j){var n=j.w_size;var r,p,m,l,q;do{l=j.window_size-j.lookahead-j.strstart;if(j.strstart>=n+(n-aU)){a4.arraySet(j.window,j.window,n,n,0);j.match_start-=n;j.strstart-=n;j.block_start-=n;p=j.hash_size;r=p;do{m=j.head[--r];j.head[r]=(m>=n?m-n:0)}while(--p);p=n;r=p;do{m=j.prev[--r];j.prev[r]=(m>=n?m-n:0)}while(--p);l+=n}if(j.strm.avail_in===0){break}p=bm(j.strm,j.window,j.strstart+j.lookahead,l);j.lookahead+=p;if(j.lookahead+j.insert>=bg){q=j.strstart-j.insert;j.ins_h=j.window[q];j.ins_h=((j.ins_h<<j.hash_shift)^j.window[q+1])&j.hash_mask;while(j.insert){j.ins_h=((j.ins_h<<j.hash_shift)^j.window[q+bg-1])&j.hash_mask;j.prev[q&j.w_mask]=j.head[j.ins_h];j.head[j.ins_h]=q;q++;j.insert--;if(j.lookahead+j.insert<bg){break}}}}while(j.lookahead<aU&&j.strm.avail_in!==0)}function ba(n,m){var j=65535;if(j>n.pending_buf_size-5){j=n.pending_buf_size-5}for(;;){if(n.lookahead<=1){bB(n);if(n.lookahead===0&&m===a9){return bx}if(n.lookahead===0){break}}n.strstart+=n.lookahead;n.lookahead=0;var l=n.block_start+j;if(n.strstart===0||n.strstart>=l){n.lookahead=n.strstart-l;n.strstart=l;aO(n,false);if(n.strm.avail_out===0){return bx}}if(n.strstart-n.block_start>=(n.w_size-aU)){aO(n,false);if(n.strm.avail_out===0){return bx}}}n.insert=0;if(m===aN){aO(n,true);if(n.strm.avail_out===0){return a1}return aT}if(n.strstart>n.block_start){aO(n,false);if(n.strm.avail_out===0){return bx}}return bx}function aM(j,m){var n;var l;for(;;){if(j.lookahead<aU){bB(j);if(j.lookahead<aU&&m===a9){return bx}if(j.lookahead===0){break}}n=0;if(j.lookahead>=bg){j.ins_h=((j.ins_h<<j.hash_shift)^j.window[j.strstart+bg-1])&j.hash_mask;n=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h];j.head[j.ins_h]=j.strstart}if(n!==0&&((j.strstart-n)<=(j.w_size-aU))){j.match_length=bj(j,n)}if(j.match_length>=bg){l=bQ._tr_tally(j,j.strstart-j.match_start,j.match_length-bg);j.lookahead-=j.match_length;if(j.match_length<=j.max_lazy_match&&j.lookahead>=bg){j.match_length--;do{j.strstart++;j.ins_h=((j.ins_h<<j.hash_shift)^j.window[j.strstart+bg-1])&j.hash_mask;n=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h];j.head[j.ins_h]=j.strstart}while(--j.match_length!==0);j.strstart++}else{j.strstart+=j.match_length;j.match_length=0;j.ins_h=j.window[j.strstart];j.ins_h=((j.ins_h<<j.hash_shift)^j.window[j.strstart+1])&j.hash_mask}}else{l=bQ._tr_tally(j,0,j.window[j.strstart]);j.lookahead--;j.strstart++}if(l){aO(j,false);if(j.strm.avail_out===0){return bx}}}j.insert=((j.strstart<(bg-1))?j.strstart:bg-1);if(m===aN){aO(j,true);if(j.strm.avail_out===0){return a1}return aT}if(j.last_lit){aO(j,false);if(j.strm.avail_out===0){return bx}}return aF}function bD(p,l){var n;var j;var m;for(;;){if(p.lookahead<aU){bB(p);if(p.lookahead<aU&&l===a9){return bx}if(p.lookahead===0){break}}n=0;if(p.lookahead>=bg){p.ins_h=((p.ins_h<<p.hash_shift)^p.window[p.strstart+bg-1])&p.hash_mask;n=p.prev[p.strstart&p.w_mask]=p.head[p.ins_h];p.head[p.ins_h]=p.strstart}p.prev_length=p.match_length;p.prev_match=p.match_start;p.match_length=bg-1;if(n!==0&&p.prev_length<p.max_lazy_match&&p.strstart-n<=(p.w_size-aU)){p.match_length=bj(p,n);if(p.match_length<=5&&(p.strategy===a8||(p.match_length===bg&&p.strstart-p.match_start>4096))){p.match_length=bg-1}}if(p.prev_length>=bg&&p.match_length<=p.prev_length){m=p.strstart+p.lookahead-bg;j=bQ._tr_tally(p,p.strstart-1-p.prev_match,p.prev_length-bg);p.lookahead-=p.prev_length-1;p.prev_length-=2;do{if(++p.strstart<=m){p.ins_h=((p.ins_h<<p.hash_shift)^p.window[p.strstart+bg-1])&p.hash_mask;n=p.prev[p.strstart&p.w_mask]=p.head[p.ins_h];p.head[p.ins_h]=p.strstart}}while(--p.prev_length!==0);p.match_available=0;p.match_length=bg-1;p.strstart++;if(j){aO(p,false);if(p.strm.avail_out===0){return bx}}}else{if(p.match_available){j=bQ._tr_tally(p,0,p.window[p.strstart-1]);if(j){aO(p,false)}p.strstart++;p.lookahead--;if(p.strm.avail_out===0){return bx}}else{p.match_available=1;p.strstart++;p.lookahead--}}}if(p.match_available){j=bQ._tr_tally(p,0,p.window[p.strstart-1]);p.match_available=0}p.insert=p.strstart<bg-1?p.strstart:bg-1;if(l===aN){aO(p,true);if(p.strm.avail_out===0){return a1}return aT}if(p.last_lit){aO(p,false);if(p.strm.avail_out===0){return bx}}return aF}function bH(q,l){var r;var p;var j,m;var n=q.window;for(;;){if(q.lookahead<=bv){bB(q);if(q.lookahead<=bv&&l===a9){return bx}if(q.lookahead===0){break}}q.match_length=0;if(q.lookahead>=bg&&q.strstart>0){j=q.strstart-1;p=n[j];if(p===n[++j]&&p===n[++j]&&p===n[++j]){m=q.strstart+bv;do{}while(p===n[++j]&&p===n[++j]&&p===n[++j]&&p===n[++j]&&p===n[++j]&&p===n[++j]&&p===n[++j]&&p===n[++j]&&j<m);q.match_length=bv-(m-j);if(q.match_length>q.lookahead){q.match_length=q.lookahead}}}if(q.match_length>=bg){r=bQ._tr_tally(q,1,q.match_length-bg);q.lookahead-=q.match_length;q.strstart+=q.match_length;q.match_length=0}else{r=bQ._tr_tally(q,0,q.window[q.strstart]);q.lookahead--;q.strstart++}if(r){aO(q,false);if(q.strm.avail_out===0){return bx}}}q.insert=0;if(l===aN){aO(q,true);if(q.strm.avail_out===0){return a1}return aT}if(q.last_lit){aO(q,false);if(q.strm.avail_out===0){return bx}}return aF}function bG(j,m){var l;for(;;){if(j.lookahead===0){bB(j);if(j.lookahead===0){if(m===a9){return bx}break}}j.match_length=0;l=bQ._tr_tally(j,0,j.window[j.strstart]);j.lookahead--;j.strstart++;if(l){aO(j,false);if(j.strm.avail_out===0){return bx}}}j.insert=0;if(m===aN){aO(j,true);if(j.strm.avail_out===0){return a1}return aT}if(j.last_lit){aO(j,false);if(j.strm.avail_out===0){return bx}}return aF}var bI=function(m,n,l,p,j){this.good_length=m;this.max_lazy=n;this.nice_length=l;this.max_chain=p;this.func=j};var bJ;bJ=[new bI(0,0,0,0,ba),new bI(4,4,8,4,aM),new bI(4,5,16,8,aM),new bI(4,6,32,32,aM),new bI(4,4,16,16,bD),new bI(8,16,32,32,bD),new bI(8,16,128,128,bD),new bI(8,32,128,256,bD),new bI(32,128,258,1024,bD),new bI(32,258,258,4096,bD)];function be(j){j.window_size=2*j.w_size;bh(j.head);j.max_lazy_match=bJ[j.level].max_lazy;j.good_match=bJ[j.level].good_length;j.nice_match=bJ[j.level].nice_length;j.max_chain_length=bJ[j.level].max_chain;j.strstart=0;j.block_start=0;j.lookahead=0;j.insert=0;j.match_length=j.prev_length=bg-1;j.match_available=0;j.ins_h=0}function aW(){this.strm=null;this.status=0;this.pending_buf=null;this.pending_buf_size=0;this.pending_out=0;this.pending=0;this.wrap=0;this.gzhead=null;this.gzindex=0;this.method=aY;this.last_flush=-1;this.w_size=0;this.w_bits=0;this.w_mask=0;this.window=null;this.window_size=0;this.prev=null;this.head=null;this.ins_h=0;this.hash_size=0;this.hash_bits=0;this.hash_mask=0;this.hash_shift=0;this.block_start=0;this.match_length=0;this.prev_match=0;this.match_available=0;this.strstart=0;this.match_start=0;this.lookahead=0;this.prev_length=0;this.max_chain_length=0;this.max_lazy_match=0;this.level=0;this.strategy=0;this.good_match=0;this.nice_match=0;this.dyn_ltree=new a4.Buf16(by*2);this.dyn_dtree=new a4.Buf16((2*bq+1)*2);this.bl_tree=new a4.Buf16((2*bF+1)*2);bh(this.dyn_ltree);bh(this.dyn_dtree);bh(this.bl_tree);this.l_desc=null;this.d_desc=null;this.bl_desc=null;this.bl_count=new a4.Buf16(a5+1);this.heap=new a4.Buf16(2*bP+1);bh(this.heap);this.heap_len=0;this.heap_max=0;this.depth=new a4.Buf16(2*bP+1);bh(this.depth);this.l_buf=0;this.lit_bufsize=0;this.last_lit=0;this.d_buf=0;this.opt_len=0;this.static_len=0;this.matches=0;this.insert=0;this.bi_buf=0;this.bi_valid=0}function bC(l){var j;if(!l||!l.state){return bE(l,bw)}l.total_in=l.total_out=0;l.data_type=bd;j=l.state;j.pending=0;j.pending_out=0;if(j.wrap<0){j.wrap=-j.wrap}j.status=(j.wrap?a0:bM);l.adler=(j.wrap===2)?0:1;j.last_flush=a9;bQ._tr_init(j);return aH}function b(l){var j=bC(l);if(j===aH){be(l.state)}return j}function bN(l,j){if(!l||!l.state){return bw}if(l.state.wrap!==2){return bw}l.state.gzhead=j;return aH}function bi(m,n,p,s,q,r){if(!m){return bw}var j=1;if(n===aQ){n=6}if(s<0){j=0;s=-s}else{if(s>15){j=2;s-=16}}if(q<1||q>bn||p!==aY||s<8||s>15||n<0||n>9||r<0||r>aG){return bE(m,bw)}if(s===8){s=9}var l=new aW();m.state=l;l.strm=m;l.wrap=j;l.gzhead=null;l.w_bits=s;l.w_size=1<<l.w_bits;l.w_mask=l.w_size-1;l.hash_bits=q+7;l.hash_size=1<<l.hash_bits;l.hash_mask=l.hash_size-1;l.hash_shift=~~((l.hash_bits+bg-1)/bg);l.window=new a4.Buf8(l.w_size*2);l.head=new a4.Buf16(l.hash_size);l.prev=new a4.Buf16(l.w_size);l.lit_bufsize=1<<(q+6);l.pending_buf_size=l.lit_bufsize*4;l.pending_buf=new a4.Buf8(l.pending_buf_size);l.d_buf=l.lit_bufsize>>1;l.l_buf=(1+2)*l.lit_bufsize;l.level=n;l.strategy=r;l.method=p;return b(m)}function aZ(l,j){return bi(l,j,aY,a6,aL,bp)}function aK(t,s){var j,q;var l,n;if(!t||!t.state||s>a3||s<0){return t?bE(t,bw):bw}q=t.state;if(!t.output||(!t.input&&t.avail_in!==0)||(q.status===bs&&s!==aN)){return bE(t,(t.avail_out===0)?aS:bw)}q.strm=t;j=q.last_flush;q.last_flush=s;if(q.status===a0){if(q.wrap===2){t.adler=0;aV(q,31);aV(q,139);aV(q,8);if(!q.gzhead){aV(q,0);aV(q,0);aV(q,0);aV(q,0);aV(q,0);aV(q,q.level===9?2:(q.strategy>=bo||q.level<2?4:0));aV(q,bu);q.status=bM}else{aV(q,(q.gzhead.text?1:0)+(q.gzhead.hcrc?2:0)+(!q.gzhead.extra?0:4)+(!q.gzhead.name?0:8)+(!q.gzhead.comment?0:16));aV(q,q.gzhead.time&255);aV(q,(q.gzhead.time>>8)&255);aV(q,(q.gzhead.time>>16)&255);aV(q,(q.gzhead.time>>24)&255);aV(q,q.level===9?2:(q.strategy>=bo||q.level<2?4:0));aV(q,q.gzhead.os&255);if(q.gzhead.extra&&q.gzhead.extra.length){aV(q,q.gzhead.extra.length&255);aV(q,(q.gzhead.extra.length>>8)&255)}if(q.gzhead.hcrc){t.adler=bL(t.adler,q.pending_buf,q.pending,0)}q.gzindex=0;q.status=aJ}}else{var m=(aY+((q.w_bits-8)<<4))<<8;var r=-1;if(q.strategy>=bo||q.level<2){r=0}else{if(q.level<6){r=1}else{if(q.level===6){r=2}else{r=3}}}m|=(r<<6);if(q.strstart!==0){m|=aP}m+=31-(m%31);q.status=bM;bt(q,m);if(q.strstart!==0){bt(q,t.adler>>>16);bt(q,t.adler&65535)}t.adler=1}}if(q.status===aJ){if(q.gzhead.extra){l=q.pending;while(q.gzindex<(q.gzhead.extra.length&65535)){if(q.pending===q.pending_buf_size){if(q.gzhead.hcrc&&q.pending>l){t.adler=bL(t.adler,q.pending_buf,q.pending-l,l)}aR(t);l=q.pending;if(q.pending===q.pending_buf_size){break}}aV(q,q.gzhead.extra[q.gzindex]&255);q.gzindex++}if(q.gzhead.hcrc&&q.pending>l){t.adler=bL(t.adler,q.pending_buf,q.pending-l,l)}if(q.gzindex===q.gzhead.extra.length){q.gzindex=0;q.status=bK}}else{q.status=bK}}if(q.status===bK){if(q.gzhead.name){l=q.pending;do{if(q.pending===q.pending_buf_size){if(q.gzhead.hcrc&&q.pending>l){t.adler=bL(t.adler,q.pending_buf,q.pending-l,l)}aR(t);l=q.pending;if(q.pending===q.pending_buf_size){n=1;break}}if(q.gzindex<q.gzhead.name.length){n=q.gzhead.name.charCodeAt(q.gzindex++)&255}else{n=0}aV(q,n)}while(n!==0);if(q.gzhead.hcrc&&q.pending>l){t.adler=bL(t.adler,q.pending_buf,q.pending-l,l)}if(n===0){q.gzindex=0;q.status=bz}}else{q.status=bz}}if(q.status===bz){if(q.gzhead.comment){l=q.pending;do{if(q.pending===q.pending_buf_size){if(q.gzhead.hcrc&&q.pending>l){t.adler=bL(t.adler,q.pending_buf,q.pending-l,l)}aR(t);l=q.pending;if(q.pending===q.pending_buf_size){n=1;break}}if(q.gzindex<q.gzhead.comment.length){n=q.gzhead.comment.charCodeAt(q.gzindex++)&255}else{n=0}aV(q,n)}while(n!==0);if(q.gzhead.hcrc&&q.pending>l){t.adler=bL(t.adler,q.pending_buf,q.pending-l,l)}if(n===0){q.status=aI}}else{q.status=aI}}if(q.status===aI){if(q.gzhead.hcrc){if(q.pending+2>q.pending_buf_size){aR(t)}if(q.pending+2<=q.pending_buf_size){aV(q,t.adler&255);aV(q,(t.adler>>8)&255);t.adler=0;q.status=bM}}else{q.status=bM}}if(q.pending!==0){aR(t);if(t.avail_out===0){q.last_flush=-1;return aH}}else{if(t.avail_in===0&&a7(s)<=a7(j)&&s!==aN){return bE(t,aS)}}if(q.status===bs&&t.avail_in!==0){return bE(t,aS)}if(t.avail_in!==0||q.lookahead!==0||(s!==a9&&q.status!==bs)){var p=(q.strategy===bo)?bG(q,s):(q.strategy===a?bH(q,s):bJ[q.level].func(q,s));if(p===a1||p===aT){q.status=bs}if(p===bx||p===a1){if(t.avail_out===0){q.last_flush=-1}return aH}if(p===aF){if(s===aX){bQ._tr_align(q)}else{if(s!==a3){bQ._tr_stored_block(q,0,0,false);if(s===br){bh(q.head);if(q.lookahead===0){q.strstart=0;q.block_start=0;q.insert=0}}}}aR(t);if(t.avail_out===0){q.last_flush=-1;return aH}}}if(s!==aN){return aH}if(q.wrap<=0){return c}if(q.wrap===2){aV(q,t.adler&255);aV(q,(t.adler>>8)&255);aV(q,(t.adler>>16)&255);aV(q,(t.adler>>24)&255);aV(q,t.total_in&255);aV(q,(t.total_in>>8)&255);aV(q,(t.total_in>>16)&255);aV(q,(t.total_in>>24)&255)}else{bt(q,t.adler>>>16);bt(q,t.adler&65535)}aR(t);if(q.wrap>0){q.wrap=-q.wrap}return q.pending!==0?aH:c}function bk(j){var l;if(!j||!j.state){return bw}l=j.state.status;if(l!==a0&&l!==aJ&&l!==bK&&l!==bz&&l!==aI&&l!==bM&&l!==bs){return bE(j,bw)}j.state=null;return l===bM?bE(j,d):aH}bb.deflateInit=aZ;bb.deflateInit2=bi;bb.deflateReset=b;bb.deflateResetKeep=bC;bb.deflateSetHeader=bN;bb.deflate=aK;bb.deflateEnd=bk;bb.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./messages":37,"./trees":38}],33:[function(b,c,d){function a(){this.text=0;this.time=0;this.xflags=0;this.os=0;this.extra=null;this.extra_len=0;this.name="";this.comment="";this.hcrc=0;this.done=false}c.exports=a},{}],34:[function(b,d,l){var c=30;var a=12;d.exports=function m(P,af){var ad;var j;var R;var N;var T;var ag;var aa;var aj;var ae;var ai;var ab;var L;var V;var Z;var S;var U;var O;var ak;var X;var Q;var ac;var W;var ah;var M,Y;ad=P.state;j=P.next_in;M=P.input;R=j+(P.avail_in-5);N=P.next_out;Y=P.output;T=N-(af-P.avail_out);ag=N+(P.avail_out-257);aa=ad.dmax;aj=ad.wsize;ae=ad.whave;ai=ad.wnext;ab=ad.window;L=ad.hold;V=ad.bits;Z=ad.lencode;S=ad.distcode;U=(1<<ad.lenbits)-1;O=(1<<ad.distbits)-1;top:do{if(V<15){L+=M[j++]<<V;V+=8;L+=M[j++]<<V;V+=8}ak=Z[L&U];dolen:for(;;){X=ak>>>24;L>>>=X;V-=X;X=(ak>>>16)&255;if(X===0){Y[N++]=ak&65535}else{if(X&16){Q=ak&65535;X&=15;if(X){if(V<X){L+=M[j++]<<V;V+=8}Q+=L&((1<<X)-1);L>>>=X;V-=X}if(V<15){L+=M[j++]<<V;V+=8;L+=M[j++]<<V;V+=8}ak=S[L&O];dodist:for(;;){X=ak>>>24;L>>>=X;V-=X;X=(ak>>>16)&255;if(X&16){ac=ak&65535;X&=15;if(V<X){L+=M[j++]<<V;V+=8;if(V<X){L+=M[j++]<<V;V+=8}}ac+=L&((1<<X)-1);if(ac>aa){P.msg="invalid distance too far back";ad.mode=c;break top}L>>>=X;V-=X;X=N-T;if(ac>X){X=ac-X;if(X>ae){if(ad.sane){P.msg="invalid distance too far back";ad.mode=c;break top}}W=0;ah=ab;if(ai===0){W+=aj-X;if(X<Q){Q-=X;do{Y[N++]=ab[W++]}while(--X);W=N-ac;ah=Y}}else{if(ai<X){W+=aj+ai-X;X-=ai;if(X<Q){Q-=X;do{Y[N++]=ab[W++]}while(--X);W=0;if(ai<Q){X=ai;Q-=X;do{Y[N++]=ab[W++]}while(--X);W=N-ac;ah=Y}}}else{W+=ai-X;if(X<Q){Q-=X;do{Y[N++]=ab[W++]}while(--X);W=N-ac;ah=Y}}}while(Q>2){Y[N++]=ah[W++];Y[N++]=ah[W++];Y[N++]=ah[W++];Q-=3}if(Q){Y[N++]=ah[W++];if(Q>1){Y[N++]=ah[W++]}}}else{W=N-ac;do{Y[N++]=Y[W++];Y[N++]=Y[W++];Y[N++]=Y[W++];Q-=3}while(Q>2);if(Q){Y[N++]=Y[W++];if(Q>1){Y[N++]=Y[W++]}}}}else{if((X&64)===0){ak=S[(ak&65535)+(L&((1<<X)-1))];continue dodist}else{P.msg="invalid distance code";ad.mode=c;break top}}break}}else{if((X&64)===0){ak=Z[(ak&65535)+(L&((1<<X)-1))];continue dolen}else{if(X&32){ad.mode=a;break top}else{P.msg="invalid literal/length code";ad.mode=c;break top}}}}break}}while(j<R&&N<ag);Q=V>>3;j-=Q;V-=Q<<3;L&=(1<<V)-1;P.next_in=j;P.next_out=N;P.avail_in=(j<R?5+(R-j):5-(j-R));P.avail_out=(N<ag?257+(ag-N):257-(N-ag));ad.hold=L;ad.bits=V;return}},{}],35:[function(aV,be,a4){var aZ=aV("../utils/common");var a5=aV("./adler32");var bC=aV("./crc32");var bq=aV("./inffast");var aI=aV("./inftrees");var bD=0;var bB=1;var a8=2;var aG=4;var aY=5;var bl=6;var aA=0;var a=1;var aB=2;var bm=-2;var c=-3;var a6=-4;var aM=-5;var bF=8;var bu=1;var bv=2;var aL=3;var bz=4;var bh=5;var aQ=6;var aC=7;var aS=8;var aE=9;var bp=10;var d=11;var aJ=12;var bx=13;var aO=14;var ba=15;var br=16;var aH=17;var bo=18;var aX=19;var bG=20;var aR=21;var bg=22;var aW=23;var bk=24;var bj=25;var bf=26;var bs=27;var aU=28;var bn=29;var aP=30;var bc=31;var bd=32;var aT=852;var a2=592;var a1=15;var a7=a1;function aD(j){return(((j>>>24)&255)+((j>>>8)&65280)+((j&65280)<<8)+((j&255)<<24))}function bA(){this.mode=0;this.last=false;this.wrap=0;this.havedict=false;this.flags=0;this.dmax=0;this.check=0;this.total=0;this.head=null;this.wbits=0;this.wsize=0;this.whave=0;this.wnext=0;this.window=null;this.hold=0;this.bits=0;this.length=0;this.offset=0;this.extra=0;this.lencode=null;this.distcode=null;this.lenbits=0;this.distbits=0;this.ncode=0;this.nlen=0;this.ndist=0;this.have=0;this.next=null;this.lens=new aZ.Buf16(320);this.work=new aZ.Buf16(288);this.lendyn=null;this.distdyn=null;this.sane=0;this.back=0;this.was=0}function a0(l){var j;if(!l||!l.state){return bm}j=l.state;l.total_in=l.total_out=j.total=0;l.msg="";if(j.wrap){l.adler=j.wrap&1}j.mode=bu;j.last=0;j.havedict=0;j.dmax=32768;j.head=null;j.hold=0;j.bits=0;j.lencode=j.lendyn=new aZ.Buf32(aT);j.distcode=j.distdyn=new aZ.Buf32(a2);j.sane=1;j.back=-1;return aA}function bi(l){var j;if(!l||!l.state){return bm}j=l.state;j.wsize=0;j.whave=0;j.wnext=0;return a0(l)}function b(n,l){var m;var j;if(!n||!n.state){return bm}j=n.state;if(l<0){m=0;l=-l}else{m=(l>>4)+1;if(l<48){l&=15}}if(l&&(l<8||l>15)){return bm}if(j.window!==null&&j.wbits!==l){j.window=null}j.wrap=m;j.wbits=l;return bi(n)}function aF(n,l){var m;var j;if(!n){return bm}j=new bA();n.state=j;j.window=null;m=b(n,l);if(m!==aA){n.state=null}return m}function a9(j){return aF(j,a7)}var by=true;var bt,aK;function bb(j){if(by){var l;bt=new aZ.Buf32(512);aK=new aZ.Buf32(32);l=0;while(l<144){j.lens[l++]=8}while(l<256){j.lens[l++]=9}while(l<280){j.lens[l++]=7}while(l<288){j.lens[l++]=8}aI(bB,j.lens,0,288,bt,0,j.work,{bits:9});l=0;while(l<32){j.lens[l++]=5}aI(a8,j.lens,0,32,aK,0,j.work,{bits:5});by=false}j.lencode=bt;j.lenbits=9;j.distcode=aK;j.distbits=5}function a3(p,l,q,j){var m;var n=p.state;if(n.window===null){n.wsize=1<<n.wbits;n.wnext=0;n.whave=0;n.window=new aZ.Buf8(n.wsize)}if(j>=n.wsize){aZ.arraySet(n.window,l,q-n.wsize,n.wsize,0);n.wnext=0;n.whave=n.wsize}else{m=n.wsize-n.wnext;if(m>j){m=j}aZ.arraySet(n.window,l,q-j,m,n.wnext);j-=m;if(j){aZ.arraySet(n.window,l,q-j,j,0);n.wnext=j;n.whave=n.wsize}else{n.wnext+=m;if(n.wnext===n.wsize){n.wnext=0}if(n.whave<n.wsize){n.whave+=m}}}return 0}function bE(m,t){var F;var A,C;var v;var E;var H,G;var x;var r;var M,N;var s;var q;var I;var K=0;var l,B,j;var w,J,z;var n;var L;var D=new aZ.Buf8(4);var y;var u;var p=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!m||!m.state||!m.output||(!m.input&&m.avail_in!==0)){return bm}F=m.state;if(F.mode===aJ){F.mode=bx}E=m.next_out;C=m.output;G=m.avail_out;v=m.next_in;A=m.input;H=m.avail_in;x=F.hold;r=F.bits;M=H;N=G;L=aA;inf_leave:for(;;){switch(F.mode){case bu:if(F.wrap===0){F.mode=bx;break}while(r<16){if(H===0){break inf_leave}H--;x+=A[v++]<<r;r+=8}if((F.wrap&2)&&x===35615){F.check=0;D[0]=x&255;D[1]=(x>>>8)&255;F.check=bC(F.check,D,2,0);x=0;r=0;F.mode=bv;break}F.flags=0;if(F.head){F.head.done=false}if(!(F.wrap&1)||(((x&255)<<8)+(x>>8))%31){m.msg="incorrect header check";F.mode=aP;break}if((x&15)!==bF){m.msg="unknown compression method";F.mode=aP;break}x>>>=4;r-=4;n=(x&15)+8;if(F.wbits===0){F.wbits=n}else{if(n>F.wbits){m.msg="invalid window size";F.mode=aP;break}}F.dmax=1<<n;m.adler=F.check=1;F.mode=x&512?bp:aJ;x=0;r=0;break;case bv:while(r<16){if(H===0){break inf_leave}H--;x+=A[v++]<<r;r+=8}F.flags=x;if((F.flags&255)!==bF){m.msg="unknown compression method";F.mode=aP;break}if(F.flags&57344){m.msg="unknown header flags set";F.mode=aP;break}if(F.head){F.head.text=((x>>8)&1)}if(F.flags&512){D[0]=x&255;D[1]=(x>>>8)&255;F.check=bC(F.check,D,2,0)}x=0;r=0;F.mode=aL;case aL:while(r<32){if(H===0){break inf_leave}H--;x+=A[v++]<<r;r+=8}if(F.head){F.head.time=x}if(F.flags&512){D[0]=x&255;D[1]=(x>>>8)&255;D[2]=(x>>>16)&255;D[3]=(x>>>24)&255;F.check=bC(F.check,D,4,0)}x=0;r=0;F.mode=bz;case bz:while(r<16){if(H===0){break inf_leave}H--;x+=A[v++]<<r;r+=8}if(F.head){F.head.xflags=(x&255);F.head.os=(x>>8)}if(F.flags&512){D[0]=x&255;D[1]=(x>>>8)&255;F.check=bC(F.check,D,2,0)}x=0;r=0;F.mode=bh;case bh:if(F.flags&1024){while(r<16){if(H===0){break inf_leave}H--;x+=A[v++]<<r;r+=8}F.length=x;if(F.head){F.head.extra_len=x}if(F.flags&512){D[0]=x&255;D[1]=(x>>>8)&255;F.check=bC(F.check,D,2,0)}x=0;r=0}else{if(F.head){F.head.extra=null}}F.mode=aQ;case aQ:if(F.flags&1024){s=F.length;if(s>H){s=H}if(s){if(F.head){n=F.head.extra_len-F.length;if(!F.head.extra){F.head.extra=new Array(F.head.extra_len)}aZ.arraySet(F.head.extra,A,v,s,n)}if(F.flags&512){F.check=bC(F.check,A,s,v)}H-=s;v+=s;F.length-=s}if(F.length){break inf_leave}}F.length=0;F.mode=aC;case aC:if(F.flags&2048){if(H===0){break inf_leave}s=0;do{n=A[v+s++];if(F.head&&n&&(F.length<65536)){F.head.name+=String.fromCharCode(n)}}while(n&&s<H);if(F.flags&512){F.check=bC(F.check,A,s,v)}H-=s;v+=s;if(n){break inf_leave}}else{if(F.head){F.head.name=null}}F.length=0;F.mode=aS;case aS:if(F.flags&4096){if(H===0){break inf_leave}s=0;do{n=A[v+s++];if(F.head&&n&&(F.length<65536)){F.head.comment+=String.fromCharCode(n)}}while(n&&s<H);if(F.flags&512){F.check=bC(F.check,A,s,v)}H-=s;v+=s;if(n){break inf_leave}}else{if(F.head){F.head.comment=null}}F.mode=aE;case aE:if(F.flags&512){while(r<16){if(H===0){break inf_leave}H--;x+=A[v++]<<r;r+=8}if(x!==(F.check&65535)){m.msg="header crc mismatch";F.mode=aP;break}x=0;r=0}if(F.head){F.head.hcrc=((F.flags>>9)&1);F.head.done=true}m.adler=F.check=0;F.mode=aJ;break;case bp:while(r<32){if(H===0){break inf_leave}H--;x+=A[v++]<<r;r+=8}m.adler=F.check=aD(x);x=0;r=0;F.mode=d;case d:if(F.havedict===0){m.next_out=E;m.avail_out=G;m.next_in=v;m.avail_in=H;F.hold=x;F.bits=r;return aB}m.adler=F.check=1;F.mode=aJ;case aJ:if(t===aY||t===bl){break inf_leave}case bx:if(F.last){x>>>=r&7;r-=r&7;F.mode=bs;break}while(r<3){if(H===0){break inf_leave}H--;x+=A[v++]<<r;r+=8}F.last=(x&1);x>>>=1;r-=1;switch((x&3)){case 0:F.mode=aO;break;case 1:bb(F);F.mode=bG;if(t===bl){x>>>=2;r-=2;break inf_leave}break;case 2:F.mode=aH;break;case 3:m.msg="invalid block type";F.mode=aP}x>>>=2;r-=2;break;case aO:x>>>=r&7;r-=r&7;while(r<32){if(H===0){break inf_leave}H--;x+=A[v++]<<r;r+=8}if((x&65535)!==((x>>>16)^65535)){m.msg="invalid stored block lengths";F.mode=aP;break}F.length=x&65535;x=0;r=0;F.mode=ba;if(t===bl){break inf_leave}case ba:F.mode=br;case br:s=F.length;if(s){if(s>H){s=H}if(s>G){s=G}if(s===0){break inf_leave}aZ.arraySet(C,A,v,s,E);H-=s;v+=s;G-=s;E+=s;F.length-=s;break}F.mode=aJ;break;case aH:while(r<14){if(H===0){break inf_leave}H--;x+=A[v++]<<r;r+=8}F.nlen=(x&31)+257;x>>>=5;r-=5;F.ndist=(x&31)+1;x>>>=5;r-=5;F.ncode=(x&15)+4;x>>>=4;r-=4;if(F.nlen>286||F.ndist>30){m.msg="too many length or distance symbols";F.mode=aP;break}F.have=0;F.mode=bo;case bo:while(F.have<F.ncode){while(r<3){if(H===0){break inf_leave}H--;x+=A[v++]<<r;r+=8}F.lens[p[F.have++]]=(x&7);x>>>=3;r-=3}while(F.have<19){F.lens[p[F.have++]]=0}F.lencode=F.lendyn;F.lenbits=7;y={bits:F.lenbits};L=aI(bD,F.lens,0,19,F.lencode,0,F.work,y);F.lenbits=y.bits;if(L){m.msg="invalid code lengths set";F.mode=aP;break}F.have=0;F.mode=aX;case aX:while(F.have<F.nlen+F.ndist){for(;;){K=F.lencode[x&((1<<F.lenbits)-1)];l=K>>>24;B=(K>>>16)&255;j=K&65535;if((l)<=r){break}if(H===0){break inf_leave}H--;x+=A[v++]<<r;r+=8}if(j<16){x>>>=l;r-=l;F.lens[F.have++]=j}else{if(j===16){u=l+2;while(r<u){if(H===0){break inf_leave}H--;x+=A[v++]<<r;r+=8}x>>>=l;r-=l;if(F.have===0){m.msg="invalid bit length repeat";F.mode=aP;break}n=F.lens[F.have-1];s=3+(x&3);x>>>=2;r-=2}else{if(j===17){u=l+3;while(r<u){if(H===0){break inf_leave}H--;x+=A[v++]<<r;r+=8}x>>>=l;r-=l;n=0;s=3+(x&7);x>>>=3;r-=3}else{u=l+7;while(r<u){if(H===0){break inf_leave}H--;x+=A[v++]<<r;r+=8}x>>>=l;r-=l;n=0;s=11+(x&127);x>>>=7;r-=7}}if(F.have+s>F.nlen+F.ndist){m.msg="invalid bit length repeat";F.mode=aP;break}while(s--){F.lens[F.have++]=n}}}if(F.mode===aP){break}if(F.lens[256]===0){m.msg="invalid code -- missing end-of-block";F.mode=aP;break}F.lenbits=9;y={bits:F.lenbits};L=aI(bB,F.lens,0,F.nlen,F.lencode,0,F.work,y);F.lenbits=y.bits;if(L){m.msg="invalid literal/lengths set";F.mode=aP;break}F.distbits=6;F.distcode=F.distdyn;y={bits:F.distbits};L=aI(a8,F.lens,F.nlen,F.ndist,F.distcode,0,F.work,y);F.distbits=y.bits;if(L){m.msg="invalid distances set";F.mode=aP;break}F.mode=bG;if(t===bl){break inf_leave}case bG:F.mode=aR;case aR:if(H>=6&&G>=258){m.next_out=E;m.avail_out=G;m.next_in=v;m.avail_in=H;F.hold=x;F.bits=r;bq(m,N);E=m.next_out;C=m.output;G=m.avail_out;v=m.next_in;A=m.input;H=m.avail_in;x=F.hold;r=F.bits;if(F.mode===aJ){F.back=-1}break}F.back=0;for(;;){K=F.lencode[x&((1<<F.lenbits)-1)];l=K>>>24;B=(K>>>16)&255;j=K&65535;if(l<=r){break}if(H===0){break inf_leave}H--;x+=A[v++]<<r;r+=8}if(B&&(B&240)===0){w=l;J=B;z=j;for(;;){K=F.lencode[z+((x&((1<<(w+J))-1))>>w)];l=K>>>24;B=(K>>>16)&255;j=K&65535;if((w+l)<=r){break}if(H===0){break inf_leave}H--;x+=A[v++]<<r;r+=8}x>>>=w;r-=w;F.back+=w}x>>>=l;r-=l;F.back+=l;F.length=j;if(B===0){F.mode=bf;break}if(B&32){F.back=-1;F.mode=aJ;break}if(B&64){m.msg="invalid literal/length code";F.mode=aP;break}F.extra=B&15;F.mode=bg;case bg:if(F.extra){u=F.extra;while(r<u){if(H===0){break inf_leave}H--;x+=A[v++]<<r;r+=8}F.length+=x&((1<<F.extra)-1);x>>>=F.extra;r-=F.extra;F.back+=F.extra}F.was=F.length;F.mode=aW;case aW:for(;;){K=F.distcode[x&((1<<F.distbits)-1)];l=K>>>24;B=(K>>>16)&255;j=K&65535;if((l)<=r){break}if(H===0){break inf_leave}H--;x+=A[v++]<<r;r+=8}if((B&240)===0){w=l;J=B;z=j;for(;;){K=F.distcode[z+((x&((1<<(w+J))-1))>>w)];l=K>>>24;B=(K>>>16)&255;j=K&65535;if((w+l)<=r){break}if(H===0){break inf_leave}H--;x+=A[v++]<<r;r+=8}x>>>=w;r-=w;F.back+=w}x>>>=l;r-=l;F.back+=l;if(B&64){m.msg="invalid distance code";F.mode=aP;break}F.offset=j;F.extra=(B)&15;F.mode=bk;case bk:if(F.extra){u=F.extra;while(r<u){if(H===0){break inf_leave}H--;x+=A[v++]<<r;r+=8}F.offset+=x&((1<<F.extra)-1);x>>>=F.extra;r-=F.extra;F.back+=F.extra}if(F.offset>F.dmax){m.msg="invalid distance too far back";F.mode=aP;break}F.mode=bj;case bj:if(G===0){break inf_leave}s=N-G;if(F.offset>s){s=F.offset-s;if(s>F.whave){if(F.sane){m.msg="invalid distance too far back";F.mode=aP;break}}if(s>F.wnext){s-=F.wnext;q=F.wsize-s}else{q=F.wnext-s}if(s>F.length){s=F.length}I=F.window}else{I=C;q=E-F.offset;s=F.length}if(s>G){s=G}G-=s;F.length-=s;do{C[E++]=I[q++]}while(--s);if(F.length===0){F.mode=aR}break;case bf:if(G===0){break inf_leave}C[E++]=F.length;G--;F.mode=aR;break;case bs:if(F.wrap){while(r<32){if(H===0){break inf_leave}H--;x|=A[v++]<<r;r+=8}N-=G;m.total_out+=N;F.total+=N;if(N){m.adler=F.check=(F.flags?bC(F.check,C,N,E-N):a5(F.check,C,N,E-N))}N=G;if((F.flags?x:aD(x))!==F.check){m.msg="incorrect data check";F.mode=aP;break}x=0;r=0}F.mode=aU;case aU:if(F.wrap&&F.flags){while(r<32){if(H===0){break inf_leave}H--;x+=A[v++]<<r;r+=8}if(x!==(F.total&4294967295)){m.msg="incorrect length check";F.mode=aP;break}x=0;r=0}F.mode=bn;case bn:L=a;break inf_leave;case aP:L=c;break inf_leave;case bc:return a6;case bd:default:return bm}}m.next_out=E;m.avail_out=G;m.next_in=v;m.avail_in=H;F.hold=x;F.bits=r;if(F.wsize||(N!==m.avail_out&&F.mode<aP&&(F.mode<bs||t!==aG))){if(a3(m,m.output,m.next_out,N-m.avail_out)){F.mode=bc;return a6}}M-=m.avail_in;N-=m.avail_out;m.total_in+=M;m.total_out+=N;F.total+=N;if(F.wrap&&N){m.adler=F.check=(F.flags?bC(F.check,C,N,m.next_out-N):a5(F.check,C,N,m.next_out-N))}m.data_type=F.bits+(F.last?64:0)+(F.mode===aJ?128:0)+(F.mode===bG||F.mode===ba?256:0);if(((M===0&&N===0)||t===aG)&&L===aA){L=aM}return L}function bw(l){if(!l||!l.state){return bm}var j=l.state;if(j.window){j.window=null}l.state=null;return aA}function aN(m,l){var j;if(!m||!m.state){return bm}j=m.state;if((j.wrap&2)===0){return bm}j.head=l;l.done=false;return aA}a4.inflateReset=bi;a4.inflateReset2=b;a4.inflateResetKeep=a0;a4.inflateInit=a9;a4.inflateInit2=aF;a4.inflate=bE;a4.inflateEnd=bw;a4.inflateGetHeader=aN;a4.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./inffast":34,"./inftrees":36}],36:[function(B,A,y){var a=B("../utils/common");var b=15;var t=852;var u=592;var c=0;var w=1;var z=2;var d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0];var D=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78];var x=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0];var C=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];A.exports=function v(at,aD,ao,m,n,q,ap,ax){var ai=ax.bits;var s=0;var ay=0;var ak=0,ac=0;var am=0;var p=0;var aA=0;var aq=0;var aj=0;var ad=0;var ae;var ah;var aC;var af;var ar;var al=null;var av=0;var au;var aB=new a.Buf16(b+1);var an=new a.Buf16(b+1);var aw=null;var j=0;var r,az,l;for(s=0;s<=b;s++){aB[s]=0}for(ay=0;ay<m;ay++){aB[aD[ao+ay]]++}am=ai;for(ac=b;ac>=1;ac--){if(aB[ac]!==0){break}}if(am>ac){am=ac}if(ac===0){n[q++]=(1<<24)|(64<<16)|0;n[q++]=(1<<24)|(64<<16)|0;ax.bits=1;return 0}for(ak=1;ak<ac;ak++){if(aB[ak]!==0){break}}if(am<ak){am=ak}aq=1;for(s=1;s<=b;s++){aq<<=1;aq-=aB[s];if(aq<0){return -1}}if(aq>0&&(at===c||ac!==1)){return -1}an[1]=0;for(s=1;s<b;s++){an[s+1]=an[s]+aB[s]}for(ay=0;ay<m;ay++){if(aD[ao+ay]!==0){ap[an[aD[ao+ay]]++]=ay}}if(at===c){al=aw=ap;au=19}else{if(at===w){al=d;av-=257;aw=D;j-=257;au=256}else{al=x;aw=C;au=-1}}ad=0;ay=0;s=ak;ar=q;p=am;aA=0;aC=-1;aj=1<<am;af=aj-1;if((at===w&&aj>t)||(at===z&&aj>u)){return 1}var ag=0;for(;;){ag++;r=s-aA;if(ap[ay]<au){az=0;l=ap[ay]}else{if(ap[ay]>au){az=aw[j+ap[ay]];l=al[av+ap[ay]]}else{az=32+64;l=0}}ae=1<<(s-aA);ah=1<<p;ak=ah;do{ah-=ae;n[ar+(ad>>aA)+ah]=(r<<24)|(az<<16)|l|0}while(ah!==0);ae=1<<(s-1);while(ad&ae){ae>>=1}if(ae!==0){ad&=ae-1;ad+=ae}else{ad=0}ay++;if(--aB[s]===0){if(s===ac){break}s=aD[ao+ap[ay]]}if(s>am&&(ad&af)!==aC){if(aA===0){aA=am}ar+=ak;p=s-aA;aq=1<<p;while(p+aA<ac){aq-=aB[p+aA];if(aq<=0){break}p++;aq<<=1}aj+=1<<p;if((at===w&&aj>t)||(at===z&&aj>u)){return 1}aC=ad&af;n[aC]=(am<<24)|(p<<16)|(ar-q)|0}}if(ad!==0){n[ar+ad]=((s-aA)<<24)|(64<<16)|0}ax.bits=am;return 0}},{"../utils/common":27}],37:[function(a,b,c){b.exports={"2":"need dictionary","1":"stream end","0":"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],38:[function(aV,bu,aT){var ax=aV("../utils/common");var aC=4;var bl=0;var a7=1;var a5=2;function bA(j){var l=j.length;while(--l>=0){j[l]=0}}var c=0;var aO=1;var aP=2;var az=3;var a3=258;var bo=29;var bx=256;var bw=bx+1+bo;var bz=30;var bi=19;var bv=2*bw+1;var aH=15;var bf=16;var a2=7;var by=256;var aX=16;var aZ=17;var aN=18;var bt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];var bh=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];var a9=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];var aA=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];var ay=512;var aJ=new Array((bw+2)*2);bA(aJ);var bd=new Array(bz*2);bA(bd);var a1=new Array(ay);bA(a1);var bc=new Array(a3-az+1);bA(bc);var aL=new Array(bo);bA(aL);var aI=new Array(bz);bA(aI);var a6=function(p,j,m,n,l){this.static_tree=p;this.extra_bits=j;this.extra_base=m;this.elems=n;this.max_length=l;this.has_stree=p&&p.length};var aW;var be;var bg;var aB=function(j,l){this.dyn_tree=j;this.max_code=0;this.stat_desc=l};function bb(j){return j<256?a1[j]:a1[256+(j>>>7)]}function bq(j,l){j.pending_buf[j.pending++]=(l)&255;j.pending_buf[j.pending++]=(l>>>8)&255}function aY(m,j,l){if(m.bi_valid>(bf-l)){m.bi_buf|=(j<<m.bi_valid)&65535;bq(m,m.bi_buf);m.bi_buf=j>>(bf-m.bi_valid);m.bi_valid+=l-bf}else{m.bi_buf|=(j<<m.bi_valid)&65535;m.bi_valid+=l}}function aR(l,j,m){aY(l,m[j*2],m[j*2+1])}function ba(j,m){var l=0;do{l|=j&1;j>>>=1;l<<=1}while(--m>0);return l>>>1}function bj(j){if(j.bi_valid===16){bq(j,j.bi_buf);j.bi_buf=0;j.bi_valid=0}else{if(j.bi_valid>=8){j.pending_buf[j.pending++]=j.bi_buf&255;j.bi_buf>>=8;j.bi_valid-=8}}}function br(x,p){var w=p.dyn_tree;var n=p.max_code;var A=p.stat_desc.static_tree;var y=p.stat_desc.has_stree;var u=p.stat_desc.extra_bits;var l=p.stat_desc.extra_base;var j=p.stat_desc.max_length;var r;var z,v;var m;var s;var q;var t=0;for(m=0;m<=aH;m++){x.bl_count[m]=0}w[x.heap[x.heap_max]*2+1]=0;for(r=x.heap_max+1;r<bv;r++){z=x.heap[r];m=w[w[z*2+1]*2+1]+1;if(m>j){m=j;t++}w[z*2+1]=m;if(z>n){continue}x.bl_count[m]++;s=0;if(z>=l){s=u[z-l]}q=w[z*2];x.opt_len+=q*(m+s);if(y){x.static_len+=q*(A[z*2+1]+s)}}if(t===0){return}do{m=j-1;while(x.bl_count[m]===0){m--}x.bl_count[m]--;x.bl_count[m+1]+=2;x.bl_count[j]--;t-=2}while(t>0);for(m=j;m!==0;m--){z=x.bl_count[m];while(z!==0){v=x.heap[--r];if(v>n){continue}if(w[v*2+1]!==m){x.opt_len+=(m-w[v*2+1])*w[v*2];w[v*2+1]=m}z--}}}function aU(q,j,n){var p=new Array(aH+1);var s=0;var m;var l;for(m=1;m<=aH;m++){p[m]=s=(s+n[m-1])<<1}for(l=0;l<=j;l++){var r=q[l*2+1];if(r===0){continue}q[l*2]=ba(p[r]++,r)}}function d(){var l;var q;var j;var n;var m;var p=new Array(aH+1);j=0;for(n=0;n<bo-1;n++){aL[n]=j;for(l=0;l<(1<<bt[n]);l++){bc[j++]=n}}bc[j-1]=n;m=0;for(n=0;n<16;n++){aI[n]=m;for(l=0;l<(1<<bh[n]);l++){a1[m++]=n}}m>>=7;for(;n<bz;n++){aI[n]=m<<7;for(l=0;l<(1<<(bh[n]-7));l++){a1[256+m++]=n}}for(q=0;q<=aH;q++){p[q]=0}l=0;while(l<=143){aJ[l*2+1]=8;l++;p[8]++}while(l<=255){aJ[l*2+1]=9;l++;p[9]++}while(l<=279){aJ[l*2+1]=7;l++;p[7]++}while(l<=287){aJ[l*2+1]=8;l++;p[8]++}aU(aJ,bw+1,p);for(l=0;l<bz;l++){bd[l*2+1]=5;bd[l*2]=ba(l,5)}aW=new a6(aJ,bt,bx+1,bw,aH);be=new a6(bd,bh,0,bz,aH);bg=new a6(new Array(0),a9,0,bi,a2)}function aQ(l){var j;for(j=0;j<bw;j++){l.dyn_ltree[j*2]=0}for(j=0;j<bz;j++){l.dyn_dtree[j*2]=0}for(j=0;j<bi;j++){l.bl_tree[j*2]=0}l.dyn_ltree[by*2]=1;l.opt_len=l.static_len=0;l.last_lit=l.matches=0}function bs(j){if(j.bi_valid>8){bq(j,j.bi_buf)}else{if(j.bi_valid>0){j.pending_buf[j.pending++]=j.bi_buf}}j.bi_buf=0;j.bi_valid=0}function bm(j,l,n,m){bs(j);if(m){bq(j,n);bq(j,~n)}ax.arraySet(j.pending_buf,j.window,l,n,j.pending);j.pending+=n}function a(n,l,q,m){var p=l*2;var j=q*2;return(n[p]<n[j]||(n[p]===n[j]&&m[l]<=m[q]))}function aE(m,p,j){var l=m.heap[j];var n=j<<1;while(n<=m.heap_len){if(n<m.heap_len&&a(p,m.heap[n+1],m.heap[n],m.depth)){n++}if(a(p,l,m.heap[n],m.depth)){break}m.heap[j]=m.heap[n];j=n;n<<=1}m.heap[j]=l}function aK(q,j,p){var l;var s;var n=0;var m;var r;if(q.last_lit!==0){do{l=(q.pending_buf[q.d_buf+n*2]<<8)|(q.pending_buf[q.d_buf+n*2+1]);s=q.pending_buf[q.l_buf+n];n++;if(l===0){aR(q,s,j)}else{m=bc[s];aR(q,m+bx+1,j);r=bt[m];if(r!==0){s-=aL[m];aY(q,s,r)}l--;m=bb(l);aR(q,m,p);r=bh[m];if(r!==0){l-=aI[m];aY(q,l,r)}}}while(n<q.last_lit)}aR(q,by,j)}function b(m,q){var l=q.dyn_tree;var n=q.stat_desc.static_tree;var t=q.stat_desc.has_stree;var j=q.stat_desc.elems;var u,r;var p=-1;var s;m.heap_len=0;m.heap_max=bv;for(u=0;u<j;u++){if(l[u*2]!==0){m.heap[++m.heap_len]=p=u;m.depth[u]=0}else{l[u*2+1]=0}}while(m.heap_len<2){s=m.heap[++m.heap_len]=(p<2?++p:0);l[s*2]=1;m.depth[s]=0;m.opt_len--;if(t){m.static_len-=n[s*2+1]}}q.max_code=p;for(u=(m.heap_len>>1);u>=1;u--){aE(m,l,u)}s=j;do{u=m.heap[1];m.heap[1]=m.heap[m.heap_len--];aE(m,l,1);r=m.heap[1];m.heap[--m.heap_max]=u;m.heap[--m.heap_max]=r;l[s*2]=l[u*2]+l[r*2];m.depth[s]=(m.depth[u]>=m.depth[r]?m.depth[u]:m.depth[r])+1;l[u*2+1]=l[r*2+1]=s;m.heap[1]=s++;aE(m,l,1)}while(m.heap_len>=2);m.heap[--m.heap_max]=m.heap[1];br(m,q);aU(l,p,m.bl_count)}function bn(m,l,n){var u;var q=-1;var j;var s=l[0*2+1];var r=0;var t=7;var p=4;if(s===0){t=138;p=3}l[(n+1)*2+1]=65535;for(u=0;u<=n;u++){j=s;s=l[(u+1)*2+1];if(++r<t&&j===s){continue}else{if(r<p){m.bl_tree[j*2]+=r}else{if(j!==0){if(j!==q){m.bl_tree[j*2]++}m.bl_tree[aX*2]++}else{if(r<=10){m.bl_tree[aZ*2]++}else{m.bl_tree[aN*2]++}}}}r=0;q=j;if(s===0){t=138;p=3}else{if(j===s){t=6;p=3}else{t=7;p=4}}}}function bk(m,l,n){var u;var q=-1;var j;var s=l[0*2+1];var r=0;var t=7;var p=4;if(s===0){t=138;p=3}for(u=0;u<=n;u++){j=s;s=l[(u+1)*2+1];if(++r<t&&j===s){continue}else{if(r<p){do{aR(m,j,m.bl_tree)}while(--r!==0)}else{if(j!==0){if(j!==q){aR(m,j,m.bl_tree);r--}aR(m,aX,m.bl_tree);aY(m,r-3,2)}else{if(r<=10){aR(m,aZ,m.bl_tree);aY(m,r-3,3)}else{aR(m,aN,m.bl_tree);aY(m,r-11,7)}}}}r=0;q=j;if(s===0){t=138;p=3}else{if(j===s){t=6;p=3}else{t=7;p=4}}}}function a0(j){var l;bn(j,j.dyn_ltree,j.l_desc.max_code);bn(j,j.dyn_dtree,j.d_desc.max_code);b(j,j.bl_desc);for(l=bi-1;l>=3;l--){if(j.bl_tree[aA[l]*2+1]!==0){break}}j.opt_len+=3*(l+1)+5+5+4;return l}function aF(m,j,p,n){var l;aY(m,j-257,5);aY(m,p-1,5);aY(m,n-4,4);for(l=0;l<n;l++){aY(m,m.bl_tree[aA[l]*2+1],3)}bk(m,m.dyn_ltree,j-1);bk(m,m.dyn_dtree,p-1)}function aG(l){var m=4093624447;var j;for(j=0;j<=31;j++,m>>>=1){if((m&1)&&(l.dyn_ltree[j*2]!==0)){return bl}}if(l.dyn_ltree[9*2]!==0||l.dyn_ltree[10*2]!==0||l.dyn_ltree[13*2]!==0){return a7}for(j=32;j<bx;j++){if(l.dyn_ltree[j*2]!==0){return a7}}return bl}var a4=false;function aS(j){if(!a4){d();a4=true}j.l_desc=new aB(j.dyn_ltree,aW);j.d_desc=new aB(j.dyn_dtree,be);j.bl_desc=new aB(j.bl_tree,bg);j.bi_buf=0;j.bi_valid=0;aQ(j)}function aD(j,n,l,m){aY(j,(c<<1)+(m?1:0),3);bm(j,n,l,true)}function a8(j){aY(j,aO<<1,3);aR(j,by,aJ);bj(j)}function bp(m,l,p,j){var n,r;var q=0;if(m.level>0){if(m.strm.data_type===a5){m.strm.data_type=aG(m)}b(m,m.l_desc);b(m,m.d_desc);q=a0(m);n=(m.opt_len+3+7)>>>3;r=(m.static_len+3+7)>>>3;if(r<=n){n=r}}else{n=r=p+5}if((p+4<=n)&&(l!==-1)){aD(m,l,p,j)}else{if(m.strategy===aC||r===n){aY(m,(aO<<1)+(j?1:0),3);aK(m,aJ,bd)}else{aY(m,(aP<<1)+(j?1:0),3);aF(m,m.l_desc.max_code+1,m.d_desc.max_code+1,q+1);aK(m,m.dyn_ltree,m.dyn_dtree)}}aQ(m);if(j){bs(m)}}function aM(m,j,l){m.pending_buf[m.d_buf+m.last_lit*2]=(j>>>8)&255;m.pending_buf[m.d_buf+m.last_lit*2+1]=j&255;m.pending_buf[m.l_buf+m.last_lit]=l&255;m.last_lit++;if(j===0){m.dyn_ltree[l*2]++}else{m.matches++;j--;m.dyn_ltree[(bc[l]+bx+1)*2]++;m.dyn_dtree[bb(j)*2]++}return(m.last_lit===m.lit_bufsize-1)}aT._tr_init=aS;aT._tr_stored_block=aD;aT._tr_flush_block=bp;aT._tr_tally=aM;aT._tr_align=a8},{"../utils/common":27}],39:[function(b,c,d){function a(){this.input=null;this.next_in=0;this.avail_in=0;this.total_in=0;this.output=null;this.next_out=0;this.avail_out=0;this.total_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}c.exports=a},{}]},{},[9])(9)});var lib=(function(){var a=function(B,x,F){var C=B||window.location.href,D=x||"POST",c=F||{},e="",E=new FormData(),y,A=function(j){console.log(j)},z=function(j){console.log(j)},d=function(j){console.log(j)};function G(j){A(Math.round((j.loaded/j.total)*100)+"%")}function H(j){try{e=JSON.parse(j.target.responseText)}catch(l){e=j.target.responseText}E=new FormData();z(e)}function b(j){d("Failed")}function I(j){d("Aborted")}return{file:function(l){for(var j=0;j<l.length;j++){E.append(j,l[j])}},set:{url:function(j){C=j},data:function(j){c=j;E.append("data",JSON.stringify(c))},method:function(j){D=j},progress:function(j){if("function"===typeof j){A=j;return this}else{return false}},complete:function(j){if("function"===typeof j){z=j;return this}else{return false}},status:function(j){if("function"===typeof j){d=j;return this}else{return false}}},get:{url:function(){return C},data:function(){return c},method:function(){return D},response:function(){return e}},send:function(){y=new XMLHttpRequest();y.upload.addEventListener("progress",G,false);y.addEventListener("load",H,false);y.addEventListener("error",b,false);y.addEventListener("abort",I,false);y.open(D,C);y.send(E)}}};var h=function(){var s=true,d=new Array(),r={click:1,"final":4,msgin:3,error:2};for(i in r){d[i]=document.createElement("audio");d[i].setAttribute("id","sound_"+i);if(d[i].canPlayType){var c=document.createElement("source");c.setAttribute("src",URL+"files/sound/"+r[i]+".mp3");c.setAttribute("type","audio/mpeg");d[i].appendChild(c);document.body.appendChild(d[i]);d[i].load()}else{error("Your browser doesn't support HTML5 audio unfortunately.")}}function b(j,l){if(!l||l>100){l=1}else{l=l/100}if(!s){return false}if(d[j]){d[j].volume=l;d[j].ended=true;d[j].play()}}function e(){s=false;p()}function q(){s=true}function p(){for(i in d){d[i].stop()}}return{play:b}};var f=function(){var u=2000000,t=[],s=-1,r,e,c,w=false;function d(j){var m=0,n="<table>";for(var l=0;l<j.length;l++){m+=j[l].size;n+="<tr><td>"+j[l].name+"</td><td>"+j[l].size.toLocaleString()+"</td></tr>"}if(m>u){return false}return n+"<tr><th>Tamanho total: </th><th>"+m.toLocaleString()+"</th></tr>"}function b(n,l,j){s=0;for(var m=0;m<l.files.length;m++){t[m]=new FileReader();t[m].readAsArrayBuffer(l.files[m]);t[m].onprogress=function(p){};t[m].onloadend=function(p){s++;if(s>=l.files.length){v(n,l,j)}}}}function v(n,l,j){r=new JSZip();for(var m=0;m<l.files.length;m++){r.file(l.files[m].name,t[m].result)}content=r.generate({type:"base64",compression:"DEFLATE"});if(content.length>2092068){return j("O arquivo, mesmo depois de ZIPADO, ficou muito grande e não será suportado para DOWNLOAD em navegador!<br><b>Não foi enviado.</b> Tente enviar menos arquivos ou um arquivo menor.")}content=AES.enc(content,c);e=new lib.ajax();e.set.url(upURL);e.set.data({tk:n,name:"encripted.zip",type:"send",size:content.length,file:content});e.set.complete(function(p){j(p)});e.send();r=null;t=[];content=null}return{fileList:function(j){return d(j)},send:function(m,j,l){return b(m,j,l)},set:{fileMaxSize:function(j){u=j},statusElement:function(j){statusElement=j},password:function(j){c=j}},get:{fileMaxSize:function(){return u},statusElement:function(){return statusElement},password:function(){return c}}}};var g=function(e,d,l,c){if("string"!==typeof d){return null}AJAX=new lib.ajax();AJAX.set.url(upURL);AJAX.set.data({tk:e,name:d,type:"get"});AJAX.set.complete(function(j){b(j,c)});AJAX.send();function b(j,q){if("object"!==typeof j){return q("Erro no carregamento do pacote!<br>Verifique a conexão de rede.")}content=AES.dec(j.file,l);if(content===false){return q('O pacote "'+j.name+'" não pode ser desembrulhado!<br>Verifique a chave.')}if("function"===typeof navigator.msSaveOrOpenBlob){navigator.msSaveOrOpenBlob(JSZip.utils.string2Blob(JSZip.base64.decode(content)),j.name+".zip")}else{doc=window.document;var p=document.createElement("A");p.href="data:application/x-zip;base64,"+content;p.download=j.name+".zip";doc.body.appendChild(p);_eclick(p)}q("Arquivo carregado com sucesso!");ZIP=null;AJAX=null;content=null}};return{ajax:a,sound:h,upload:f,download:g}})();function _msg(h,e){e="number"==typeof e?e:2000;var g="msg"+_passw.gen(10,true);var f=document.createElement("DIV");f.id=g;f.innerHTML="number"===typeof h?LANG[h]:h;f.className="alert on";document.body.appendChild(f);setTimeout(function(){_(g).outerHTML=""},e)}function _(b){return document.getElementById(b)}function _qa(b){return document.querySelectorAll(b)}function _qs(b){return document.querySelector(b)}function _formatTxt(b){b=b.replace(/(<)/g,"&lt;").replace(/(>)/g,"&gt;");b=b.trim().replace(/(<div>)/g,"").replace(/(<\/div>)/g,"").replace(/(<br>)/g,"\n").replace(/(\n)/g,"<br/>");b=_gformat(b,"#",["<h1>","</h1>"]);b=_gformat(b,"*",Array("<b>","</b>"));b=_gformat(b,"-",Array("<s>","</s>"));return _gformat(b,"_",Array("<i>","</i>"))}function _gformat(t,m,s){var n=-1;var p=0;var q=0;var l="";for(var u=0;u<t.length;u++){if(t[u]===m&&n===-1&&p===0){n=u}if(t[u]===m&&n!==-1&&n<u){p=u;var r=s[0]+t.substr((1+n),(p-n)-1)+s[1];l+=t.substr(q,(n-q))+r;q=(1+p);n=-1;p=0}}if(t.length>q){l+=t.substr(q,(t.length-q))}return l}function _eclick(d){var c=document.createEvent("MouseEvents");c.initMouseEvent("click",true,false,window,0,0,0,0,0,false,false,false,false,0,null);d.dispatchEvent(c);d.focus()}var _passw={seq:"#$*%&!?@_+-=:.<>/({[]})0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",alfa:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",gen:function(e,d){o="";k="undefined"==typeof d||d===false?this.seq:this.alfa;for(var f=0;f<e;f++){o+=k[Math.floor(Math.random()*k.length)]}return o},check:function(d){o=false;for(var c=0;c<this.seq.length;c++){if(this.seq[c]==d){o=true;break}}return o}};function _isEmail(c){var d=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;return d.test(c)}var RSAPublicKey=function(c,d){this.modulus=new BigInteger(Hex.encode(c),16);this.encryptionExponent=new BigInteger(Hex.encode(d),16)};var UTF8={encode:function(g){g=g.replace(/\r\n/g,"\n");var h="";for(var e=0;e<g.length;e++){var f=g.charCodeAt(e);if(f<128){h+=String.fromCharCode(f)}else{if((f>127)&&(f<2048)){h+=String.fromCharCode((f>>6)|192);h+=String.fromCharCode((f&63)|128)}else{h+=String.fromCharCode((f>>12)|224);h+=String.fromCharCode(((f>>6)&63)|128);h+=String.fromCharCode((f&63)|128)}}}return h},decode:function(g){var e="";var h=0;var f=$c1=$c2=0;while(h<g.length){f=g.charCodeAt(h);if(f<128){e+=String.fromCharCode(f);h++}else{if((f>191)&&(f<224)){$c2=g.charCodeAt(h+1);e+=String.fromCharCode(((f&31)<<6)|($c2&63));h+=2}else{$c2=g.charCodeAt(h+1);$c3=g.charCodeAt(h+2);e+=String.fromCharCode(((f&15)<<12)|(($c2&63)<<6)|($c3&63));h+=3}}}return e}};var Base64={base64:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(u){if(!u){return false}var s="";var m,q,t;var n,p,r,v;var l=0;do{m=u.charCodeAt(l++);q=u.charCodeAt(l++);t=u.charCodeAt(l++);n=m>>2;p=((m&3)<<4)|(q>>4);r=((q&15)<<2)|(t>>6);v=t&63;if(isNaN(q)){r=v=64}else{if(isNaN(t)){v=64}}s+=this.base64.charAt(n)+this.base64.charAt(p)+this.base64.charAt(r)+this.base64.charAt(v)}while(l<u.length);return s},decode:function(l){if(!l){return false}l=l.replace(/[^A-Za-z0-9\+\/\=]/g,"");var p="";var n,q,h,j;var m=0;do{n=this.base64.indexOf(l.charAt(m++));q=this.base64.indexOf(l.charAt(m++));h=this.base64.indexOf(l.charAt(m++));j=this.base64.indexOf(l.charAt(m++));p+=String.fromCharCode((n<<2)|(q>>4));if(h!=64){p+=String.fromCharCode(((q&15)<<4)|(h>>2))}if(j!=64){p+=String.fromCharCode(((h&3)<<6)|j)}}while(m<l.length);return p}};var Hex={hex:"0123456789abcdef",encode:function(g){if(!g){return false}var f="";var e;var h=0;do{e=g.charCodeAt(h++);f+=this.hex.charAt((e>>4)&15)+this.hex.charAt(e&15)}while(h<g.length);return f},decode:function(f){if(!f){return false}f=f.replace(/[^0-9abcdef]/g,"");var e="";var d=0;do{e+=String.fromCharCode(((this.hex.indexOf(f.charAt(d++))<<4)&240)|(this.hex.indexOf(f.charAt(d++))&15))}while(d<f.length);return e}};var ASN1Data=function(b){this.error=false;this.parse=function(m){if(!m){this.error=true;return null}var n=[];while(m.length>0){var a=m.charCodeAt(0);m=m.substr(1);var h=0;if((a&31)==5){m=m.substr(1)}else{if(m.charCodeAt(0)&128){var j=m.charCodeAt(0)&127;m=m.substr(1);if(j>0){h=m.charCodeAt(0)}if(j>1){h=((h<<8)|m.charCodeAt(1))}if(j>2){this.error=true;return null}m=m.substr(j)}else{h=m.charCodeAt(0);m=m.substr(1)}}var l="";if(h){if(h>m.length){this.error=true;return null}l=m.substr(0,h);m=m.substr(h)}if(a&32){n.push(this.parse(l))}else{n.push(this.value((a&128)?4:(a&31),l))}}return n};this.value=function(q,r){if(q==1){return r?true:false}else{if(q==2){return r}else{if(q==3){return this.parse(r.substr(1))}else{if(q==5){return null}else{if(q==6){var t=[];var a=r.charCodeAt(0);t.push(Math.floor(a/40));t.push(a-t[0]*40);var p=[];var n=0;var l;for(l=1;l<r.length;l++){var s=r.charCodeAt(l);p.push(s&127);if(s&128){n++}else{var m;var u=0;for(m=0;m<p.length;m++){u+=p[m]*Math.pow(128,n--)}t.push(u);n=0;p=[]}}return t.join(".")}}}}}return null};this.data=this.parse(b)};var RSA={getPublicKey:function(b){if(b.length<50){return false}b=new ASN1Data(Base64.decode(b));if(b.error){return false}b=b.data;if(b[0][0][0]=="1.2.840.113549.1.1.1"){return new RSAPublicKey(b[0][1][0][0],b[0][1][0][1])}return false},encrypt:function(d,f){if(!f){return false}var e=(f.modulus.bitLength()+7)>>3;d=this.pkcs1pad2(d,e);if(!d){return false}d=d.modPowInt(f.encryptionExponent,f.modulus);if(!d){return false}d=d.toString(16);while(d.length<e*2){d="0"+d}return Base64.encode(Hex.decode(d))},pkcs1pad2:function(f,h){if(h<f.length+11){return null}var e=[];var g=f.length-1;while(g>=0&&h>0){e[--h]=f.charCodeAt(g--)}e[--h]=0;while(h>2){e[--h]=Math.floor(Math.random()*254)+1}e[--h]=2;e[--h]=0;return new BigInteger(e)}};var dbits;var canary=244837814094590;var j_lm=((canary&16777215)==15715070);function BigInteger(b,c,a){if(b!=null){if("number"==typeof b){this.fromNumber(b,c,a)}else{if(c==null&&"string"!=typeof b){this.fromString(b,256)}else{this.fromString(b,c)}}}}function nbi(){return new BigInteger(null)}function am1(n,j,c,p,l,m){while(--m>=0){var q=j*this[n++]+c[p]+l;l=Math.floor(q/67108864);c[p++]=q&67108863}return l}function am2(s,h,c,t,l,w){var m=h&32767,j=h>>15;while(--w>=0){var u=this[s]&32767;var n=this[s++]>>15;var v=j*u+n*m;u=m*u+((v&32767)<<15)+c[t]+(l&1073741823);l=(u>>>30)+(v>>>15)+j*n+(l>>>30);c[t++]=u&1073741823}return l}function am3(s,h,c,t,l,w){var m=h&16383,j=h>>14;while(--w>=0){var u=this[s]&16383;var n=this[s++]>>14;var v=j*u+n*m;u=m*u+((v&16383)<<14)+c[t]+l;l=(u>>28)+(v>>14)+j*n;c[t++]=u&268435455}return l}if(j_lm&&(navigator.appName=="Microsoft Internet Explorer")){BigInteger.prototype.am=am2;dbits=30}else{if(j_lm&&(navigator.appName!="Netscape")){BigInteger.prototype.am=am1;dbits=26}else{BigInteger.prototype.am=am3;dbits=28}}BigInteger.prototype.DB=dbits;BigInteger.prototype.DM=((1<<dbits)-1);BigInteger.prototype.DV=(1<<dbits);var BI_FP=52;BigInteger.prototype.FV=Math.pow(2,BI_FP);BigInteger.prototype.F1=BI_FP-dbits;BigInteger.prototype.F2=2*dbits-BI_FP;var BI_RM="0123456789abcdefghijklmnopqrstuvwxyz";var BI_RC=new Array();var rr,vv;rr="0".charCodeAt(0);for(vv=0;vv<=9;++vv){BI_RC[rr++]=vv}rr="a".charCodeAt(0);for(vv=10;vv<36;++vv){BI_RC[rr++]=vv}rr="A".charCodeAt(0);for(vv=10;vv<36;++vv){BI_RC[rr++]=vv}function int2char(b){return BI_RM.charAt(b)}function intAt(c,e){var f=BI_RC[c.charCodeAt(e)];return(f==null)?-1:f}function bnpCopyTo(c){for(var d=this.t-1;d>=0;--d){c[d]=this[d]}c.t=this.t;c.s=this.s}function bnpFromInt(b){this.t=1;this.s=(b<0)?-1:0;if(b>0){this[0]=b}else{if(b<-1){this[0]=b+DV}else{this.t=0}}}function nbv(d){var c=nbi();c.fromInt(d);return c}function bnpFromString(j,q){var n;if(q==16){n=4}else{if(q==8){n=3}else{if(q==256){n=8}else{if(q==2){n=1}else{if(q==32){n=5}else{if(q==4){n=2}else{this.fromRadix(j,q);return}}}}}}this.t=0;this.s=0;var l=j.length,p=false,m=0;while(--l>=0){var b=(n==8)?j[l]&255:intAt(j,l);if(b<0){if(j.charAt(l)=="-"){p=true}continue}p=false;if(m==0){this[this.t++]=b}else{if(m+n>this.DB){this[this.t-1]|=(b&((1<<(this.DB-m))-1))<<m;this[this.t++]=(b>>(this.DB-m))}else{this[this.t-1]|=b<<m}}m+=n;if(m>=this.DB){m-=this.DB}}if(n==8&&(j[0]&128)!=0){this.s=-1;if(m>0){this[this.t-1]|=((1<<(this.DB-m))-1)<<m}}this.clamp();if(p){BigInteger.ZERO.subTo(this,this)}}function bnpClamp(){var b=this.s&this.DM;while(this.t>0&&this[this.t-1]==b){--this.t}}function bnToString(s){if(this.s<0){return"-"+this.negate().toString(s)}var r;if(s==16){r=4}else{if(s==8){r=3}else{if(s==2){r=1}else{if(s==32){r=5}else{if(s==64){r=6}else{if(s==4){r=2}else{return this.toRadix(s)}}}}}}var p=(1<<r)-1,d,b=false,n="",q=this.t;var m=this.DB-(q*this.DB)%r;if(q-->0){if(m<this.DB&&(d=this[q]>>m)>0){b=true;n=int2char(d)}while(q>=0){if(m<r){d=(this[q]&((1<<m)-1))<<(r-m);d|=this[--q]>>(m+=this.DB-r)}else{d=(this[q]>>(m-=r))&p;if(m<=0){m+=this.DB;--q}}if(d>0){b=true}if(b){n+=int2char(d)}}}return b?n:"0"}function bnNegate(){var b=nbi();BigInteger.ZERO.subTo(this,b);return b}function bnAbs(){return(this.s<0)?this.negate():this}function bnCompareTo(a){var e=this.s-a.s;if(e!=0){return e}var f=this.t;e=f-a.t;if(e!=0){return e}while(--f>=0){if((e=this[f]-a[f])!=0){return e}}return 0}function nbits(e){var f=1,d;if((d=e>>>16)!=0){e=d;f+=16}if((d=e>>8)!=0){e=d;f+=8}if((d=e>>4)!=0){e=d;f+=4}if((d=e>>2)!=0){e=d;f+=2}if((d=e>>1)!=0){e=d;f+=1}return f}function bnBitLength(){if(this.t<=0){return 0}return this.DB*(this.t-1)+nbits(this[this.t-1]^(this.s&this.DM))}function bnpDLShiftTo(f,d){var e;for(e=this.t-1;e>=0;--e){d[e+f]=this[e]}for(e=f-1;e>=0;--e){d[e]=0}d.t=this.t+f;d.s=this.s}function bnpDRShiftTo(f,d){for(var e=f;e<this.t;++e){d[e-f]=this[e]}d.t=Math.max(this.t-f,0);d.s=this.s}function bnpLShiftTo(m,r){var c=m%this.DB;var l=this.DB-c;var p=(1<<l)-1;var q=Math.floor(m/this.DB),n=(this.s<<c)&this.DM,s;for(s=this.t-1;s>=0;--s){r[s+q+1]=(this[s]>>l)|n;n=(this[s]&p)<<c}for(s=q-1;s>=0;--s){r[s]=0}r[q]=n;r.t=this.t+q+1;r.s=this.s;r.clamp()}function bnpRShiftTo(l,p){p.s=this.s;var n=Math.floor(l/this.DB);if(n>=this.t){p.t=0;return}var h=l%this.DB;var j=this.DB-h;var m=(1<<h)-1;p[0]=this[n]>>h;for(var q=n+1;q<this.t;++q){p[q-n-1]|=(this[q]&m)<<j;p[q-n]=this[q]>>h}if(h>0){p[this.t-n-1]|=(this.s&m)<<j}p.t=this.t-n;p.clamp()}function bnpSubTo(l,h){var j=0,c=0,a=Math.min(l.t,this.t);while(j<a){c+=this[j]-l[j];h[j++]=c&this.DM;c>>=this.DB}if(l.t<this.t){c-=l.s;while(j<this.t){c+=this[j];h[j++]=c&this.DM;c>>=this.DB}c+=this.s}else{c+=this.s;while(j<l.t){c-=l[j];h[j++]=c&this.DM;c>>=this.DB}c-=l.s}h.s=(c<0)?-1:0;if(c<-1){h[j++]=this.DV+c}else{if(c>0){h[j++]=c}}h.t=j;h.clamp()}function bnpMultiplyTo(l,h){var a=this.abs(),g=l.abs();var j=a.t;h.t=j+g.t;while(--j>=0){h[j]=0}for(j=0;j<g.t;++j){h[j+a.t]=a.am(0,g[j],h,j,0,a.t)}h.s=0;h.clamp();if(this.s!=l.s){BigInteger.ZERO.subTo(h,h)}}function bnpSquareTo(h){var f=this.abs();var c=h.t=2*f.t;while(--c>=0){h[c]=0}for(c=0;c<f.t-1;++c){var g=f.am(c,f[c],h,2*c,0,1);if((h[c+f.t]+=f.am(c+1,2*f[c],h,2*c+1,g,f.t-c-1))>=f.DV){h[c+f.t]-=f.DV;h[c+f.t+1]=1}}if(h.t>0){h[h.t-1]+=f.am(c,f[c],h,2*c,0,1)}h.s=0;h.clamp()}function bnpDivRemTo(D,G,H){var m=D.abs();if(m.t<=0){return}var F=this.abs();if(F.t<m.t){if(G!=null){G.fromInt(0)}if(H!=null){this.copyTo(H)}return}if(H==null){H=nbi()}var J=nbi(),M=this.s,E=D.s;var q=this.DB-nbits(m[m.t-1]);if(q>0){m.lShiftTo(q,J);F.lShiftTo(q,H)}else{m.copyTo(J);F.copyTo(H)}var B=J.t;var L=J[B-1];if(L==0){return}var C=L*(1<<this.F1)+((B>1)?J[B-2]>>this.F2:0);var y=this.FV/C,e=(1<<this.F1)/C,j=1<<this.F2;var r=H.t,t=r-B,I=(G==null)?nbi():G;J.dlShiftTo(t,I);if(H.compareTo(I)>=0){H[H.t++]=1;H.subTo(I,H)}BigInteger.ONE.dlShiftTo(B,I);I.subTo(J,J);while(J.t<B){J[J.t++]=0}while(--t>=0){var K=(H[--r]==L)?this.DM:Math.floor(H[r]*y+(H[r-1]+j)*e);if((H[r]+=J.am(0,K,H,t,0,B))<K){J.dlShiftTo(t,I);H.subTo(I,H);while(H[r]<--K){H.subTo(I,H)}}}if(G!=null){H.drShiftTo(B,G);if(M!=E){BigInteger.ZERO.subTo(G,G)}}H.t=B;H.clamp();if(q>0){H.rShiftTo(q,H)}if(M<0){BigInteger.ZERO.subTo(H,H)}}function bnMod(a){var d=nbi();this.abs().divRemTo(a,null,d);if(this.s<0&&d.compareTo(BigInteger.ZERO)>0){a.subTo(d,d)}return d}function Classic(b){this.m=b}function cConvert(b){if(b.s<0||b.compareTo(this.m)>=0){return b.mod(this.m)}else{return b}}function cRevert(b){return b}function cReduce(b){b.divRemTo(this.m,null,b)}function cMulTo(e,f,d){e.multiplyTo(f,d);this.reduce(d)}function cSqrTo(d,c){d.squareTo(c);this.reduce(c)}Classic.prototype.convert=cConvert;Classic.prototype.revert=cRevert;Classic.prototype.reduce=cReduce;Classic.prototype.mulTo=cMulTo;Classic.prototype.sqrTo=cSqrTo;function bnpInvDigit(){if(this.t<1){return 0}var d=this[0];if((d&1)==0){return 0}var c=d&3;c=(c*(2-(d&15)*c))&15;c=(c*(2-(d&255)*c))&255;c=(c*(2-(((d&65535)*c)&65535)))&65535;c=(c*(2-d*c%this.DV))%this.DV;return(c>0)?this.DV-c:-c}function Montgomery(b){this.m=b;this.mp=b.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<(b.DB-15))-1;this.mt2=2*b.t}function montConvert(d){var c=nbi();d.abs().dlShiftTo(this.m.t,c);c.divRemTo(this.m,null,c);if(d.s<0&&c.compareTo(BigInteger.ZERO)>0){this.m.subTo(c,c)}return c}function montRevert(d){var c=nbi();d.copyTo(c);this.reduce(c);return c}function montReduce(f){while(f.t<=this.mt2){f[f.t++]=0}for(var h=0;h<this.m.t;++h){var e=f[h]&32767;var g=(e*this.mpl+(((e*this.mph+(f[h]>>15)*this.mpl)&this.um)<<15))&f.DM;e=h+this.m.t;f[e]+=this.m.am(0,g,f,h,0,this.m.t);while(f[e]>=f.DV){f[e]-=f.DV;f[++e]++}}f.clamp();f.drShiftTo(this.m.t,f);if(f.compareTo(this.m)>=0){f.subTo(this.m,f)}}function montSqrTo(d,c){d.squareTo(c);this.reduce(c)}function montMulTo(e,f,d){e.multiplyTo(f,d);this.reduce(d)}Montgomery.prototype.convert=montConvert;Montgomery.prototype.revert=montRevert;Montgomery.prototype.reduce=montReduce;Montgomery.prototype.mulTo=montMulTo;Montgomery.prototype.sqrTo=montSqrTo;function bnpIsEven(){return((this.t>0)?(this[0]&1):this.s)==0}function bnpExp(m,l){if(m>4294967295||m<1){return BigInteger.ONE}var n=nbi(),g=nbi(),p=l.convert(this),q=nbits(m)-1;p.copyTo(n);while(--q>=0){l.sqrTo(n,g);if((m&(1<<q))>0){l.mulTo(g,p,n)}else{var e=n;n=g;g=e}}return l.revert(n)}function bnModPowInt(d,e){var f;if(d<256||e.isEven()){f=new Classic(e)}else{f=new Montgomery(e)}return this.exp(d,f)}BigInteger.prototype.copyTo=bnpCopyTo;BigInteger.prototype.fromInt=bnpFromInt;BigInteger.prototype.fromString=bnpFromString;BigInteger.prototype.clamp=bnpClamp;BigInteger.prototype.dlShiftTo=bnpDLShiftTo;BigInteger.prototype.drShiftTo=bnpDRShiftTo;BigInteger.prototype.lShiftTo=bnpLShiftTo;BigInteger.prototype.rShiftTo=bnpRShiftTo;BigInteger.prototype.subTo=bnpSubTo;BigInteger.prototype.multiplyTo=bnpMultiplyTo;BigInteger.prototype.squareTo=bnpSquareTo;BigInteger.prototype.divRemTo=bnpDivRemTo;BigInteger.prototype.invDigit=bnpInvDigit;BigInteger.prototype.isEven=bnpIsEven;BigInteger.prototype.exp=bnpExp;BigInteger.prototype.toString=bnToString;BigInteger.prototype.negate=bnNegate;BigInteger.prototype.abs=bnAbs;BigInteger.prototype.compareTo=bnCompareTo;BigInteger.prototype.bitLength=bnBitLength;BigInteger.prototype.mod=bnMod;BigInteger.prototype.modPowInt=bnModPowInt;BigInteger.ZERO=nbv(0);BigInteger.ONE=nbv(1);function bnClone(){var b=nbi();this.copyTo(b);return b}function bnIntValue(){if(this.s<0){if(this.t==1){return this[0]-this.DV}else{if(this.t==0){return -1}}}else{if(this.t==1){return this[0]}else{if(this.t==0){return 0}}}return((this[1]&((1<<(32-this.DB))-1))<<this.DB)|this[0]}function bnByteValue(){return(this.t==0)?this.s:(this[0]<<24)>>24}function bnShortValue(){return(this.t==0)?this.s:(this[0]<<16)>>16}function bnpChunkSize(b){return Math.floor(Math.LN2*this.DB/Math.log(b))}function bnSigNum(){if(this.s<0){return -1}else{if(this.t<=0||(this.t==1&&this[0]<=0)){return 0}else{return 1}}}function bnpToRadix(p){if(p==null){p=10}if(this.signum()==0||p<2||p>36){return"0"}var m=this.chunkSize(p);var n=Math.pow(p,m);var b=nbv(n),a=nbi(),d=nbi(),l="";this.divRemTo(b,a,d);while(a.signum()>0){l=(n+d.intValue()).toString(p).substr(1)+l;a.divRemTo(b,a,d)}return d.intValue().toString(p)+l}function bnpFromRadix(b,n){this.fromInt(0);if(n==null){n=10}var q=this.chunkSize(n);var p=Math.pow(n,q),r=false,t=0,d=0;for(var s=0;s<b.length;++s){var j=intAt(b,s);if(j<0){if(b.charAt(s)=="-"&&this.signum()==0){r=true}continue}d=n*d+j;if(++t>=q){this.dMultiply(p);this.dAddOffset(d,0);t=0;d=0}}if(t>0){this.dMultiply(Math.pow(n,t));this.dAddOffset(d,0)}if(r){BigInteger.ZERO.subTo(this,this)}}function bnpFromNumber(c,j,a){if("number"==typeof j){if(c<2){this.fromInt(1)}else{this.fromNumber(c,a);if(!this.testBit(c-1)){this.bitwiseTo(BigInteger.ONE.shiftLeft(c-1),op_or,this)}if(this.isEven()){this.dAddOffset(1,0)}while(!this.isProbablePrime(j)){this.dAddOffset(2,0);if(this.bitLength()>c){this.subTo(BigInteger.ONE.shiftLeft(c-1),this)}}}}else{var l=new Array(),b=c&7;l.length=(c>>3)+1;j.nextBytes(l);if(b>0){l[0]&=((1<<b)-1)}else{l[0]=0}this.fromString(l,256)}}function bnToByteArray(){var d=this.t,l=new Array();l[0]=this.s;var j=this.DB-(d*this.DB)%8,h,g=0;if(d-->0){if(j<this.DB&&(h=this[d]>>j)!=(this.s&this.DM)>>j){l[g++]=h|(this.s<<(this.DB-j))}while(d>=0){if(j<8){h=(this[d]&((1<<j)-1))<<(8-j);h|=this[--d]>>(j+=this.DB-8)}else{h=(this[d]>>(j-=8))&255;if(j<=0){j+=this.DB;--d}}if((h&128)!=0){h|=-256}if(g==0&&(this.s&128)!=(h&128)){++g}if(g>0||h!=this.s){l[g++]=h}}}return l}function bnEquals(a){return(this.compareTo(a)==0)}function bnMin(a){return(this.compareTo(a)<0)?this:a}function bnMax(a){return(this.compareTo(a)>0)?this:a}function bnpBitwiseTo(n,f,l){var m,j,a=Math.min(n.t,this.t);for(m=0;m<a;++m){l[m]=f(this[m],n[m])}if(n.t<this.t){j=n.s&this.DM;for(m=a;m<this.t;++m){l[m]=f(this[m],j)}l.t=this.t}else{j=this.s&this.DM;for(m=a;m<n.t;++m){l[m]=f(j,n[m])}l.t=n.t}l.s=f(this.s,n.s);l.clamp()}function op_and(d,c){return d&c}function bnAnd(a){var d=nbi();this.bitwiseTo(a,op_and,d);return d}function op_or(d,c){return d|c}function bnOr(a){var d=nbi();this.bitwiseTo(a,op_or,d);return d}function op_xor(d,c){return d^c}function bnXor(a){var d=nbi();this.bitwiseTo(a,op_xor,d);return d}function op_andnot(d,c){return d&~c}function bnAndNot(a){var d=nbi();this.bitwiseTo(a,op_andnot,d);return d}function bnNot(){var c=nbi();for(var d=0;d<this.t;++d){c[d]=this.DM&~this[d]}c.t=this.t;c.s=~this.s;return c}function bnShiftLeft(c){var d=nbi();if(c<0){this.rShiftTo(-c,d)}else{this.lShiftTo(c,d)}return d}function bnShiftRight(c){var d=nbi();if(c<0){this.lShiftTo(-c,d)}else{this.rShiftTo(c,d)}return d}function lbit(d){if(d==0){return -1}var c=0;if((d&65535)==0){d>>=16;c+=16}if((d&255)==0){d>>=8;c+=8}if((d&15)==0){d>>=4;c+=4}if((d&3)==0){d>>=2;c+=2}if((d&1)==0){++c}return c}function bnGetLowestSetBit(){for(var b=0;b<this.t;++b){if(this[b]!=0){return b*this.DB+lbit(this[b])}}if(this.s<0){return this.t*this.DB}return -1}function cbit(d){var c=0;while(d!=0){d&=d-1;++c}return c}function bnBitCount(){var f=0,e=this.s&this.DM;for(var d=0;d<this.t;++d){f+=cbit(this[d]^e)}return f}function bnTestBit(c){var d=Math.floor(c/this.DB);if(d>=this.t){return(this.s!=0)}return((this[d]&(1<<(c%this.DB)))!=0)}function bnpChangeBit(f,d){var e=BigInteger.ONE.shiftLeft(f);this.bitwiseTo(e,d,e);return e}function bnSetBit(b){return this.changeBit(b,op_or)}function bnClearBit(b){return this.changeBit(b,op_andnot)}function bnFlipBit(b){return this.changeBit(b,op_xor)}function bnpAddTo(l,h){var j=0,c=0,a=Math.min(l.t,this.t);while(j<a){c+=this[j]+l[j];h[j++]=c&this.DM;c>>=this.DB}if(l.t<this.t){c+=l.s;while(j<this.t){c+=this[j];h[j++]=c&this.DM;c>>=this.DB}c+=this.s}else{c+=this.s;while(j<l.t){c+=l[j];h[j++]=c&this.DM;c>>=this.DB}c+=l.s}h.s=(c<0)?-1:0;if(c>0){h[j++]=c}else{if(c<-1){h[j++]=this.DV+c}}h.t=j;h.clamp()}function bnAdd(a){var d=nbi();this.addTo(a,d);return d}function bnSubtract(a){var d=nbi();this.subTo(a,d);return d}function bnMultiply(a){var d=nbi();this.multiplyTo(a,d);return d}function bnSquare(){var b=nbi();this.squareTo(b);return b}function bnDivide(a){var d=nbi();this.divRemTo(a,d,null);return d}function bnRemainder(a){var d=nbi();this.divRemTo(a,null,d);return d}function bnDivideAndRemainder(a){var e=nbi(),f=nbi();this.divRemTo(a,e,f);return new Array(e,f)}function bnpDMultiply(b){this[this.t]=this.am(0,b-1,this,0,0,this.t);++this.t;this.clamp()}function bnpDAddOffset(c,d){if(c==0){return}while(this.t<=d){this[this.t++]=0}this[d]+=c;while(this[d]>=this.DV){this[d]-=this.DV;if(++d>=this.t){this[this.t++]=0}++this[d]}}function NullExp(){}function nNop(b){return b}function nMulTo(e,f,d){e.multiplyTo(f,d)}function nSqrTo(d,c){d.squareTo(c)}NullExp.prototype.convert=nNop;NullExp.prototype.revert=nNop;NullExp.prototype.mulTo=nMulTo;NullExp.prototype.sqrTo=nSqrTo;function bnPow(b){return this.exp(b,new NullExp())}function bnpMultiplyLowerTo(a,g,h){var j=Math.min(this.t+a.t,g);h.s=0;h.t=j;while(j>0){h[--j]=0}var l;for(l=h.t-this.t;j<l;++j){h[j+this.t]=this.am(0,a[j],h,j,0,this.t)}for(l=Math.min(a.t,g);j<l;++j){this.am(0,a[j],h,j,0,g-j)}h.clamp()}function bnpMultiplyUpperTo(a,f,g){--f;var h=g.t=this.t+a.t-f;g.s=0;while(--h>=0){g[h]=0}for(h=Math.max(f-this.t,0);h<a.t;++h){g[this.t+h-f]=this.am(f-h,a[h],g,0,0,this.t+h-f)}g.clamp();g.drShiftTo(1,g)}function Barrett(b){this.r2=nbi();this.q3=nbi();BigInteger.ONE.dlShiftTo(2*b.t,this.r2);this.mu=this.r2.divide(b);this.m=b}function barrettConvert(d){if(d.s<0||d.t>2*this.m.t){return d.mod(this.m)}else{if(d.compareTo(this.m)<0){return d}else{var c=nbi();d.copyTo(c);this.reduce(c);return c}}}function barrettRevert(b){return b}function barrettReduce(b){b.drShiftTo(this.m.t-1,this.r2);if(b.t>this.m.t+1){b.t=this.m.t+1;b.clamp()}this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);while(b.compareTo(this.r2)<0){b.dAddOffset(1,this.m.t+1)}b.subTo(this.r2,b);while(b.compareTo(this.m)>=0){b.subTo(this.m,b)}}function barrettSqrTo(d,c){d.squareTo(c);this.reduce(c)}function barrettMulTo(e,f,d){e.multiplyTo(f,d);this.reduce(d)}Barrett.prototype.convert=barrettConvert;Barrett.prototype.revert=barrettRevert;Barrett.prototype.reduce=barrettReduce;Barrett.prototype.mulTo=barrettMulTo;Barrett.prototype.sqrTo=barrettSqrTo;function bnModPow(e,t){var m=e.bitLength(),r,C=nbv(1),F;if(m<=0){return C}else{if(m<18){r=1}else{if(m<48){r=3}else{if(m<144){r=4}else{if(m<768){r=5}else{r=6}}}}}if(m<8){F=new Classic(t)}else{if(t.isEven()){F=new Barrett(t)}else{F=new Montgomery(t)}}var g=new Array(),w=3,H=r-1,E=(1<<r)-1;g[1]=F.convert(this);if(r>1){var j=nbi();F.sqrTo(g[1],j);while(w<=E){g[w]=nbi();F.mulTo(j,g[w-2],g[w]);w+=2}}var n=e.t-1,D,G=true,z=nbi(),B;m=nbits(e[n])-1;while(n>=0){if(m>=H){D=(e[n]>>(m-H))&E}else{D=(e[n]&((1<<(m+1))-1))<<(H-m);if(n>0){D|=e[n-1]>>(this.DB+m-H)}}w=r;while((D&1)==0){D>>=1;--w}if((m-=w)<0){m+=this.DB;--n}if(G){g[D].copyTo(C);G=false}else{while(w>1){F.sqrTo(C,z);F.sqrTo(z,C);w-=2}if(w>0){F.sqrTo(C,z)}else{B=C;C=z;z=B}F.mulTo(z,g[D],C)}while(n>=0&&(e[n]&(1<<m))==0){F.sqrTo(C,z);B=C;C=z;z=B;if(--m<0){m=this.DB-1;--n}}}return F.revert(C)}function bnGCD(n){var a=(this.s<0)?this.negate():this.clone();var g=(n.s<0)?n.negate():n.clone();if(a.compareTo(g)<0){var l=a;a=g;g=l}var m=a.getLowestSetBit(),j=g.getLowestSetBit();if(j<0){return a}if(m<j){j=m}if(j>0){a.rShiftTo(j,a);g.rShiftTo(j,g)}while(a.signum()>0){if((m=a.getLowestSetBit())>0){a.rShiftTo(m,a)}if((m=g.getLowestSetBit())>0){g.rShiftTo(m,g)}if(a.compareTo(g)>=0){a.subTo(g,a);a.rShiftTo(1,a)}else{g.subTo(a,g);g.rShiftTo(1,g)}}if(j>0){g.lShiftTo(j,g)}return g}function bnpModInt(g){if(g<=0){return 0}var h=this.DV%g,d=(this.s<0)?g-1:0;if(this.t>0){if(h==0){d=this[0]%g}else{for(var f=this.t-1;f>=0;--f){d=(h*d+this[f])%g}}}return d}function bnModInverse(p){var c=p.isEven();if((this.isEven()&&c)||p.signum()==0){return BigInteger.ZERO}var d=p.clone(),m=this.clone();var n=nbv(1),q=nbv(0),a=nbv(0),b=nbv(1);while(d.signum()!=0){while(d.isEven()){d.rShiftTo(1,d);if(c){if(!n.isEven()||!q.isEven()){n.addTo(this,n);q.subTo(p,q)}n.rShiftTo(1,n)}else{if(!q.isEven()){q.subTo(p,q)}}q.rShiftTo(1,q)}while(m.isEven()){m.rShiftTo(1,m);if(c){if(!a.isEven()||!b.isEven()){a.addTo(this,a);b.subTo(p,b)}a.rShiftTo(1,a)}else{if(!b.isEven()){b.subTo(p,b)}}b.rShiftTo(1,b)}if(d.compareTo(m)>=0){d.subTo(m,d);if(c){n.subTo(a,n)}q.subTo(b,q)}else{m.subTo(d,m);if(c){a.subTo(n,a)}b.subTo(q,b)}}if(m.compareTo(BigInteger.ONE)!=0){return BigInteger.ZERO}if(b.compareTo(p)>=0){return b.subtract(p)}if(b.signum()<0){b.addTo(p,b)}else{return b}if(b.signum()<0){return b.add(p)}else{return b}}var lowprimes=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997];var lplim=(1<<26)/lowprimes[lowprimes.length-1];function bnIsProbablePrime(h){var j,f=this.abs();if(f.t==1&&f[0]<=lowprimes[lowprimes.length-1]){for(j=0;j<lowprimes.length;++j){if(f[0]==lowprimes[j]){return true}}return false}if(f.isEven()){return false}j=1;while(j<lowprimes.length){var g=lowprimes[j],l=j+1;while(l<lowprimes.length&&g<lplim){g*=lowprimes[l++]}g=f.modInt(g);while(j<l){if(g%lowprimes[j++]==0){return false}}}return f.millerRabin(h)}function bnpMillerRabin(p){var n=this.subtract(BigInteger.ONE);var s=n.getLowestSetBit();if(s<=0){return false}var m=n.shiftRight(s);p=(p+1)>>1;if(p>lowprimes.length){p=lowprimes.length}var a=nbi();for(var q=0;q<p;++q){a.fromInt(lowprimes[Math.floor(Math.random()*lowprimes.length)]);var j=a.modPow(m,this);if(j.compareTo(BigInteger.ONE)!=0&&j.compareTo(n)!=0){var r=1;while(r++<s&&j.compareTo(n)!=0){j=j.modPowInt(2,this);if(j.compareTo(BigInteger.ONE)==0){return false}}if(j.compareTo(n)!=0){return false}}}return true}BigInteger.prototype.chunkSize=bnpChunkSize;BigInteger.prototype.toRadix=bnpToRadix;BigInteger.prototype.fromRadix=bnpFromRadix;BigInteger.prototype.fromNumber=bnpFromNumber;BigInteger.prototype.bitwiseTo=bnpBitwiseTo;BigInteger.prototype.changeBit=bnpChangeBit;BigInteger.prototype.addTo=bnpAddTo;BigInteger.prototype.dMultiply=bnpDMultiply;BigInteger.prototype.dAddOffset=bnpDAddOffset;BigInteger.prototype.multiplyLowerTo=bnpMultiplyLowerTo;BigInteger.prototype.multiplyUpperTo=bnpMultiplyUpperTo;BigInteger.prototype.modInt=bnpModInt;BigInteger.prototype.millerRabin=bnpMillerRabin;BigInteger.prototype.clone=bnClone;BigInteger.prototype.intValue=bnIntValue;BigInteger.prototype.byteValue=bnByteValue;BigInteger.prototype.shortValue=bnShortValue;BigInteger.prototype.signum=bnSigNum;BigInteger.prototype.toByteArray=bnToByteArray;BigInteger.prototype.equals=bnEquals;BigInteger.prototype.min=bnMin;BigInteger.prototype.max=bnMax;BigInteger.prototype.and=bnAnd;BigInteger.prototype.or=bnOr;BigInteger.prototype.xor=bnXor;BigInteger.prototype.andNot=bnAndNot;BigInteger.prototype.not=bnNot;BigInteger.prototype.shiftLeft=bnShiftLeft;BigInteger.prototype.shiftRight=bnShiftRight;BigInteger.prototype.getLowestSetBit=bnGetLowestSetBit;BigInteger.prototype.bitCount=bnBitCount;BigInteger.prototype.testBit=bnTestBit;BigInteger.prototype.setBit=bnSetBit;BigInteger.prototype.clearBit=bnClearBit;BigInteger.prototype.flipBit=bnFlipBit;BigInteger.prototype.add=bnAdd;BigInteger.prototype.subtract=bnSubtract;BigInteger.prototype.multiply=bnMultiply;BigInteger.prototype.divide=bnDivide;BigInteger.prototype.remainder=bnRemainder;BigInteger.prototype.divideAndRemainder=bnDivideAndRemainder;BigInteger.prototype.modPow=bnModPow;BigInteger.prototype.modInverse=bnModInverse;BigInteger.prototype.pow=bnPow;BigInteger.prototype.gcd=bnGCD;BigInteger.prototype.isProbablePrime=bnIsProbablePrime;BigInteger.prototype.square=bnSquare;(function(){function a(h){var p=h.util=h.util||{};(function(){if(typeof process!=="undefined"&&process.nextTick){p.nextTick=process.nextTick;if(typeof setImmediate==="function"){p.setImmediate=setImmediate}else{p.setImmediate=p.nextTick}return}if(typeof setImmediate==="function"){p.setImmediate=setImmediate;p.nextTick=function(C){return setImmediate(C)};return}p.setImmediate=function(C){setTimeout(C,0)};if(typeof window!=="undefined"&&typeof window.postMessage==="function"){var B="forge.setImmediate";var w=[];p.setImmediate=function(C){w.push(C);if(w.length===1){window.postMessage(B,"*")}};function v(C){if(C.source===window&&C.data===B){C.stopPropagation();var D=w.slice();w.length=0;D.forEach(function(H){H()})}}window.addEventListener("message",v,true)}if(typeof MutationObserver!=="undefined"){var A=Date.now();var z=true;var x=document.createElement("div");var w=[];new MutationObserver(function(){var C=w.slice();w.length=0;C.forEach(function(D){D()})}).observe(x,{attributes:true});var y=p.setImmediate;p.setImmediate=function(C){if(Date.now()-A>15){A=Date.now();y(C)}else{w.push(C);if(w.length===1){x.setAttribute("a",z=!z)}}}}p.nextTick=p.setImmediate})();p.isArray=Array.isArray||function(v){return Object.prototype.toString.call(v)==="[object Array]"};p.isArrayBuffer=function(v){return typeof ArrayBuffer!=="undefined"&&v instanceof ArrayBuffer};p.isArrayBufferView=function(v){return v&&p.isArrayBuffer(v.buffer)&&v.byteLength!==undefined};p.ByteBuffer=F;function F(y){this.data="";this.read=0;if(typeof y==="string"){this.data=y}else{if(p.isArrayBuffer(y)||p.isArrayBufferView(y)){var x=new Uint8Array(y);try{this.data=String.fromCharCode.apply(null,x)}catch(w){for(var v=0;v<x.length;++v){this.putByte(x[v])}}}else{if(y instanceof F||(typeof y==="object"&&typeof y.data==="string"&&typeof y.read==="number")){this.data=y.data;this.read=y.read}}}this._constructedStringLength=0}p.ByteStringBuffer=F;var m=4096;p.ByteStringBuffer.prototype._optimizeConstructedString=function(v){this._constructedStringLength+=v;if(this._constructedStringLength>m){this.data.substr(0,1);this._constructedStringLength=0}};p.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};p.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};p.ByteStringBuffer.prototype.putByte=function(v){return this.putBytes(String.fromCharCode(v))};p.ByteStringBuffer.prototype.fillWithByte=function(w,v){w=String.fromCharCode(w);var x=this.data;while(v>0){if(v&1){x+=w}v>>>=1;if(v>0){w+=w}}this.data=x;this._optimizeConstructedString(v);return this};p.ByteStringBuffer.prototype.putBytes=function(v){this.data+=v;this._optimizeConstructedString(v.length);return this};p.ByteStringBuffer.prototype.putString=function(v){return this.putBytes(p.encodeUtf8(v))};p.ByteStringBuffer.prototype.putInt16=function(v){return this.putBytes(String.fromCharCode(v>>8&255)+String.fromCharCode(v&255))};p.ByteStringBuffer.prototype.putInt24=function(v){return this.putBytes(String.fromCharCode(v>>16&255)+String.fromCharCode(v>>8&255)+String.fromCharCode(v&255))};p.ByteStringBuffer.prototype.putInt32=function(v){return this.putBytes(String.fromCharCode(v>>24&255)+String.fromCharCode(v>>16&255)+String.fromCharCode(v>>8&255)+String.fromCharCode(v&255))};p.ByteStringBuffer.prototype.putInt16Le=function(v){return this.putBytes(String.fromCharCode(v&255)+String.fromCharCode(v>>8&255))};p.ByteStringBuffer.prototype.putInt24Le=function(v){return this.putBytes(String.fromCharCode(v&255)+String.fromCharCode(v>>8&255)+String.fromCharCode(v>>16&255))};p.ByteStringBuffer.prototype.putInt32Le=function(v){return this.putBytes(String.fromCharCode(v&255)+String.fromCharCode(v>>8&255)+String.fromCharCode(v>>16&255)+String.fromCharCode(v>>24&255))};p.ByteStringBuffer.prototype.putInt=function(x,v){var w="";do{v-=8;w+=String.fromCharCode((x>>v)&255)}while(v>0);return this.putBytes(w)};p.ByteStringBuffer.prototype.putSignedInt=function(w,v){if(w<0){w+=2<<(v-1)}return this.putInt(w,v)};p.ByteStringBuffer.prototype.putBuffer=function(v){return this.putBytes(v.getBytes())};p.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};p.ByteStringBuffer.prototype.getInt16=function(){var v=(this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1));this.read+=2;return v};p.ByteStringBuffer.prototype.getInt24=function(){var v=(this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2));this.read+=3;return v};p.ByteStringBuffer.prototype.getInt32=function(){var v=(this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3));this.read+=4;return v};p.ByteStringBuffer.prototype.getInt16Le=function(){var v=(this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8);this.read+=2;return v};p.ByteStringBuffer.prototype.getInt24Le=function(){var v=(this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16);this.read+=3;return v};p.ByteStringBuffer.prototype.getInt32Le=function(){var v=(this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24);this.read+=4;return v};p.ByteStringBuffer.prototype.getInt=function(v){var w=0;do{w=(w<<8)+this.data.charCodeAt(this.read++);v-=8}while(v>0);return w};p.ByteStringBuffer.prototype.getSignedInt=function(w){var v=this.getInt(w);var x=2<<(w-2);if(v>=x){v-=x<<1}return v};p.ByteStringBuffer.prototype.getBytes=function(w){var v;if(w){w=Math.min(this.length(),w);v=this.data.slice(this.read,this.read+w);this.read+=w}else{if(w===0){v=""}else{v=(this.read===0)?this.data:this.data.slice(this.read);this.clear()}}return v};p.ByteStringBuffer.prototype.bytes=function(v){return(typeof(v)==="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+v))};p.ByteStringBuffer.prototype.at=function(v){return this.data.charCodeAt(this.read+v)};p.ByteStringBuffer.prototype.setAt=function(v,w){this.data=this.data.substr(0,this.read+v)+String.fromCharCode(w)+this.data.substr(this.read+v+1);return this};p.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};p.ByteStringBuffer.prototype.copy=function(){var v=p.createBuffer(this.data);v.read=this.read;return v};p.ByteStringBuffer.prototype.compact=function(){if(this.read>0){this.data=this.data.slice(this.read);this.read=0}return this};p.ByteStringBuffer.prototype.clear=function(){this.data="";this.read=0;return this};p.ByteStringBuffer.prototype.truncate=function(v){var w=Math.max(0,this.length()-v);this.data=this.data.substr(this.read,w);this.read=0;return this};p.ByteStringBuffer.prototype.toHex=function(){var v="";for(var x=this.read;x<this.data.length;++x){var w=this.data.charCodeAt(x);if(w<16){v+="0"}v+=w.toString(16)}return v};p.ByteStringBuffer.prototype.toString=function(){return p.decodeUtf8(this.bytes())};function G(y,v){v=v||{};this.read=v.readOffset||0;this.growSize=v.growSize||1024;var x=p.isArrayBuffer(y);var w=p.isArrayBufferView(y);if(x||w){if(x){this.data=new DataView(y)}else{this.data=new DataView(y.buffer,y.byteOffset,y.byteLength)}this.write=("writeOffset" in v?v.writeOffset:this.data.byteLength);return}this.data=new DataView(new ArrayBuffer(0));this.write=0;if(y!==null&&y!==undefined){this.putBytes(y)}if("writeOffset" in v){this.write=v.writeOffset}}p.DataBuffer=G;p.DataBuffer.prototype.length=function(){return this.write-this.read};p.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};p.DataBuffer.prototype.accommodate=function(x,w){if(this.length()>=x){return this}w=Math.max(w||this.growSize,x);var y=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);var v=new Uint8Array(this.length()+w);v.set(y);this.data=new DataView(v.buffer);return this};p.DataBuffer.prototype.putByte=function(v){this.accommodate(1);this.data.setUint8(this.write++,v);return this};p.DataBuffer.prototype.fillWithByte=function(w,v){this.accommodate(v);for(var x=0;x<v;++x){this.data.setUint8(w)}return this};p.DataBuffer.prototype.putBytes=function(A,w){if(p.isArrayBufferView(A)){var x=new Uint8Array(A.buffer,A.byteOffset,A.byteLength);var y=x.byteLength-x.byteOffset;this.accommodate(y);var v=new Uint8Array(this.data.buffer,this.write);v.set(x);this.write+=y;return this}if(p.isArrayBuffer(A)){var x=new Uint8Array(A);this.accommodate(x.byteLength);var v=new Uint8Array(this.data.buffer);v.set(x,this.write);this.write+=x.byteLength;return this}if(A instanceof p.DataBuffer||(typeof A==="object"&&typeof A.read==="number"&&typeof A.write==="number"&&p.isArrayBufferView(A.data))){var x=new Uint8Array(A.data.byteLength,A.read,A.length());this.accommodate(x.byteLength);var v=new Uint8Array(A.data.byteLength,this.write);v.set(x);this.write+=x.byteLength;return this}if(A instanceof p.ByteStringBuffer){A=A.data;w="binary"}w=w||"binary";if(typeof A==="string"){var z;if(w==="hex"){this.accommodate(Math.ceil(A.length/2));z=new Uint8Array(this.data.buffer,this.write);this.write+=p.binary.hex.decode(A,z,this.write);return this}if(w==="base64"){this.accommodate(Math.ceil(A.length/4)*3);z=new Uint8Array(this.data.buffer,this.write);this.write+=p.binary.base64.decode(A,z,this.write);return this}if(w==="utf8"){A=p.encodeUtf8(A);w="binary"}if(w==="binary"||w==="raw"){this.accommodate(A.length);z=new Uint8Array(this.data.buffer,this.write);this.write+=p.binary.raw.decode(z);return this}if(w==="utf16"){this.accommodate(A.length*2);z=new Uint16Array(this.data.buffer,this.write);this.write+=p.text.utf16.encode(z);return this}throw new Error("Invalid encoding: "+w)}throw Error("Invalid parameter: "+A)};p.DataBuffer.prototype.putBuffer=function(v){this.putBytes(v);v.clear();return this};p.DataBuffer.prototype.putString=function(v){return this.putBytes(v,"utf16")};p.DataBuffer.prototype.putInt16=function(v){this.accommodate(2);this.data.setInt16(this.write,v);this.write+=2;return this};p.DataBuffer.prototype.putInt24=function(v){this.accommodate(3);this.data.setInt16(this.write,v>>8&65535);this.data.setInt8(this.write,v>>16&255);this.write+=3;return this};p.DataBuffer.prototype.putInt32=function(v){this.accommodate(4);this.data.setInt32(this.write,v);this.write+=4;return this};p.DataBuffer.prototype.putInt16Le=function(v){this.accommodate(2);this.data.setInt16(this.write,v,true);this.write+=2;return this};p.DataBuffer.prototype.putInt24Le=function(v){this.accommodate(3);this.data.setInt8(this.write,v>>16&255);this.data.setInt16(this.write,v>>8&65535,true);this.write+=3;return this};p.DataBuffer.prototype.putInt32Le=function(v){this.accommodate(4);this.data.setInt32(this.write,v,true);this.write+=4;return this};p.DataBuffer.prototype.putInt=function(w,v){this.accommodate(v/8);do{v-=8;this.data.setInt8(this.write++,(w>>v)&255)}while(v>0);return this};p.DataBuffer.prototype.putSignedInt=function(w,v){this.accommodate(v/8);if(w<0){w+=2<<(v-1)}return this.putInt(w,v)};p.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};p.DataBuffer.prototype.getInt16=function(){var v=this.data.getInt16(this.read);this.read+=2;return v};p.DataBuffer.prototype.getInt24=function(){var v=(this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2));this.read+=3;return v};p.DataBuffer.prototype.getInt32=function(){var v=this.data.getInt32(this.read);this.read+=4;return v};p.DataBuffer.prototype.getInt16Le=function(){var v=this.data.getInt16(this.read,true);this.read+=2;return v};p.DataBuffer.prototype.getInt24Le=function(){var v=(this.data.getInt8(this.read)^this.data.getInt16(this.read+1,true)<<8);this.read+=3;return v};p.DataBuffer.prototype.getInt32Le=function(){var v=this.data.getInt32(this.read,true);this.read+=4;return v};p.DataBuffer.prototype.getInt=function(v){var w=0;do{w=(w<<8)+this.data.getInt8(this.read++);v-=8}while(v>0);return w};p.DataBuffer.prototype.getSignedInt=function(w){var v=this.getInt(w);var x=2<<(w-2);if(v>=x){v-=x<<1}return v};p.DataBuffer.prototype.getBytes=function(w){var v;if(w){w=Math.min(this.length(),w);v=this.data.slice(this.read,this.read+w);this.read+=w}else{if(w===0){v=""}else{v=(this.read===0)?this.data:this.data.slice(this.read);this.clear()}}return v};p.DataBuffer.prototype.bytes=function(v){return(typeof(v)==="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+v))};p.DataBuffer.prototype.at=function(v){return this.data.getUint8(this.read+v)};p.DataBuffer.prototype.setAt=function(v,w){this.data.setUint8(v,w);return this};p.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};p.DataBuffer.prototype.copy=function(){return new p.DataBuffer(this)};p.DataBuffer.prototype.compact=function(){if(this.read>0){var w=new Uint8Array(this.data.buffer,this.read);var v=new Uint8Array(w.byteLength);v.set(w);this.data=new DataView(v);this.write-=this.read;this.read=0}return this};p.DataBuffer.prototype.clear=function(){this.data=new DataView(new ArrayBuffer(0));this.read=this.write=0;return this};p.DataBuffer.prototype.truncate=function(v){this.write=Math.max(0,this.length()-v);this.read=Math.min(this.read,this.write);return this};p.DataBuffer.prototype.toHex=function(){var v="";for(var x=this.read;x<this.data.byteLength;++x){var w=this.data.getUint8(x);if(w<16){v+="0"}v+=w.toString(16)}return v};p.DataBuffer.prototype.toString=function(v){var w=new Uint8Array(this.data,this.read,this.length());v=v||"utf8";if(v==="binary"||v==="raw"){return p.binary.raw.encode(w)}if(v==="hex"){return p.binary.hex.encode(w)}if(v==="base64"){return p.binary.base64.encode(w)}if(v==="utf8"){return p.text.utf8.decode(w)}if(v==="utf16"){return p.text.utf16.decode(w)}throw new Error("Invalid encoding: "+v)};p.createBuffer=function(w,v){v=v||"raw";if(w!==undefined&&v==="utf8"){w=p.encodeUtf8(w)}return new p.ByteBuffer(w)};p.fillString=function(v,x){var w="";while(x>0){if(x&1){w+=v}x>>>=1;if(x>0){v+=v}}return w};p.xorBytes=function(C,v,y){var B="";var A="";var z="";var w=0;var x=0;for(;y>0;--y,++w){A=C.charCodeAt(w)^v.charCodeAt(w);if(x>=10){B+=z;z="";x=0}z+=String.fromCharCode(A);++x}B+=z;return B};p.hexToBytes=function(x){var v="";var w=0;if(x.length&1==1){w=1;v+=String.fromCharCode(parseInt(x[0],16))}for(;w<x.length;w+=2){v+=String.fromCharCode(parseInt(x.substr(w,2),16))}return v};p.bytesToHex=function(v){return p.createBuffer(v).toHex()};p.int32ToBytes=function(v){return(String.fromCharCode(v>>24&255)+String.fromCharCode(v>>16&255)+String.fromCharCode(v>>8&255)+String.fromCharCode(v&255))};var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var j=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];p.encode64=function(w,y){var A="";var C="";var x,z,B;var v=0;while(v<w.length){x=w.charCodeAt(v++);z=w.charCodeAt(v++);B=w.charCodeAt(v++);A+=l.charAt(x>>2);A+=l.charAt(((x&3)<<4)|(z>>4));if(isNaN(z)){A+="=="}else{A+=l.charAt(((z&15)<<2)|(B>>6));A+=isNaN(B)?"=":l.charAt(B&63)}if(y&&A.length>y){C+=A.substr(0,y)+"\r\n";A=A.substr(y)}}C+=A;return C};p.decode64=function(A){A=A.replace(/[^A-Za-z0-9\+\/\=]/g,"");var z="";var w,B,y,x;var v=0;while(v<A.length){w=j[A.charCodeAt(v++)-43];B=j[A.charCodeAt(v++)-43];y=j[A.charCodeAt(v++)-43];x=j[A.charCodeAt(v++)-43];z+=String.fromCharCode((w<<2)|(B>>4));if(y!==64){z+=String.fromCharCode(((B&15)<<4)|(y>>2));if(x!==64){z+=String.fromCharCode(((y&3)<<6)|x)}}}return z};p.encodeUtf8=function(v){return unescape(encodeURIComponent(v))};p.decodeUtf8=function(v){return decodeURIComponent(escape(v))};p.binary={raw:{},hex:{},base64:{}};p.binary.raw.encode=function(v){return String.fromCharCode.apply(null,v)};p.binary.raw.decode=function(A,y,x){var v=y;if(!v){v=new Uint8Array(A.length)}x=x||0;var z=x;for(var w=0;w<A.length;++w){v[z++]=A.charCodeAt(w)}return y?(z-x):v};p.binary.hex.encode=p.bytesToHex;p.binary.hex.decode=function(x,y,A){var v=y;if(!v){v=new Uint8Array(Math.ceil(x.length/2))}A=A||0;var w=0,z=A;if(x.length&1){w=1;v[z++]=parseInt(x[0],16)}for(;w<x.length;w+=2){v[z++]=parseInt(x.substr(w,2),16)}return y?(z-A):v};p.binary.base64.encode=function(w,y){var A="";var C="";var x,z,B;var v=0;while(v<w.byteLength){x=w[v++];z=w[v++];B=w[v++];A+=l.charAt(x>>2);A+=l.charAt(((x&3)<<4)|(z>>4));if(isNaN(z)){A+="=="}else{A+=l.charAt(((z&15)<<2)|(B>>6));A+=isNaN(B)?"=":l.charAt(B&63)}if(y&&A.length>y){C+=A.substr(0,y)+"\r\n";A=A.substr(y)}}C+=A;return C};p.binary.base64.decode=function(x,B,H){var v=B;if(!v){v=new Uint8Array(Math.ceil(x.length/4)*3)}x=x.replace(/[^A-Za-z0-9\+\/\=]/g,"");H=H||0;var D,A,z,y;var w=0,C=H;while(w<x.length){D=j[x.charCodeAt(w++)-43];A=j[x.charCodeAt(w++)-43];z=j[x.charCodeAt(w++)-43];y=j[x.charCodeAt(w++)-43];v[C++]=(D<<2)|(A>>4);if(z!==64){v[C++]=((A&15)<<4)|(z>>2);if(y!==64){v[C++]=((z&3)<<6)|y}}}return B?(C-H):v.subarray(0,C)};p.text={utf8:{},utf16:{}};p.text.utf8.encode=function(A,y,x){A=p.encodeUtf8(A);var v=y;if(!v){v=new Uint8Array(A.length)}x=x||0;var z=x;for(var w=0;w<A.length;++w){v[z++]=A.charCodeAt(w)}return y?(z-x):v};p.text.utf8.decode=function(v){return p.decodeUtf8(String.fromCharCode.apply(null,v))};p.text.utf16.encode=function(y,C,w){var z=C;if(!z){z=new Uint8Array(y.length)}var A=new Uint16Array(z);w=w||0;var x=w;var B=w;for(var v=0;v<y.length;++v){A[B++]=y.charCodeAt(v);x+=2}return C?(x-w):z};p.text.utf16.decode=function(v){return String.fromCharCode.apply(null,new Uint16Array(v))};p.deflate=function(w,z,v){z=p.decode64(w.deflate(p.encode64(z)).rval);if(v){var x=2;var y=z.charCodeAt(1);if(y&32){x=6}z=z.substring(x,z.length-4)}return z};p.inflate=function(v,x,y){var w=v.inflate(p.encode64(x)).rval;return(w===null)?null:p.decode64(w)};var t=function(z,x,w){if(!z){throw new Error("WebStorage not available.")}var v;if(w===null){v=z.removeItem(x)}else{w=p.encode64(JSON.stringify(w));v=z.setItem(x,w)}if(typeof(v)!=="undefined"&&v.rval!==true){var y=new Error(v.error.message);y.id=v.error.id;y.name=v.error.name;throw y}};var n=function(y,w){if(!y){throw new Error("WebStorage not available.")}var v=y.getItem(w);if(y.init){if(v.rval===null){if(v.error){var x=new Error(v.error.message);x.id=v.error.id;x.name=v.error.name;throw x}v=null}else{v=v.rval}}if(v!==null){v=JSON.parse(p.decode64(v))}return v};var g=function(z,x,y,v){var w=n(z,x);if(w===null){w={}}w[y]=v;t(z,x,w)};var r=function(y,w,x){var v=n(y,w);if(v!==null){v=(x in v)?v[x]:null}return v};var E=function(z,A,y){var w=n(z,A);if(w!==null&&y in w){delete w[y];var v=true;for(var x in w){v=false;break}if(v){w=null}t(z,A,w)}};var s=function(w,v){t(w,v,null)};var q=function(C,x,z){var v=null;if(typeof(z)==="undefined"){z=["web","flash"]}var y;var D=false;var B=null;for(var A in z){y=z[A];try{if(y==="flash"||y==="both"){if(x[0]===null){throw new Error("Flash local storage not available.")}v=C.apply(this,x);D=(y==="flash")}if(y==="web"||y==="both"){x[0]=localStorage;v=C.apply(this,x);D=true}}catch(w){B=w}if(D){break}}if(!D){throw B}return v};p.setItem=function(v,x,z,w,y){q(g,arguments,y)};p.getItem=function(v,w,y,x){return q(r,arguments,x)};p.removeItem=function(v,w,y,x){q(E,arguments,x)};p.clearItems=function(x,v,w){q(s,arguments,w)};p.parseUrl=function(w){var v=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;v.lastIndex=0;var x=v.exec(w);var y=(x===null)?null:{full:w,scheme:x[1],host:x[2],port:x[3],path:x[4]};if(y){y.fullHost=y.host;if(y.port){if(y.port!==80&&y.scheme==="http"){y.fullHost+=":"+y.port}else{if(y.port!==443&&y.scheme==="https"){y.fullHost+=":"+y.port}}}else{if(y.scheme==="http"){y.port=80}else{if(y.scheme==="https"){y.port=443}}}y.full=y.scheme+"://"+y.fullHost}return y};var u=null;p.getQueryVariables=function(w){var v=function(C){var z={};var H=C.split("&");for(var A=0;A<H.length;A++){var D=H[A].indexOf("=");var y;var B;if(D>0){y=H[A].substring(0,D);B=H[A].substring(D+1)}else{y=H[A];B=null}if(!(y in z)){z[y]=[]}if(!(y in Object.prototype)&&B!==null){z[y].push(unescape(B))}}return z};var x;if(typeof(w)==="undefined"){if(u===null){if(typeof(window)!=="undefined"&&window.location&&window.location.search){u=v(window.location.search.substring(1))}else{u={}}}x=u}else{x=v(w)}return x};p.parseFragment=function(A){var z=A;var y="";var v=A.indexOf("?");if(v>0){z=A.substring(0,v);y=A.substring(v+1)}var x=z.split("/");if(x.length>0&&x[0]===""){x.shift()}var w=(y==="")?{}:p.getQueryVariables(y);return{pathString:z,queryString:y,path:x,query:w}};p.makeRequest=function(x){var v=p.parseFragment(x);var w={path:v.pathString,query:v.queryString,getPath:function(y){return(typeof(y)==="undefined")?v.path:v.path[y]},getQuery:function(y,z){var A;if(typeof(y)==="undefined"){A=v.query}else{A=v.query[y];if(A&&typeof(z)!=="undefined"){A=A[z]}}return A},getQueryLast:function(A,y){var z;var B=w.getQuery(A);if(B){z=B[B.length-1]}else{z=y}return z}};return w};p.makeLink=function(w,v,y){w=jQuery.isArray(w)?w.join("/"):w;var x=jQuery.param(v||{});y=y||"";return w+((x.length>0)?("?"+x):"")+((y.length>0)?("#"+y):"")};p.setPath=function(B,v,w){if(typeof(B)==="object"&&B!==null){var x=0;var A=v.length;while(x<A){var y=v[x++];if(x==A){B[y]=w}else{var z=(y in B);if(!z||(z&&typeof(B[y])!=="object")||(z&&B[y]===null)){B[y]={}}B=B[y]}}}};p.getPath=function(w,x,B){var y=0;var A=x.length;var z=true;while(z&&y<A&&typeof(w)==="object"&&w!==null){var v=x[y++];z=v in w;if(z){w=w[v]}}return(z?w:B)};p.deletePath=function(z,x){if(typeof(z)==="object"&&z!==null){var v=0;var y=x.length;while(v<y){var w=x[v++];if(v==y){delete z[w]}else{if(!(w in z)||(typeof(z[w])!=="object")||(z[w]===null)){break}z=z[w]}}}};p.isEmpty=function(w){for(var v in w){if(w.hasOwnProperty(v)){return false}}return true};p.format=function(y){var w=/%./g;var C;var B;var A=0;var x=[];var v=0;while((C=w.exec(y))){B=y.substring(v,w.lastIndex-2);if(B.length>0){x.push(B)}v=w.lastIndex;var z=C[0][1];switch(z){case"s":case"o":if(A<arguments.length){x.push(arguments[A+++1])}else{x.push("<?>")}break;case"%":x.push("%");break;default:x.push("<%"+z+"?>")}}x.push(y.substring(v));return x.join("")};p.formatNumber=function(v,I,A,J){var D=v,z=isNaN(I=Math.abs(I))?2:I;var y=A===undefined?",":A;var B=J===undefined?".":J,C=D<0?"-":"";var x=parseInt((D=Math.abs(+D||0).toFixed(z)),10)+"";var w=(x.length>3)?x.length%3:0;return C+(w?x.substr(0,w)+B:"")+x.substr(w).replace(/(\d{3})(?=\d)/g,"$1"+B)+(z?y+Math.abs(D-x).toFixed(z).slice(2):"")};p.formatSize=function(v){if(v>=1073741824){v=p.formatNumber(v/1073741824,2,".","")+" GiB"}else{if(v>=1048576){v=p.formatNumber(v/1048576,2,".","")+" MiB"}else{if(v>=1024){v=p.formatNumber(v/1024,0)+" KiB"}else{v=p.formatNumber(v,0)+" bytes"}}}return v};p.bytesFromIP=function(v){if(v.indexOf(".")!==-1){return p.bytesFromIPv4(v)}if(v.indexOf(":")!==-1){return p.bytesFromIPv6(v)}return null};p.bytesFromIPv4=function(w){w=w.split(".");if(w.length!==4){return null}var x=p.createBuffer();for(var v=0;v<w.length;++v){var y=parseInt(w[v],10);if(isNaN(y)){return null}x.putByte(y)}return x.getBytes()};p.bytesFromIPv6=function(A){var x=0;A=A.split(":").filter(function(B){if(B.length===0){++x}return true});var v=(8-A.length+x)*2;var y=p.createBuffer();for(var w=0;w<8;++w){if(!A[w]||A[w].length===0){y.fillWithByte(0,v);v=0;continue}var z=p.hexToBytes(A[w]);if(z.length<2){y.putByte(0)}y.putBytes(z)}return y.getBytes()};p.bytesToIP=function(v){if(v.length===4){return p.bytesToIPv4(v)}if(v.length===16){return p.bytesToIPv6(v)}return null};p.bytesToIPv4=function(w){if(w.length!==4){return null}var v=[];for(var x=0;x<w.length;++x){v.push(w.charCodeAt(x))}return v.join(".")};p.bytesToIPv6=function(A){if(A.length!==16){return null}var D=[];var z=[];var v=0;for(var C=0;C<A.length;C+=2){var B=p.bytesToHex(A[C]+A[C+1]);while(B[0]==="0"&&B!=="0"){B=B.substr(1)}if(B==="0"){var y=z[z.length-1];var w=D.length;if(!y||w!==y.end+1){z.push({start:w,end:w})}else{y.end=w;if((y.end-y.start)>(z[v].end-z[v].start)){v=z.length-1}}}D.push(B)}if(z.length>0){var x=z[v];if(x.end-x.start>0){D.splice(x.start,x.end-x.start+1,"");if(x.start===0){D.unshift("")}if(x.end===7){D.push("")}}}return D.join(":")};p.estimateCores=function(z,A){if(typeof z==="function"){A=z;z={}}z=z||{};if("cores" in p&&!z.update){return A(null,p.cores)}if(typeof navigator!=="undefined"&&"hardwareConcurrency" in navigator&&navigator.hardwareConcurrency>0){p.cores=navigator.hardwareConcurrency;return A(null,p.cores)}if(typeof Worker==="undefined"){p.cores=1;return A(null,p.cores)}if(typeof Blob==="undefined"){p.cores=2;return A(null,p.cores)}var y=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(D){var B=Date.now();var C=B+4;while(Date.now()<C){}self.postMessage({st:B,et:C})})}.toString(),")()"],{type:"application/javascript"}));v([],5,16);function v(H,C,B){if(C===0){var D=Math.floor(H.reduce(function(J,I){return J+I},0)/H.length);p.cores=Math.max(1,D);URL.revokeObjectURL(y);return A(null,p.cores)}w(B,function(J,I){H.push(x(B,I));v(H,C-1,B)})}function w(D,M){var B=[];var C=[];for(var L=0;L<D;++L){var K=new Worker(y);K.addEventListener("message",function(I){C.push(I.data);if(C.length===D){for(var H=0;H<D;++H){B[H].terminate()}M(null,C)}});B.push(K)}for(var L=0;L<D;++L){B[L].postMessage(L)}}function x(B,H){var I=[];for(var O=0;O<B;++O){var C=H[O];var Q=I[O]=[];for(var D=0;D<B;++D){if(O===D){continue}var P=H[D];if((C.st>P.st&&C.st<P.et)||(P.st>C.st&&P.st<C.et)){Q.push(D)}}}return I.reduce(function(J,K){return Math.max(J,K.length)},0)}}}var f="util";if(typeof define!=="function"){if(typeof module==="object"&&module.exports){var b=true;define=function(h,g){g(require,module)}}else{if(typeof forge==="undefined"){forge={}}return a(forge)}}var d;var e=function(g,h){h.exports=function(l){var m=d.map(function(n){return g(n)}).concat(a);l=l||{};l.defined=l.defined||{};if(l.defined[f]){return l[f]}l.defined[f]=true;for(var j=0;j<m.length;++j){m[j](l)}return l[f]}};var c=define;define=function(h,g){d=(typeof h==="string")?g.slice(2):h.slice(2);if(b){delete define;return c.apply(null,Array.prototype.slice.call(arguments,0))}define=c;return define.apply(null,Array.prototype.slice.call(arguments,0))};define(["require","module"],function(){e.apply(null,Array.prototype.slice.call(arguments,0))})})();(function(){function a(j){var g=j.sha256=j.sha256||{};j.md=j.md||{};j.md.algorithms=j.md.algorithms||{};j.md.sha256=j.md.algorithms.sha256=g;g.create=function(){if(!m){h()}var u=null;var n=j.util.createBuffer();var v=new Array(64);var w={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,messageLength64:[0,0]};w.start=function(){w.messageLength=0;w.messageLength64=[0,0];n=j.util.createBuffer();u={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225};return w};w.start();w.update=function(s,r){if(r==="utf8"){s=j.util.encodeUtf8(s)}w.messageLength+=s.length;w.messageLength64[0]+=(s.length/4294967296)>>>0;w.messageLength64[1]+=s.length>>>0;n.putBytes(s);p(u,v,n);if(n.read>2048||n.length()===0){n.compact()}return w};w.digest=function(){var t=j.util.createBuffer();t.putBytes(n.bytes());t.putBytes(q.substr(0,64-((w.messageLength64[1]+8)&63)));t.putInt32((w.messageLength64[0]<<3)|(w.messageLength64[0]>>>28));t.putInt32(w.messageLength64[1]<<3);var r={h0:u.h0,h1:u.h1,h2:u.h2,h3:u.h3,h4:u.h4,h5:u.h5,h6:u.h6,h7:u.h7};p(r,v,t);var s=j.util.createBuffer();s.putInt32(r.h0);s.putInt32(r.h1);s.putInt32(r.h2);s.putInt32(r.h3);s.putInt32(r.h4);s.putInt32(r.h5);s.putInt32(r.h6);s.putInt32(r.h7);return s};return w};var q=null;var m=false;var l=null;function h(){q=String.fromCharCode(128);q+=j.util.fillString(String.fromCharCode(0),64);l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];m=true}function p(F,B,Y){var y,v,t,r,D,n,Z,H,G,E,C,A,z,x,u;var aa=Y.length();while(aa>=64){for(Z=0;Z<16;++Z){B[Z]=Y.getInt32()}for(;Z<64;++Z){y=B[Z-2];y=((y>>>17)|(y<<15))^((y>>>19)|(y<<13))^(y>>>10);v=B[Z-15];v=((v>>>7)|(v<<25))^((v>>>18)|(v<<14))^(v>>>3);B[Z]=(y+B[Z-7]+v+B[Z-16])|0}H=F.h0;G=F.h1;E=F.h2;C=F.h3;A=F.h4;z=F.h5;x=F.h6;u=F.h7;for(Z=0;Z<64;++Z){r=((A>>>6)|(A<<26))^((A>>>11)|(A<<21))^((A>>>25)|(A<<7));D=x^(A&(z^x));t=((H>>>2)|(H<<30))^((H>>>13)|(H<<19))^((H>>>22)|(H<<10));n=(H&G)|(E&(H^G));y=u+r+D+l[Z]+B[Z];v=t+n;u=x;x=z;z=A;A=(C+y)|0;C=E;E=G;G=H;H=(y+v)|0}F.h0=(F.h0+H)|0;F.h1=(F.h1+G)|0;F.h2=(F.h2+E)|0;F.h3=(F.h3+C)|0;F.h4=(F.h4+A)|0;F.h5=(F.h5+z)|0;F.h6=(F.h6+x)|0;F.h7=(F.h7+u)|0;aa-=64}}}var f="sha256";if(typeof define!=="function"){if(typeof module==="object"&&module.exports){var b=true;define=function(h,g){g(require,module)}}else{if(typeof forge==="undefined"){forge={}}return a(forge)}}var d;var e=function(g,h){h.exports=function(l){var m=d.map(function(n){return g(n)}).concat(a);l=l||{};l.defined=l.defined||{};if(l.defined[f]){return l[f]}l.defined[f]=true;for(var j=0;j<m.length;++j){m[j](l)}return l[f]}};var c=define;define=function(h,g){d=(typeof h==="string")?g.slice(2):h.slice(2);if(b){delete define;return c.apply(null,Array.prototype.slice.call(arguments,0))}define=c;return define.apply(null,Array.prototype.slice.call(arguments,0))};define(["require","module","./util"],function(){e.apply(null,Array.prototype.slice.call(arguments,0))})})();(function(){function a(g){g.cipher=g.cipher||{};g.cipher.algorithms=g.cipher.algorithms||{};g.cipher.createCipher=function(j,l){var m=j;if(typeof m==="string"){m=g.cipher.getAlgorithm(m);if(m){m=m()}}if(!m){throw new Error("Unsupported algorithm: "+j)}return new g.cipher.BlockCipher({algorithm:m,key:l,decrypt:false})};g.cipher.createDecipher=function(j,l){var m=j;if(typeof m==="string"){m=g.cipher.getAlgorithm(m);if(m){m=m()}}if(!m){throw new Error("Unsupported algorithm: "+j)}return new g.cipher.BlockCipher({algorithm:m,key:l,decrypt:true})};g.cipher.registerAlgorithm=function(l,j){l=l.toUpperCase();g.cipher.algorithms[l]=j};g.cipher.getAlgorithm=function(j){j=j.toUpperCase();if(j in g.cipher.algorithms){return g.cipher.algorithms[j]}return null};var h=g.cipher.BlockCipher=function(j){this.algorithm=j.algorithm;this.mode=this.algorithm.mode;this.blockSize=this.mode.blockSize;this._finish=false;this._input=null;this.output=null;this._op=j.decrypt?this.mode.decrypt:this.mode.encrypt;this._decrypt=j.decrypt;this.algorithm.initialize(j)};h.prototype.start=function(j){j=j||{};var m={};for(var l in j){m[l]=j[l]}m.decrypt=this._decrypt;this._finish=false;this._input=g.util.createBuffer();this.output=j.output||g.util.createBuffer();this.mode.start(m)};h.prototype.update=function(j){if(j){this._input.putBuffer(j)}while(!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish){}this._input.compact()};h.prototype.finish=function(l){if(l&&(this.mode.name==="ECB"||this.mode.name==="CBC")){this.mode.pad=function(m){return l(this.blockSize,m,false)};this.mode.unpad=function(m){return l(this.blockSize,m,true)}}var j={};j.decrypt=this._decrypt;j.overflow=this._input.length()%this.blockSize;if(!this._decrypt&&this.mode.pad){if(!this.mode.pad(this._input,j)){return false}}this._finish=true;this.update();if(this._decrypt&&this.mode.unpad){if(!this.mode.unpad(this.output,j)){return false}}if(this.mode.afterFinish){if(!this.mode.afterFinish(this.output,j)){return false}}return true}}var f="cipher";if(typeof define!=="function"){if(typeof module==="object"&&module.exports){var b=true;define=function(h,g){g(require,module)}}else{if(typeof forge==="undefined"){forge={}}return a(forge)}}var d;var e=function(g,h){h.exports=function(l){var m=d.map(function(n){return g(n)}).concat(a);l=l||{};l.defined=l.defined||{};if(l.defined[f]){return l[f]}l.defined[f]=true;for(var j=0;j<m.length;++j){m[j](l)}return l[f]}};var c=define;define=function(h,g){d=(typeof h==="string")?g.slice(2):h.slice(2);if(b){delete define;return c.apply(null,Array.prototype.slice.call(arguments,0))}define=c;return define.apply(null,Array.prototype.slice.call(arguments,0))};define(["require","module","./util"],function(){e.apply(null,Array.prototype.slice.call(arguments,0))})})();(function(){function a(j){j.cipher=j.cipher||{};var g=j.cipher.modes=j.cipher.modes||{};g.ecb=function(n){n=n||{};this.name="ECB";this.cipher=n.cipher;this.blockSize=n.blockSize||16;this._ints=this.blockSize/4;this._inBlock=new Array(this._ints);this._outBlock=new Array(this._ints)};g.ecb.prototype.start=function(n){};g.ecb.prototype.encrypt=function(t,u,s){if(t.length()<this.blockSize&&!(s&&t.length()>0)){return true}for(var n=0;n<this._ints;++n){this._inBlock[n]=t.getInt32()}this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n){u.putInt32(this._outBlock[n])}};g.ecb.prototype.decrypt=function(t,u,s){if(t.length()<this.blockSize&&!(s&&t.length()>0)){return true}for(var n=0;n<this._ints;++n){this._inBlock[n]=t.getInt32()}this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n){u.putInt32(this._outBlock[n])}};g.ecb.prototype.pad=function(r,n){var q=(r.length()===this.blockSize?this.blockSize:(this.blockSize-r.length()));r.fillWithByte(q,q);return true};g.ecb.prototype.unpad=function(t,n){if(n.overflow>0){return false}var u=t.length();var s=t.at(u-1);if(s>(this.blockSize<<2)){return false}t.truncate(s);return true};g.cbc=function(n){n=n||{};this.name="CBC";this.cipher=n.cipher;this.blockSize=n.blockSize||16;this._ints=this.blockSize/4;this._inBlock=new Array(this._ints);this._outBlock=new Array(this._ints)};g.cbc.prototype.start=function(n){if(n.iv===null){if(!this._prev){throw new Error("Invalid IV parameter.")}this._iv=this._prev.slice(0)}else{if(!("iv" in n)){throw new Error("Invalid IV parameter.")}else{this._iv=l(n.iv);this._prev=this._iv.slice(0)}}};g.cbc.prototype.encrypt=function(t,u,s){if(t.length()<this.blockSize&&!(s&&t.length()>0)){return true}for(var n=0;n<this._ints;++n){this._inBlock[n]=this._prev[n]^t.getInt32()}this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n){u.putInt32(this._outBlock[n])}this._prev=this._outBlock};g.cbc.prototype.decrypt=function(t,u,s){if(t.length()<this.blockSize&&!(s&&t.length()>0)){return true}for(var n=0;n<this._ints;++n){this._inBlock[n]=t.getInt32()}this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n){u.putInt32(this._prev[n]^this._outBlock[n])}this._prev=this._inBlock.slice(0)};g.cbc.prototype.pad=function(r,n){var q=(r.length()===this.blockSize?this.blockSize:(this.blockSize-r.length()));r.fillWithByte(q,q);return true};g.cbc.prototype.unpad=function(t,n){if(n.overflow>0){return false}var u=t.length();var s=t.at(u-1);if(s>(this.blockSize<<2)){return false}t.truncate(s);return true};g.cfb=function(n){n=n||{};this.name="CFB";this.cipher=n.cipher;this.blockSize=n.blockSize||16;this._ints=this.blockSize/4;this._inBlock=null;this._outBlock=new Array(this._ints);this._partialBlock=new Array(this._ints);this._partialOutput=j.util.createBuffer();this._partialBytes=0};g.cfb.prototype.start=function(n){if(!("iv" in n)){throw new Error("Invalid IV parameter.")}this._iv=l(n.iv);this._inBlock=this._iv.slice(0);this._partialBytes=0};g.cfb.prototype.encrypt=function(n,y,q){var x=n.length();if(x===0){return true}this.cipher.encrypt(this._inBlock,this._outBlock);if(this._partialBytes===0&&x>=this.blockSize){for(var p=0;p<this._ints;++p){this._inBlock[p]=n.getInt32()^this._outBlock[p];y.putInt32(this._inBlock[p])}return}var w=(this.blockSize-x)%this.blockSize;if(w>0){w=this.blockSize-w}this._partialOutput.clear();for(var p=0;p<this._ints;++p){this._partialBlock[p]=n.getInt32()^this._outBlock[p];this._partialOutput.putInt32(this._partialBlock[p])}if(w>0){n.read-=this.blockSize}else{for(var p=0;p<this._ints;++p){this._inBlock[p]=this._partialBlock[p]}}if(this._partialBytes>0){this._partialOutput.getBytes(this._partialBytes)}if(w>0&&!q){y.putBytes(this._partialOutput.getBytes(w-this._partialBytes));this._partialBytes=w;return true}y.putBytes(this._partialOutput.getBytes(x-this._partialBytes));this._partialBytes=0};g.cfb.prototype.decrypt=function(n,y,q){var x=n.length();if(x===0){return true}this.cipher.encrypt(this._inBlock,this._outBlock);if(this._partialBytes===0&&x>=this.blockSize){for(var p=0;p<this._ints;++p){this._inBlock[p]=n.getInt32();y.putInt32(this._inBlock[p]^this._outBlock[p])}return}var w=(this.blockSize-x)%this.blockSize;if(w>0){w=this.blockSize-w}this._partialOutput.clear();for(var p=0;p<this._ints;++p){this._partialBlock[p]=n.getInt32();this._partialOutput.putInt32(this._partialBlock[p]^this._outBlock[p])}if(w>0){n.read-=this.blockSize}else{for(var p=0;p<this._ints;++p){this._inBlock[p]=this._partialBlock[p]}}if(this._partialBytes>0){this._partialOutput.getBytes(this._partialBytes)}if(w>0&&!q){y.putBytes(this._partialOutput.getBytes(w-this._partialBytes));this._partialBytes=w;return true}y.putBytes(this._partialOutput.getBytes(x-this._partialBytes));this._partialBytes=0};g.ofb=function(n){n=n||{};this.name="OFB";this.cipher=n.cipher;this.blockSize=n.blockSize||16;this._ints=this.blockSize/4;this._inBlock=null;this._outBlock=new Array(this._ints);this._partialOutput=j.util.createBuffer();this._partialBytes=0};g.ofb.prototype.start=function(n){if(!("iv" in n)){throw new Error("Invalid IV parameter.")}this._iv=l(n.iv);this._inBlock=this._iv.slice(0);this._partialBytes=0};g.ofb.prototype.encrypt=function(n,y,q){var x=n.length();if(n.length()===0){return true}this.cipher.encrypt(this._inBlock,this._outBlock);if(this._partialBytes===0&&x>=this.blockSize){for(var p=0;p<this._ints;++p){y.putInt32(n.getInt32()^this._outBlock[p]);this._inBlock[p]=this._outBlock[p]}return}var w=(this.blockSize-x)%this.blockSize;if(w>0){w=this.blockSize-w}this._partialOutput.clear();for(var p=0;p<this._ints;++p){this._partialOutput.putInt32(n.getInt32()^this._outBlock[p])}if(w>0){n.read-=this.blockSize}else{for(var p=0;p<this._ints;++p){this._inBlock[p]=this._outBlock[p]}}if(this._partialBytes>0){this._partialOutput.getBytes(this._partialBytes)}if(w>0&&!q){y.putBytes(this._partialOutput.getBytes(w-this._partialBytes));this._partialBytes=w;return true}y.putBytes(this._partialOutput.getBytes(x-this._partialBytes));this._partialBytes=0};g.ofb.prototype.decrypt=g.ofb.prototype.encrypt;g.ctr=function(n){n=n||{};this.name="CTR";this.cipher=n.cipher;this.blockSize=n.blockSize||16;this._ints=this.blockSize/4;this._inBlock=null;this._outBlock=new Array(this._ints);this._partialOutput=j.util.createBuffer();this._partialBytes=0};g.ctr.prototype.start=function(n){if(!("iv" in n)){throw new Error("Invalid IV parameter.")}this._iv=l(n.iv);this._inBlock=this._iv.slice(0);this._partialBytes=0};g.ctr.prototype.encrypt=function(n,y,q){var x=n.length();if(x===0){return true}this.cipher.encrypt(this._inBlock,this._outBlock);if(this._partialBytes===0&&x>=this.blockSize){for(var p=0;p<this._ints;++p){y.putInt32(n.getInt32()^this._outBlock[p])}}else{var w=(this.blockSize-x)%this.blockSize;if(w>0){w=this.blockSize-w}this._partialOutput.clear();for(var p=0;p<this._ints;++p){this._partialOutput.putInt32(n.getInt32()^this._outBlock[p])}if(w>0){n.read-=this.blockSize}if(this._partialBytes>0){this._partialOutput.getBytes(this._partialBytes)}if(w>0&&!q){y.putBytes(this._partialOutput.getBytes(w-this._partialBytes));this._partialBytes=w;return true}y.putBytes(this._partialOutput.getBytes(x-this._partialBytes));this._partialBytes=0}h(this._inBlock)};g.ctr.prototype.decrypt=g.ctr.prototype.encrypt;g.gcm=function(n){n=n||{};this.name="GCM";this.cipher=n.cipher;this.blockSize=n.blockSize||16;this._ints=this.blockSize/4;this._inBlock=new Array(this._ints);this._outBlock=new Array(this._ints);this._partialOutput=j.util.createBuffer();this._partialBytes=0;this._R=3774873600};g.gcm.prototype.start=function(n){if(!("iv" in n)){throw new Error("Invalid IV parameter.")}var w=j.util.createBuffer(n.iv);this._cipherLength=0;var p;if("additionalData" in n){p=j.util.createBuffer(n.additionalData)}else{p=j.util.createBuffer()}if("tagLength" in n){this._tagLength=n.tagLength}else{this._tagLength=128}this._tag=null;if(n.decrypt){this._tag=j.util.createBuffer(n.tag).getBytes();if(this._tag.length!==(this._tagLength/8)){throw new Error("Authentication tag does not match tag length.")}}this._hashBlock=new Array(this._ints);this.tag=null;this._hashSubkey=new Array(this._ints);this.cipher.encrypt([0,0,0,0],this._hashSubkey);this.componentBits=4;this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var v=w.length();if(v===12){this._j0=[w.getInt32(),w.getInt32(),w.getInt32(),1]}else{this._j0=[0,0,0,0];while(w.length()>0){this._j0=this.ghash(this._hashSubkey,this._j0,[w.getInt32(),w.getInt32(),w.getInt32(),w.getInt32()])}this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(m(v*8)))}this._inBlock=this._j0.slice(0);h(this._inBlock);this._partialBytes=0;p=j.util.createBuffer(p);this._aDataLength=m(p.length()*8);var u=p.length()%this.blockSize;if(u){p.fillWithByte(0,this.blockSize-u)}this._s=[0,0,0,0];while(p.length()>0){this._s=this.ghash(this._hashSubkey,this._s,[p.getInt32(),p.getInt32(),p.getInt32(),p.getInt32()])}};g.gcm.prototype.encrypt=function(n,A,q){var z=n.length();if(z===0){return true}this.cipher.encrypt(this._inBlock,this._outBlock);if(this._partialBytes===0&&z>=this.blockSize){for(var p=0;p<this._ints;++p){A.putInt32(this._outBlock[p]^=n.getInt32())}this._cipherLength+=this.blockSize}else{var y=(this.blockSize-z)%this.blockSize;if(y>0){y=this.blockSize-y}this._partialOutput.clear();for(var p=0;p<this._ints;++p){this._partialOutput.putInt32(n.getInt32()^this._outBlock[p])}if(y===0||q){if(q){var r=z%this.blockSize;this._cipherLength+=r;this._partialOutput.truncate(this.blockSize-r)}else{this._cipherLength+=this.blockSize}for(var p=0;p<this._ints;++p){this._outBlock[p]=this._partialOutput.getInt32()}this._partialOutput.read-=this.blockSize}if(this._partialBytes>0){this._partialOutput.getBytes(this._partialBytes)}if(y>0&&!q){n.read-=this.blockSize;A.putBytes(this._partialOutput.getBytes(y-this._partialBytes));this._partialBytes=y;return true}A.putBytes(this._partialOutput.getBytes(z-this._partialBytes));this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock);h(this._inBlock)};g.gcm.prototype.decrypt=function(n,w,u){var v=n.length();if(v<this.blockSize&&!(u&&v>0)){return true}this.cipher.encrypt(this._inBlock,this._outBlock);h(this._inBlock);this._hashBlock[0]=n.getInt32();this._hashBlock[1]=n.getInt32();this._hashBlock[2]=n.getInt32();this._hashBlock[3]=n.getInt32();this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var p=0;p<this._ints;++p){w.putInt32(this._outBlock[p]^this._hashBlock[p])}if(v<this.blockSize){this._cipherLength+=v%this.blockSize}else{this._cipherLength+=this.blockSize}};g.gcm.prototype.afterFinish=function(y,n){var q=true;if(n.decrypt&&n.overflow){y.truncate(this.blockSize-n.overflow)}this.tag=j.util.createBuffer();var w=this._aDataLength.concat(m(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,w);var x=[];this.cipher.encrypt(this._j0,x);for(var p=0;p<this._ints;++p){this.tag.putInt32(this._s[p]^x[p])}this.tag.truncate(this.tag.length()%(this._tagLength/8));if(n.decrypt&&this.tag.bytes()!==this._tag){q=false}return q};g.gcm.prototype.multiply=function(y,w){var n=[0,0,0,0];var q=w.slice(0);for(var p=0;p<128;++p){var x=y[(p/32)|0]&(1<<(31-p%32));if(x){n[0]^=q[0];n[1]^=q[1];n[2]^=q[2];n[3]^=q[3]}this.pow(q,q)}return n};g.gcm.prototype.pow=function(u,t){var s=u[3]&1;for(var n=3;n>0;--n){t[n]=(u[n]>>>1)|((u[n-1]&1)<<31)}t[0]=u[0]>>>1;if(s){t[0]^=this._R}};g.gcm.prototype.tableMultiply=function(n){var w=[0,0,0,0];for(var q=0;q<32;++q){var y=(q/8)|0;var x=(n[y]>>>((7-(q%8))*4))&15;var p=this._m[q][x];w[0]^=p[0];w[1]^=p[1];w[2]^=p[2];w[3]^=p[3]}return w};g.gcm.prototype.ghash=function(n,q,r){q[0]^=r[0];q[1]^=r[1];q[2]^=r[2];q[3]^=r[3];return this.tableMultiply(q)};g.gcm.prototype.generateHashTable=function(t,p){var q=8/p;var E=4*q;var r=16*q;var v=new Array(r);for(var F=0;F<r;++F){var s=[0,0,0,0];var n=(F/E)|0;var u=((E-1-(F%E))*p);s[n]=(1<<(p-1))<<u;v[F]=this.generateSubHashTable(this.multiply(s,t),p)}return v};g.gcm.prototype.generateSubHashTable=function(n,p){var r=1<<p;var q=r>>>1;var E=new Array(r);E[q]=n.slice(0);var s=q>>>1;while(s>0){this.pow(E[2*s],E[s]=[]);s>>=1}s=2;while(s<q){for(var F=1;F<s;++F){var v=E[s];var u=E[F];E[s+F]=[v[0]^u[0],v[1]^u[1],v[2]^u[2],v[3]^u[3]]}s*=2}E[0]=[0,0,0,0];for(s=q+1;s<r;++s){var t=E[s^q];E[s]=[n[0]^t[0],n[1]^t[1],n[2]^t[2],n[3]^t[3]]}return E};function l(r){if(typeof r==="string"){r=j.util.createBuffer(r)}if(j.util.isArray(r)&&r.length>4){var q=r;r=j.util.createBuffer();for(var n=0;n<q.length;++n){r.putByte(q[n])}}if(!j.util.isArray(r)){r=[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()]}return r}function h(n){n[n.length-1]=(n[n.length-1]+1)&4294967295}function m(n){return[(n/4294967296)|0,n&4294967295]}}var f="cipherModes";if(typeof define!=="function"){if(typeof module==="object"&&module.exports){var b=true;define=function(h,g){g(require,module)}}else{if(typeof forge==="undefined"){forge={}}return a(forge)}}var d;var e=function(g,h){h.exports=function(l){var m=d.map(function(n){return g(n)}).concat(a);l=l||{};l.defined=l.defined||{};if(l.defined[f]){return l[f]}l.defined[f]=true;for(var j=0;j<m.length;++j){m[j](l)}return l[f]}};var c=define;define=function(h,g){d=(typeof h==="string")?g.slice(2):h.slice(2);if(b){delete define;return c.apply(null,Array.prototype.slice.call(arguments,0))}define=c;return define.apply(null,Array.prototype.slice.call(arguments,0))};define(["require","module","./util"],function(){e.apply(null,Array.prototype.slice.call(arguments,0))})})();(function(){function a(j){var g=j.pem=j.pem||{};g.encode=function(m,u){u=u||{};var t="-----BEGIN "+m.type+"-----\r\n";var s;if(m.procType){s={name:"Proc-Type",values:[String(m.procType.version),m.procType.type]};t+=l(s)}if(m.contentDomain){s={name:"Content-Domain",values:[m.contentDomain]};t+=l(s)}if(m.dekInfo){s={name:"DEK-Info",values:[m.dekInfo.algorithm]};if(m.dekInfo.parameters){s.values.push(m.dekInfo.parameters)}t+=l(s)}if(m.headers){for(var n=0;n<m.headers.length;++n){t+=l(m.headers[n])}}if(m.procType){t+="\r\n"}t+=j.util.encode64(m.body,u.maxline||64)+"\r\n";t+="-----END "+m.type+"-----\r\n";return t};g.decode=function(v){var r=[];var m=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g;var u=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/;var y=/\r?\n/;var s;while(true){s=m.exec(v);if(!s){break}var n={type:s[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:j.util.decode64(s[3])};r.push(n);if(!s[2]){continue}var N=s[2].split(y);var x=0;while(s&&x<N.length){var M=N[x].replace(/\s+$/,"");for(var O=x+1;O<N.length;++O){var t=N[O];if(!/\s/.test(t[0])){break}M+=t;x=O}s=M.match(u);if(s){var q={name:s[1],values:[]};var w=s[2].split(",");for(var p=0;p<w.length;++p){q.values.push(h(w[p]))}if(!n.procType){if(q.name!=="Proc-Type"){throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".')}else{if(q.values.length!==2){throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.')}}n.procType={version:w[0],type:w[1]}}else{if(!n.contentDomain&&q.name==="Content-Domain"){n.contentDomain=w[0]||""}else{if(!n.dekInfo&&q.name==="DEK-Info"){if(q.values.length===0){throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.')}n.dekInfo={algorithm:w[0],parameters:w[1]||null}}else{n.headers.push(q)}}}}++x}if(n.procType==="ENCRYPTED"&&!n.dekInfo){throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(r.length===0){throw new Error("Invalid PEM formatted message.")}return r};function l(r){var q=r.name+": ";var y=[];var A=function(s,t){return" "+t};for(var z=0;z<r.values.length;++z){y.push(r.values[z].replace(/^(\S+\r\n)/,A))}q+=y.join(",")+"\r\n";var n=0;var m=-1;for(var z=0;z<q.length;++z,++n){if(n>65&&m!==-1){var p=q[m];if(p===","){++m;q=q.substr(0,m)+"\r\n "+q.substr(m)}else{q=q.substr(0,m)+"\r\n"+p+q.substr(m+1)}n=(z-m-1);m=-1;++z}else{if(q[z]===" "||q[z]==="\t"||q[z]===","){m=z}}}return q}function h(m){return m.replace(/^\s+/,"")}}var f="pem";if(typeof define!=="function"){if(typeof module==="object"&&module.exports){var b=true;define=function(h,g){g(require,module)}}else{if(typeof forge==="undefined"){forge={}}return a(forge)}}var d;var e=function(g,h){h.exports=function(l){var m=d.map(function(n){return g(n)}).concat(a);l=l||{};l.defined=l.defined||{};if(l.defined[f]){return l[f]}l.defined[f]=true;for(var j=0;j<m.length;++j){m[j](l)}return l[f]}};var c=define;define=function(h,g){d=(typeof h==="string")?g.slice(2):h.slice(2);if(b){delete define;return c.apply(null,Array.prototype.slice.call(arguments,0))}define=c;return define.apply(null,Array.prototype.slice.call(arguments,0))};define(["require","module","./util"],function(){e.apply(null,Array.prototype.slice.call(arguments,0))})})();(function(){function a(l){var j=l.asn1=l.asn1||{};j.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};j.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};j.create=function(p,w,n,m){if(l.util.isArray(m)){var v=[];for(var u=0;u<m.length;++u){if(m[u]!==undefined){v.push(m[u])}}m=v}return{tagClass:p,type:w,constructed:n,composed:n||l.util.isArray(m),value:m}};var g=j.getBerValueLength=function(r){var m=r.getByte();if(m===128){return undefined}var q;var n=m&128;if(!n){q=m}else{q=r.getInt((m&127)<<3)}return q};j.fromDer=function(m,y){if(y===undefined){y=true}if(typeof m==="string"){m=l.util.createBuffer(m)}if(m.length()<2){var w=new Error("Too few bytes to parse DER.");w.bytes=m.length();throw w}var x=m.getByte();var u=(x&192);var v=x&31;var R=g(m);if(m.length()<R){if(y){var w=new Error("Too few bytes to read ASN.1 value.");w.detail=m.length()+" < "+R;throw w}R=m.length()}var z;var p=((x&32)===32);var t=p;if(!t&&u===j.Class.UNIVERSAL&&v===j.Type.BITSTRING&&R>1){var Q=m.read;var S=m.getByte();if(S===0){x=m.getByte();var n=(x&192);if(n===j.Class.UNIVERSAL||n===j.Class.CONTEXT_SPECIFIC){try{var q=g(m);t=(q===R-(m.read-Q));if(t){++Q;--R}}catch(s){}}}m.read=Q}if(t){z=[];if(R===undefined){for(;;){if(m.bytes(2)===String.fromCharCode(0,0)){m.getBytes(2);break}z.push(j.fromDer(m,y))}}else{var A=m.length();while(R>0){z.push(j.fromDer(m,y));R-=A-m.length();A=m.length()}}}else{if(R===undefined){if(y){throw new Error("Non-constructed ASN.1 object of indefinite length.")}R=m.length()}if(v===j.Type.BMPSTRING){z="";for(var r=0;r<R;r+=2){z+=String.fromCharCode(m.getInt16())}}else{z=m.getBytes(R)}}return j.create(u,v,p,z)};j.toDer=function(q){var y=l.util.createBuffer();var m=q.tagClass|q.type;var p=l.util.createBuffer();if(q.composed){if(q.constructed){m|=32}else{p.putByte(0)}for(var n=0;n<q.value.length;++n){if(q.value[n]!==undefined){p.putBuffer(j.toDer(q.value[n]))}}}else{if(q.type===j.Type.BMPSTRING){for(var n=0;n<q.value.length;++n){p.putInt16(q.value.charCodeAt(n))}}else{p.putBytes(q.value)}}y.putByte(m);if(p.length()<=127){y.putByte(p.length()&127)}else{var x=p.length();var w="";do{w+=String.fromCharCode(x&255);x=x>>>8}while(x>0);y.putByte(w.length|128);for(var n=w.length-1;n>=0;--n){y.putByte(w.charCodeAt(n))}}y.putBuffer(p);return y};j.oidToDer=function(B){var r=B.split(".");var s=l.util.createBuffer();s.putByte(40*parseInt(r[0],10)+parseInt(r[1],10));var q,t,p,m;for(var C=2;C<r.length;++C){q=true;t=[];p=parseInt(r[C],10);do{m=p&127;p=p>>>7;if(!q){m|=128}t.push(m);q=false}while(p>0);for(var A=t.length-1;A>=0;--A){s.putByte(t[A])}}return s};j.derToOid=function(m){var q;if(typeof m==="string"){m=l.util.createBuffer(m)}var r=m.getByte();q=Math.floor(r/40)+"."+(r%40);var n=0;while(m.length()>0){r=m.getByte();n=n<<7;if(r&128){n+=r&127}else{q+="."+(n+r);n=0}}return q};j.utcTimeToDate=function(J){var q=new Date();var I=parseInt(J.substr(0,2),10);I=(I>=50)?1900+I:2000+I;var K=parseInt(J.substr(2,2),10)-1;var s=parseInt(J.substr(4,2),10);var t=parseInt(J.substr(6,2),10);var v=parseInt(J.substr(8,2),10);var m=0;if(J.length>11){var w=J.charAt(10);var u=10;if(w!=="+"&&w!=="-"){m=parseInt(J.substr(10,2),10);u+=2}}q.setUTCFullYear(I,K,s);q.setUTCHours(t,v,m,0);if(u){w=J.charAt(u);if(w==="+"||w==="-"){var n=parseInt(J.substr(u+1,2),10);var p=parseInt(J.substr(u+4,2),10);var r=n*60+p;r*=60000;if(w==="+"){q.setTime(+q-r)}else{q.setTime(+q+r)}}}return q};j.generalizedTimeToDate=function(x){var q=new Date();var t=parseInt(x.substr(0,4),10);var M=parseInt(x.substr(4,2),10)-1;var w=parseInt(x.substr(6,2),10);var r=parseInt(x.substr(8,2),10);var u=parseInt(x.substr(10,2),10);var N=parseInt(x.substr(12,2),10);var p=0;var v=0;var n=false;if(x.charAt(x.length-1)==="Z"){n=true}var s=x.length-5,y=x.charAt(s);if(y==="+"||y==="-"){var O=parseInt(x.substr(s+1,2),10);var m=parseInt(x.substr(s+4,2),10);v=O*60+m;v*=60000;if(y==="+"){v*=-1}n=true}if(x.charAt(14)==="."){p=parseFloat(x.substr(14),10)*1000}if(n){q.setUTCFullYear(t,M,w);q.setUTCHours(r,u,N,p);q.setTime(+q+v)}else{q.setFullYear(t,M,w);q.setHours(r,u,N,p)}return q};j.dateToUtcTime=function(r){if(typeof r==="string"){return r}var q="";var n=[];n.push((""+r.getUTCFullYear()).substr(2));n.push(""+(r.getUTCMonth()+1));n.push(""+r.getUTCDate());n.push(""+r.getUTCHours());n.push(""+r.getUTCMinutes());n.push(""+r.getUTCSeconds());for(var m=0;m<n.length;++m){if(n[m].length<2){q+="0"}q+=n[m]}q+="Z";return q};j.dateToGeneralizedTime=function(r){if(typeof r==="string"){return r}var q="";var n=[];n.push(""+r.getUTCFullYear());n.push(""+(r.getUTCMonth()+1));n.push(""+r.getUTCDate());n.push(""+r.getUTCHours());n.push(""+r.getUTCMinutes());n.push(""+r.getUTCSeconds());for(var m=0;m<n.length;++m){if(n[m].length<2){q+="0"}q+=n[m]}q+="Z";return q};j.integerToDer=function(q){var p=l.util.createBuffer();if(q>=-128&&q<128){return p.putSignedInt(q,8)}if(q>=-32768&&q<32768){return p.putSignedInt(q,16)}if(q>=-8388608&&q<8388608){return p.putSignedInt(q,24)}if(q>=-2147483648&&q<2147483648){return p.putSignedInt(q,32)}var m=new Error("Integer too large; max is 32-bits.");m.integer=q;throw m};j.derToInteger=function(m){if(typeof m==="string"){m=l.util.createBuffer(m)}var n=m.length()*8;if(n>32){throw new Error("Integer too large; max is 32-bits.")}return m.getSignedInt(n)};j.validate=function(p,x,w,q){var n=false;if((p.tagClass===x.tagClass||typeof(x.tagClass)==="undefined")&&(p.type===x.type||typeof(x.type)==="undefined")){if(p.constructed===x.constructed||typeof(x.constructed)==="undefined"){n=true;if(x.value&&l.util.isArray(x.value)){var y=0;for(var m=0;n&&m<x.value.length;++m){n=x.value[m].optional||false;if(p.value[y]){n=j.validate(p.value[y],x.value[m],w,q);if(n){++y}else{if(x.value[m].optional){n=true}}}if(!n&&q){q.push("["+x.name+'] Tag class "'+x.tagClass+'", type "'+x.type+'" expected value length "'+x.value.length+'", got "'+p.value.length+'"')}}}if(n&&w){if(x.capture){w[x.capture]=p.value}if(x.captureAsn1){w[x.captureAsn1]=p}}}else{if(q){q.push("["+x.name+'] Expected constructed "'+x.constructed+'", got "'+p.constructed+'"')}}}else{if(q){if(p.tagClass!==x.tagClass){q.push("["+x.name+'] Expected tag class "'+x.tagClass+'", got "'+p.tagClass+'"')}if(p.type!==x.type){q.push("["+x.name+'] Expected type "'+x.type+'", got "'+p.type+'"')}}}return n};var h=/[^\\u0000-\\u00ff]/;j.prettyPrint=function(D,s,m){var p="";s=s||0;m=m||2;if(s>0){p+="\n"}var t="";for(var E=0;E<s*m;++E){t+=" "}p+=t+"Tag: ";switch(D.tagClass){case j.Class.UNIVERSAL:p+="Universal:";break;case j.Class.APPLICATION:p+="Application:";break;case j.Class.CONTEXT_SPECIFIC:p+="Context-Specific:";break;case j.Class.PRIVATE:p+="Private:";break}if(D.tagClass===j.Class.UNIVERSAL){p+=D.type;switch(D.type){case j.Type.NONE:p+=" (None)";break;case j.Type.BOOLEAN:p+=" (Boolean)";break;case j.Type.BITSTRING:p+=" (Bit string)";break;case j.Type.INTEGER:p+=" (Integer)";break;case j.Type.OCTETSTRING:p+=" (Octet string)";break;case j.Type.NULL:p+=" (Null)";break;case j.Type.OID:p+=" (Object Identifier)";break;case j.Type.ODESC:p+=" (Object Descriptor)";break;case j.Type.EXTERNAL:p+=" (External or Instance of)";break;case j.Type.REAL:p+=" (Real)";break;case j.Type.ENUMERATED:p+=" (Enumerated)";break;case j.Type.EMBEDDED:p+=" (Embedded PDV)";break;case j.Type.UTF8:p+=" (UTF8)";break;case j.Type.ROID:p+=" (Relative Object Identifier)";break;case j.Type.SEQUENCE:p+=" (Sequence)";break;case j.Type.SET:p+=" (Set)";break;case j.Type.PRINTABLESTRING:p+=" (Printable String)";break;case j.Type.IA5String:p+=" (IA5String (ASCII))";break;case j.Type.UTCTIME:p+=" (UTC time)";break;case j.Type.GENERALIZEDTIME:p+=" (Generalized time)";break;case j.Type.BMPSTRING:p+=" (BMP String)";break}}else{p+=D.type}p+="\n";p+=t+"Constructed: "+D.constructed+"\n";if(D.composed){var n=0;var r="";for(var E=0;E<D.value.length;++E){if(D.value[E]!==undefined){n+=1;r+=j.prettyPrint(D.value[E],s+1,m);if((E+1)<D.value.length){r+=","}}}p+=t+"Sub values: "+n+r}else{p+=t+"Value: ";if(D.type===j.Type.OID){var C=j.derToOid(D.value);p+=C;if(l.pki&&l.pki.oids){if(C in l.pki.oids){p+=" ("+l.pki.oids[C]+") "}}}if(D.type===j.Type.INTEGER){try{p+=j.derToInteger(D.value)}catch(q){p+="0x"+l.util.bytesToHex(D.value)}}else{if(D.type===j.Type.OCTETSTRING){if(!h.test(D.value)){p+="("+D.value+") "}p+="0x"+l.util.bytesToHex(D.value)}else{if(D.type===j.Type.UTF8){p+=l.util.decodeUtf8(D.value)}else{if(D.type===j.Type.PRINTABLESTRING||D.type===j.Type.IA5String){p+=D.value}else{if(h.test(D.value)){p+="0x"+l.util.bytesToHex(D.value)}else{if(D.value.length===0){p+="[null]"}else{p+=D.value}}}}}}}return p}}var f="asn1";if(typeof define!=="function"){if(typeof module==="object"&&module.exports){var b=true;define=function(h,g){g(require,module)}}else{if(typeof forge==="undefined"){forge={}}return a(forge)}}var d;var e=function(g,h){h.exports=function(l){var m=d.map(function(n){return g(n)}).concat(a);l=l||{};l.defined=l.defined||{};if(l.defined[f]){return l[f]}l.defined[f]=true;for(var j=0;j<m.length;++j){m[j](l)}return l[f]}};var c=define;define=function(h,g){d=(typeof h==="string")?g.slice(2):h.slice(2);if(b){delete define;return c.apply(null,Array.prototype.slice.call(arguments,0))}define=c;return define.apply(null,Array.prototype.slice.call(arguments,0))};define(["require","module","./util","./oids"],function(){e.apply(null,Array.prototype.slice.call(arguments,0))})})();(function(){function a(aG){var a6;var aF=244837814094590;var aq=((aF&16777215)==15715070);function aV(bl,bk,bm){this.data=[];if(bl!=null){if("number"==typeof bl){this.fromNumber(bl,bk,bm)}else{if(bk==null&&"string"!=typeof bl){this.fromString(bl,256)}else{this.fromString(bl,bk)}}}}function ar(){return new aV(null)}function O(bo,bk,bl,bn,bq,bp){while(--bp>=0){var bm=bk*this.data[bo++]+bl.data[bn]+bq;bq=Math.floor(bm/67108864);bl.data[bn++]=bm&67108863}return bq}function ba(bo,bt,bx,bn,br,bk){var bq=bt&32767,bs=bt>>15;while(--bk>=0){var bm=this.data[bo]&32767;var bp=this.data[bo++]>>15;var bl=bs*bm+bp*bq;bm=bq*bm+((bl&32767)<<15)+bx.data[bn]+(br&1073741823);br=(bm>>>30)+(bl>>>15)+bs*bp+(br>>>30);bx.data[bn++]=bm&1073741823}return br}function a7(bo,bt,bx,bn,br,bk){var bq=bt&16383,bs=bt>>14;while(--bk>=0){var bm=this.data[bo]&16383;var bp=this.data[bo++]>>14;var bl=bs*bm+bp*bq;bm=bq*bm+((bl&16383)<<14)+bx.data[bn]+br;br=(bm>>28)+(bl>>14)+bs*bp;bx.data[bn++]=bm&268435455}return br}if(typeof(navigator)==="undefined"){aV.prototype.am=a7;a6=28}else{if(aq&&(navigator.appName=="Microsoft Internet Explorer")){aV.prototype.am=ba;a6=30}else{if(aq&&(navigator.appName!="Netscape")){aV.prototype.am=O;a6=26}else{aV.prototype.am=a7;a6=28}}}aV.prototype.DB=a6;aV.prototype.DM=((1<<a6)-1);aV.prototype.DV=(1<<a6);var at=52;aV.prototype.FV=Math.pow(2,at);aV.prototype.F1=at-a6;aV.prototype.F2=2*a6-at;var aB="0123456789abcdefghijklmnopqrstuvwxyz";var aE=new Array();var aR,bu;aR="0".charCodeAt(0);for(bu=0;bu<=9;++bu){aE[aR++]=bu}aR="a".charCodeAt(0);for(bu=10;bu<36;++bu){aE[aR++]=bu}aR="A".charCodeAt(0);for(bu=10;bu<36;++bu){aE[aR++]=bu}function bc(bk){return aB.charAt(bk)}function aZ(bl,bk){var bm=aE[bl.charCodeAt(bk)];return(bm==null)?-1:bm}function an(bl){for(var bk=this.t-1;bk>=0;--bk){bl.data[bk]=this.data[bk]}bl.t=this.t;bl.s=this.s}function G(bk){this.t=1;this.s=(bk<0)?-1:0;if(bk>0){this.data[0]=bk}else{if(bk<-1){this.data[0]=bk+this.DV}else{this.t=0}}}function X(bk){var bl=ar();bl.fromInt(bk);return bl}function aJ(bq,bl){var bn;if(bl==16){bn=4}else{if(bl==8){bn=3}else{if(bl==256){bn=8}else{if(bl==2){bn=1}else{if(bl==32){bn=5}else{if(bl==4){bn=2}else{this.fromRadix(bq,bl);return}}}}}}this.t=0;this.s=0;var bp=bq.length,bm=false,bo=0;while(--bp>=0){var bk=(bn==8)?bq[bp]&255:aZ(bq,bp);if(bk<0){if(bq.charAt(bp)=="-"){bm=true}continue}bm=false;if(bo==0){this.data[this.t++]=bk}else{if(bo+bn>this.DB){this.data[this.t-1]|=(bk&((1<<(this.DB-bo))-1))<<bo;this.data[this.t++]=(bk>>(this.DB-bo))}else{this.data[this.t-1]|=bk<<bo}}bo+=bn;if(bo>=this.DB){bo-=this.DB}}if(bn==8&&(bq[0]&128)!=0){this.s=-1;if(bo>0){this.data[this.t-1]|=((1<<(this.DB-bo))-1)<<bo}}this.clamp();if(bm){aV.ZERO.subTo(this,this)}}function y(){var bk=this.s&this.DM;while(this.t>0&&this.data[this.t-1]==bk){--this.t}}function J(bl){if(this.s<0){return"-"+this.negate().toString(bl)}var bm;if(bl==16){bm=4}else{if(bl==8){bm=3}else{if(bl==2){bm=1}else{if(bl==32){bm=5}else{if(bl==4){bm=2}else{return this.toRadix(bl)}}}}}var bo=(1<<bm)-1,br,bk=false,bp="",bn=this.t;var bq=this.DB-(bn*this.DB)%bm;if(bn-->0){if(bq<this.DB&&(br=this.data[bn]>>bq)>0){bk=true;bp=bc(br)}while(bn>=0){if(bq<bm){br=(this.data[bn]&((1<<bq)-1))<<(bm-bq);br|=this.data[--bn]>>(bq+=this.DB-bm)}else{br=(this.data[bn]>>(bq-=bm))&bo;if(bq<=0){bq+=this.DB;--bn}}if(br>0){bk=true}if(bk){bp+=bc(br)}}}return bk?bp:"0"}function C(){var bk=ar();aV.ZERO.subTo(this,bk);return bk}function l(){return(this.s<0)?this.negate():this}function n(bk){var bm=this.s-bk.s;if(bm!=0){return bm}var bl=this.t;bm=bl-bk.t;if(bm!=0){return(this.s<0)?-bm:bm}while(--bl>=0){if((bm=this.data[bl]-bk.data[bl])!=0){return bm}}return 0}function V(bk){var bm=1,bl;if((bl=bk>>>16)!=0){bk=bl;bm+=16}if((bl=bk>>8)!=0){bk=bl;bm+=8}if((bl=bk>>4)!=0){bk=bl;bm+=4}if((bl=bk>>2)!=0){bk=bl;bm+=2}if((bl=bk>>1)!=0){bk=bl;bm+=1}return bm}function bi(){if(this.t<=0){return 0}return this.DB*(this.t-1)+V(this.data[this.t-1]^(this.s&this.DM))}function aU(bm,bl){var bk;for(bk=this.t-1;bk>=0;--bk){bl.data[bk+bm]=this.data[bk]}for(bk=bm-1;bk>=0;--bk){bl.data[bk]=0}bl.t=this.t+bm;bl.s=this.s}function am(bm,bl){for(var bk=bm;bk<this.t;++bk){bl.data[bk-bm]=this.data[bk]}bl.t=Math.max(this.t-bm,0);bl.s=this.s}function bh(br,bn){var bl=br%this.DB;var bk=this.DB-bl;var bp=(1<<bk)-1;var bo=Math.floor(br/this.DB),bq=(this.s<<bl)&this.DM,bm;for(bm=this.t-1;bm>=0;--bm){bn.data[bm+bo+1]=(this.data[bm]>>bk)|bq;bq=(this.data[bm]&bp)<<bl}for(bm=bo-1;bm>=0;--bm){bn.data[bm]=0}bn.data[bo]=bq;bn.t=this.t+bo+1;bn.s=this.s;bn.clamp()}function W(bq,bn){bn.s=this.s;var bo=Math.floor(bq/this.DB);if(bo>=this.t){bn.t=0;return}var bl=bq%this.DB;var bk=this.DB-bl;var bp=(1<<bl)-1;bn.data[0]=this.data[bo]>>bl;for(var bm=bo+1;bm<this.t;++bm){bn.data[bm-bo-1]|=(this.data[bm]&bp)<<bk;bn.data[bm-bo]=this.data[bm]>>bl}if(bl>0){bn.data[this.t-bo-1]|=(this.s&bp)<<bk}bn.t=this.t-bo;bn.clamp()}function au(bl,bn){var bm=0,bo=0,bk=Math.min(bl.t,this.t);while(bm<bk){bo+=this.data[bm]-bl.data[bm];bn.data[bm++]=bo&this.DM;bo>>=this.DB}if(bl.t<this.t){bo-=bl.s;while(bm<this.t){bo+=this.data[bm];bn.data[bm++]=bo&this.DM;bo>>=this.DB}bo+=this.s}else{bo+=this.s;while(bm<bl.t){bo-=bl.data[bm];bn.data[bm++]=bo&this.DM;bo>>=this.DB}bo-=bl.s}bn.s=(bo<0)?-1:0;if(bo<-1){bn.data[bm++]=this.DV+bo}else{if(bo>0){bn.data[bm++]=bo}}bn.t=bm;bn.clamp()}function a9(bl,bn){var bk=this.abs(),bo=bl.abs();var bm=bk.t;bn.t=bm+bo.t;while(--bm>=0){bn.data[bm]=0}for(bm=0;bm<bo.t;++bm){bn.data[bm+bk.t]=bk.am(0,bo.data[bm],bn,bm,0,bk.t)}bn.s=0;bn.clamp();if(this.s!=bl.s){aV.ZERO.subTo(bn,bn)}}function A(bm){var bk=this.abs();var bl=bm.t=2*bk.t;while(--bl>=0){bm.data[bl]=0}for(bl=0;bl<bk.t-1;++bl){var bn=bk.am(bl,bk.data[bl],bm,2*bl,0,1);if((bm.data[bl+bk.t]+=bk.am(bl+1,2*bk.data[bl],bm,2*bl+1,bn,bk.t-bl-1))>=bk.DV){bm.data[bl+bk.t]-=bk.DV;bm.data[bl+bk.t+1]=1}}if(bm.t>0){bm.data[bm.t-1]+=bk.am(bl,bk.data[bl],bm,2*bl,0,1)}bm.s=0;bm.clamp()}function bb(bn,bB,bt){var bA=bn.abs();if(bA.t<=0){return}var bk=this.abs();if(bk.t<bA.t){if(bB!=null){bB.fromInt(0)}if(bt!=null){this.copyTo(bt)}return}if(bt==null){bt=ar()}var bF=ar(),bC=this.s,bm=bn.s;var by=this.DB-V(bA.data[bA.t-1]);if(by>0){bA.lShiftTo(by,bF);bk.lShiftTo(by,bt)}else{bA.copyTo(bF);bk.copyTo(bt)}var bp=bF.t;var bD=bF.data[bp-1];if(bD==0){return}var bo=bD*(1<<this.F1)+((bp>1)?bF.data[bp-2]>>this.F2:0);var bl=this.FV/bo,bz=(1<<this.F1)/bo,bx=1<<this.F2;var bs=bt.t,br=bs-bp,bq=(bB==null)?ar():bB;bF.dlShiftTo(br,bq);if(bt.compareTo(bq)>=0){bt.data[bt.t++]=1;bt.subTo(bq,bt)}aV.ONE.dlShiftTo(bp,bq);bq.subTo(bF,bF);while(bF.t<bp){bF.data[bF.t++]=0}while(--br>=0){var bE=(bt.data[--bs]==bD)?this.DM:Math.floor(bt.data[bs]*bl+(bt.data[bs-1]+bx)*bz);if((bt.data[bs]+=bF.am(0,bE,bt,br,0,bp))<bE){bF.dlShiftTo(br,bq);bt.subTo(bq,bt);while(bt.data[bs]<--bE){bt.subTo(bq,bt)}}}if(bB!=null){bt.drShiftTo(bp,bB);if(bC!=bm){aV.ZERO.subTo(bB,bB)}}bt.t=bp;bt.clamp();if(by>0){bt.rShiftTo(by,bt)}if(bC<0){aV.ZERO.subTo(bt,bt)}}function x(bk){var bl=ar();this.abs().divRemTo(bk,null,bl);if(this.s<0&&bl.compareTo(aV.ZERO)>0){bk.subTo(bl,bl)}return bl}function s(bk){this.m=bk}function ae(bk){if(bk.s<0||bk.compareTo(this.m)>=0){return bk.mod(this.m)}else{return bk}}function j(bk){return bk}function q(bk){bk.divRemTo(this.m,null,bk)}function p(bk,bm,bl){bk.multiplyTo(bm,bl);this.reduce(bl)}function aP(bk,bl){bk.squareTo(bl);this.reduce(bl)}s.prototype.convert=ae;s.prototype.revert=j;s.prototype.reduce=q;s.prototype.mulTo=p;s.prototype.sqrTo=aP;function a3(){if(this.t<1){return 0}var bk=this.data[0];if((bk&1)==0){return 0}var bl=bk&3;bl=(bl*(2-(bk&15)*bl))&15;bl=(bl*(2-(bk&255)*bl))&255;bl=(bl*(2-(((bk&65535)*bl)&65535)))&65535;bl=(bl*(2-bk*bl%this.DV))%this.DV;return(bl>0)?this.DV-bl:-bl}function ah(bk){this.m=bk;this.mp=bk.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<(bk.DB-15))-1;this.mt2=2*bk.t}function h(bk){var bl=ar();bk.abs().dlShiftTo(this.m.t,bl);bl.divRemTo(this.m,null,bl);if(bk.s<0&&bl.compareTo(aV.ZERO)>0){this.m.subTo(bl,bl)}return bl}function P(bk){var bl=ar();bk.copyTo(bl);this.reduce(bl);return bl}function z(bk){while(bk.t<=this.mt2){bk.data[bk.t++]=0}for(var bm=0;bm<this.m.t;++bm){var bl=bk.data[bm]&32767;var bn=(bl*this.mpl+(((bl*this.mph+(bk.data[bm]>>15)*this.mpl)&this.um)<<15))&bk.DM;bl=bm+this.m.t;bk.data[bl]+=this.m.am(0,bn,bk,bm,0,this.m.t);while(bk.data[bl]>=bk.DV){bk.data[bl]-=bk.DV;bk.data[++bl]++}}bk.clamp();bk.drShiftTo(this.m.t,bk);if(bk.compareTo(this.m)>=0){bk.subTo(this.m,bk)}}function ad(bk,bl){bk.squareTo(bl);this.reduce(bl)}function aW(bk,bm,bl){bk.multiplyTo(bm,bl);this.reduce(bl)}ah.prototype.convert=h;ah.prototype.revert=P;ah.prototype.reduce=z;ah.prototype.mulTo=aW;ah.prototype.sqrTo=ad;function av(){return((this.t>0)?(this.data[0]&1):this.s)==0}function aK(bp,bq){if(bp>4294967295||bp<1){return aV.ONE}var bo=ar(),bk=ar(),bn=bq.convert(this),bm=V(bp)-1;bn.copyTo(bo);while(--bm>=0){bq.sqrTo(bo,bk);if((bp&(1<<bm))>0){bq.mulTo(bk,bn,bo)}else{var bl=bo;bo=bk;bk=bl}}return bq.revert(bo)}function aQ(bl,bk){var bm;if(bl<256||bk.isEven()){bm=new s(bk)}else{bm=new ah(bk)}return this.exp(bl,bm)}aV.prototype.copyTo=an;aV.prototype.fromInt=G;aV.prototype.fromString=aJ;aV.prototype.clamp=y;aV.prototype.dlShiftTo=aU;aV.prototype.drShiftTo=am;aV.prototype.lShiftTo=bh;aV.prototype.rShiftTo=W;aV.prototype.subTo=au;aV.prototype.multiplyTo=a9;aV.prototype.squareTo=A;aV.prototype.divRemTo=bb;aV.prototype.invDigit=a3;aV.prototype.isEven=av;aV.prototype.exp=aK;aV.prototype.toString=J;aV.prototype.negate=C;aV.prototype.abs=l;aV.prototype.compareTo=n;aV.prototype.bitLength=bi;aV.prototype.mod=x;aV.prototype.modPowInt=aQ;aV.ZERO=X(0);aV.ONE=X(1);function ao(){var bk=ar();this.copyTo(bk);return bk}function M(){if(this.s<0){if(this.t==1){return this.data[0]-this.DV}else{if(this.t==0){return -1}}}else{if(this.t==1){return this.data[0]}else{if(this.t==0){return 0}}}return((this.data[1]&((1<<(32-this.DB))-1))<<this.DB)|this.data[0]}function aC(){return(this.t==0)?this.s:(this.data[0]<<24)>>24}function B(){return(this.t==0)?this.s:(this.data[0]<<16)>>16}function ai(bk){return Math.floor(Math.LN2*this.DB/Math.log(bk))}function aY(){if(this.s<0){return -1}else{if(this.t<=0||(this.t==1&&this.data[0]<=0)){return 0}else{return 1}}}function aO(bk){if(bk==null){bk=10}if(this.signum()==0||bk<2||bk>36){return"0"}var bm=this.chunkSize(bk);var bl=Math.pow(bk,bm);var bp=X(bl),bq=ar(),bo=ar(),bn="";this.divRemTo(bp,bq,bo);while(bq.signum()>0){bn=(bl+bo.intValue()).toString(bk).substr(1)+bn;bq.divRemTo(bp,bq,bo)}return bo.intValue().toString(bk)+bn}function bg(bs,bp){this.fromInt(0);if(bp==null){bp=10}var bn=this.chunkSize(bp);var bo=Math.pow(bp,bn),bm=false,bk=0,br=0;for(var bl=0;bl<bs.length;++bl){var bq=aZ(bs,bl);if(bq<0){if(bs.charAt(bl)=="-"&&this.signum()==0){bm=true}continue}br=bp*br+bq;if(++bk>=bn){this.dMultiply(bo);this.dAddOffset(br,0);bk=0;br=0}}if(bk>0){this.dMultiply(Math.pow(bp,bk));this.dAddOffset(br,0)}if(bm){aV.ZERO.subTo(this,this)}}function az(bm,bl,bo){if("number"==typeof bl){if(bm<2){this.fromInt(1)}else{this.fromNumber(bm,bo);if(!this.testBit(bm-1)){this.bitwiseTo(aV.ONE.shiftLeft(bm-1),u,this)}if(this.isEven()){this.dAddOffset(1,0)}while(!this.isProbablePrime(bl)){this.dAddOffset(2,0);if(this.bitLength()>bm){this.subTo(aV.ONE.shiftLeft(bm-1),this)}}}}else{var bk=new Array(),bn=bm&7;bk.length=(bm>>3)+1;bl.nextBytes(bk);if(bn>0){bk[0]&=((1<<bn)-1)}else{bk[0]=0}this.fromString(bk,256)}}function a0(){var bl=this.t,bm=new Array();bm[0]=this.s;var bn=this.DB-(bl*this.DB)%8,bo,bk=0;if(bl-->0){if(bn<this.DB&&(bo=this.data[bl]>>bn)!=(this.s&this.DM)>>bn){bm[bk++]=bo|(this.s<<(this.DB-bn))}while(bl>=0){if(bn<8){bo=(this.data[bl]&((1<<bn)-1))<<(8-bn);bo|=this.data[--bl]>>(bn+=this.DB-8)}else{bo=(this.data[bl]>>(bn-=8))&255;if(bn<=0){bn+=this.DB;--bl}}if((bo&128)!=0){bo|=-256}if(bk==0&&(this.s&128)!=(bo&128)){++bk}if(bk>0||bo!=this.s){bm[bk++]=bo}}}return bm}function E(bk){return(this.compareTo(bk)==0)}function m(bk){return(this.compareTo(bk)<0)?this:bk}function Y(bk){return(this.compareTo(bk)>0)?this:bk}function aA(bl,bp,bn){var bm,bo,bk=Math.min(bl.t,this.t);for(bm=0;bm<bk;++bm){bn.data[bm]=bp(this.data[bm],bl.data[bm])}if(bl.t<this.t){bo=bl.s&this.DM;for(bm=bk;bm<this.t;++bm){bn.data[bm]=bp(this.data[bm],bo)}bn.t=this.t}else{bo=this.s&this.DM;for(bm=bk;bm<bl.t;++bm){bn.data[bm]=bp(bo,bl.data[bm])}bn.t=bl.t}bn.s=bp(this.s,bl.s);bn.clamp()}function aS(bk,bl){return bk&bl}function a4(bk){var bl=ar();this.bitwiseTo(bk,aS,bl);return bl}function u(bk,bl){return bk|bl}function ak(bk){var bl=ar();this.bitwiseTo(bk,u,bl);return bl}function a5(bk,bl){return bk^bl}function ac(bk){var bl=ar();this.bitwiseTo(bk,a5,bl);return bl}function bw(bk,bl){return bk&~bl}function ab(bk){var bl=ar();this.bitwiseTo(bk,bw,bl);return bl}function a8(){var bl=ar();for(var bk=0;bk<this.t;++bk){bl.data[bk]=this.DM&~this.data[bk]}bl.t=this.t;bl.s=~this.s;return bl}function aI(bl){var bk=ar();if(bl<0){this.rShiftTo(-bl,bk)}else{this.lShiftTo(bl,bk)}return bk}function a1(bl){var bk=ar();if(bl<0){this.lShiftTo(-bl,bk)}else{this.rShiftTo(bl,bk)}return bk}function N(bk){if(bk==0){return -1}var bl=0;if((bk&65535)==0){bk>>=16;bl+=16}if((bk&255)==0){bk>>=8;bl+=8}if((bk&15)==0){bk>>=4;bl+=4}if((bk&3)==0){bk>>=2;bl+=2}if((bk&1)==0){++bl}return bl}function H(){for(var bk=0;bk<this.t;++bk){if(this.data[bk]!=0){return bk*this.DB+N(this.data[bk])}}if(this.s<0){return this.t*this.DB}return -1}function aN(bk){var bl=0;while(bk!=0){bk&=bk-1;++bl}return bl}function ay(){var bm=0,bk=this.s&this.DM;for(var bl=0;bl<this.t;++bl){bm+=aN(this.data[bl]^bk)}return bm}function aw(bl){var bk=Math.floor(bl/this.DB);if(bk>=this.t){return(this.s!=0)}return((this.data[bk]&(1<<(bl%this.DB)))!=0)}function K(bm,bl){var bk=aV.ONE.shiftLeft(bm);this.bitwiseTo(bk,bl,bk);return bk}function a2(bk){return this.changeBit(bk,u)}function F(bk){return this.changeBit(bk,bw)}function U(bk){return this.changeBit(bk,a5)}function bj(bl,bn){var bm=0,bo=0,bk=Math.min(bl.t,this.t);while(bm<bk){bo+=this.data[bm]+bl.data[bm];bn.data[bm++]=bo&this.DM;bo>>=this.DB}if(bl.t<this.t){bo+=bl.s;while(bm<this.t){bo+=this.data[bm];bn.data[bm++]=bo&this.DM;bo>>=this.DB}bo+=this.s}else{bo+=this.s;while(bm<bl.t){bo+=bl.data[bm];bn.data[bm++]=bo&this.DM;bo>>=this.DB}bo+=bl.s}bn.s=(bo<0)?-1:0;if(bo>0){bn.data[bm++]=bo}else{if(bo<-1){bn.data[bm++]=this.DV+bo}}bn.t=bm;bn.clamp()}function aH(bk){var bl=ar();this.addTo(bk,bl);return bl}function L(bk){var bl=ar();this.subTo(bk,bl);return bl}function D(bk){var bl=ar();this.multiplyTo(bk,bl);return bl}function aa(bk){var bl=ar();this.divRemTo(bk,bl,null);return bl}function al(bk){var bl=ar();this.divRemTo(bk,null,bl);return bl}function ax(bk){var bm=ar(),bl=ar();this.divRemTo(bk,bm,bl);return new Array(bm,bl)}function g(bk){this.data[this.t]=this.am(0,bk-1,this,0,0,this.t);++this.t;this.clamp()}function w(bl,bk){if(bl==0){return}while(this.t<=bk){this.data[this.t++]=0}this.data[bk]+=bl;while(this.data[bk]>=this.DV){this.data[bk]-=this.DV;if(++bk>=this.t){this.data[this.t++]=0}++this.data[bk]}}function bv(){}function aD(bk){return bk}function S(bk,bm,bl){bk.multiplyTo(bm,bl)}function ag(bk,bl){bk.squareTo(bl)}bv.prototype.convert=aD;bv.prototype.revert=aD;bv.prototype.mulTo=S;bv.prototype.sqrTo=ag;function aL(bk){return this.exp(bk,new bv())}function ap(bk,bo,bn){var bm=Math.min(this.t+bk.t,bo);bn.s=0;bn.t=bm;while(bm>0){bn.data[--bm]=0}var bl;for(bl=bn.t-this.t;bm<bl;++bm){bn.data[bm+this.t]=this.am(0,bk.data[bm],bn,bm,0,this.t)}for(bl=Math.min(bk.t,bo);bm<bl;++bm){this.am(0,bk.data[bm],bn,bm,0,bo-bm)}bn.clamp()}function af(bk,bn,bm){--bn;var bl=bm.t=this.t+bk.t-bn;bm.s=0;while(--bl>=0){bm.data[bl]=0}for(bl=Math.max(bn-this.t,0);bl<bk.t;++bl){bm.data[this.t+bl-bn]=this.am(bn-bl,bk.data[bl],bm,0,0,this.t+bl-bn)}bm.clamp();bm.drShiftTo(1,bm)}function aM(bk){this.r2=ar();this.q3=ar();aV.ONE.dlShiftTo(2*bk.t,this.r2);this.mu=this.r2.divide(bk);this.m=bk}function r(bk){if(bk.s<0||bk.t>2*this.m.t){return bk.mod(this.m)}else{if(bk.compareTo(this.m)<0){return bk}else{var bl=ar();bk.copyTo(bl);this.reduce(bl);return bl}}}function v(bk){return bk}function aT(bk){bk.drShiftTo(this.m.t-1,this.r2);if(bk.t>this.m.t+1){bk.t=this.m.t+1;bk.clamp()}this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);while(bk.compareTo(this.r2)<0){bk.dAddOffset(1,this.m.t+1)}bk.subTo(this.r2,bk);while(bk.compareTo(this.m)>=0){bk.subTo(this.m,bk)}}function I(bk,bl){bk.squareTo(bl);this.reduce(bl)}function aX(bk,bm,bl){bk.multiplyTo(bm,bl);this.reduce(bl)}aM.prototype.convert=r;aM.prototype.revert=v;aM.prototype.reduce=aT;aM.prototype.mulTo=aX;aM.prototype.sqrTo=I;function Z(bt,bq){var bp=bt.bitLength(),br,bl=X(1),bz;if(bp<=0){return bl}else{if(bp<18){br=1}else{if(bp<48){br=3}else{if(bp<144){br=4}else{if(bp<768){br=5}else{br=6}}}}}if(bp<8){bz=new s(bq)}else{if(bq.isEven()){bz=new aM(bq)}else{bz=new ah(bq)}}var bs=new Array(),bo=3,bx=br-1,bk=(1<<br)-1;bs[1]=bz.convert(this);if(br>1){var bC=ar();bz.sqrTo(bs[1],bC);while(bo<=bk){bs[bo]=ar();bz.mulTo(bC,bs[bo-2],bs[bo]);bo+=2}}var bn=bt.t-1,bA,by=true,bm=ar(),bB;bp=V(bt.data[bn])-1;while(bn>=0){if(bp>=bx){bA=(bt.data[bn]>>(bp-bx))&bk}else{bA=(bt.data[bn]&((1<<(bp+1))-1))<<(bx-bp);if(bn>0){bA|=bt.data[bn-1]>>(this.DB+bp-bx)}}bo=br;while((bA&1)==0){bA>>=1;--bo}if((bp-=bo)<0){bp+=this.DB;--bn}if(by){bs[bA].copyTo(bl);by=false}else{while(bo>1){bz.sqrTo(bl,bm);bz.sqrTo(bm,bl);bo-=2}if(bo>0){bz.sqrTo(bl,bm)}else{bB=bl;bl=bm;bm=bB}bz.mulTo(bm,bs[bA],bl)}while(bn>=0&&(bt.data[bn]&(1<<bp))==0){bz.sqrTo(bl,bm);bB=bl;bl=bm;bm=bB;if(--bp<0){bp=this.DB-1;--bn}}}return bz.revert(bl)}function R(bl){var bk=(this.s<0)?this.negate():this.clone();var bp=(bl.s<0)?bl.negate():bl.clone();if(bk.compareTo(bp)<0){var bn=bk;bk=bp;bp=bn}var bm=bk.getLowestSetBit(),bo=bp.getLowestSetBit();if(bo<0){return bk}if(bm<bo){bo=bm}if(bo>0){bk.rShiftTo(bo,bk);bp.rShiftTo(bo,bp)}while(bk.signum()>0){if((bm=bk.getLowestSetBit())>0){bk.rShiftTo(bm,bk)}if((bm=bp.getLowestSetBit())>0){bp.rShiftTo(bm,bp)}if(bk.compareTo(bp)>=0){bk.subTo(bp,bk);bk.rShiftTo(1,bk)}else{bp.subTo(bk,bp);bp.rShiftTo(1,bp)}}if(bo>0){bp.lShiftTo(bo,bp)}return bp}function be(bn){if(bn<=0){return 0}var bm=this.DV%bn,bl=(this.s<0)?bn-1:0;if(this.t>0){if(bm==0){bl=this.data[0]%bn}else{for(var bk=this.t-1;bk>=0;--bk){bl=(bm*bl+this.data[bk])%bn}}}return bl}function Q(bl){var bp=bl.isEven();if((this.isEven()&&bp)||bl.signum()==0){return aV.ZERO}var bo=bl.clone(),bn=this.clone();var bm=X(1),bk=X(0),br=X(0),bq=X(1);while(bo.signum()!=0){while(bo.isEven()){bo.rShiftTo(1,bo);if(bp){if(!bm.isEven()||!bk.isEven()){bm.addTo(this,bm);bk.subTo(bl,bk)}bm.rShiftTo(1,bm)}else{if(!bk.isEven()){bk.subTo(bl,bk)}}bk.rShiftTo(1,bk)}while(bn.isEven()){bn.rShiftTo(1,bn);if(bp){if(!br.isEven()||!bq.isEven()){br.addTo(this,br);bq.subTo(bl,bq)}br.rShiftTo(1,br)}else{if(!bq.isEven()){bq.subTo(bl,bq)}}bq.rShiftTo(1,bq)}if(bo.compareTo(bn)>=0){bo.subTo(bn,bo);if(bp){bm.subTo(br,bm)}bk.subTo(bq,bk)}else{bn.subTo(bo,bn);if(bp){br.subTo(bm,br)}bq.subTo(bk,bq)}}if(bn.compareTo(aV.ONE)!=0){return aV.ZERO}if(bq.compareTo(bl)>=0){return bq.subtract(bl)}if(bq.signum()<0){bq.addTo(bl,bq)}else{return bq}if(bq.signum()<0){return bq.add(bl)}else{return bq}}var bd=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509];var bf=(1<<26)/bd[bd.length-1];function t(bo){var bn,bl=this.abs();if(bl.t==1&&bl.data[0]<=bd[bd.length-1]){for(bn=0;bn<bd.length;++bn){if(bl.data[0]==bd[bn]){return true}}return false}if(bl.isEven()){return false}bn=1;while(bn<bd.length){var bk=bd[bn],bm=bn+1;while(bm<bd.length&&bk<bf){bk*=bd[bm++]}bk=bl.modInt(bk);while(bn<bm){if(bk%bd[bn++]==0){return false}}}return bl.millerRabin(bo)}function aj(bs){var bo=this.subtract(aV.ONE);var bl=bo.getLowestSetBit();if(bl<=0){return false}var bk=bo.shiftRight(bl);var br=T();var bq;for(var bn=0;bn<bs;++bn){do{bq=new aV(this.bitLength(),br)}while(bq.compareTo(aV.ONE)<=0||bq.compareTo(bo)>=0);var bp=bq.modPow(bk,this);if(bp.compareTo(aV.ONE)!=0&&bp.compareTo(bo)!=0){var bm=1;while(bm++<bl&&bp.compareTo(bo)!=0){bp=bp.modPowInt(2,this);if(bp.compareTo(aV.ONE)==0){return false}}if(bp.compareTo(bo)!=0){return false}}}return true}function T(){return{nextBytes:function(bk){for(var bl=0;bl<bk.length;++bl){bk[bl]=Math.floor(Math.random()*256)}}}}aV.prototype.chunkSize=ai;aV.prototype.toRadix=aO;aV.prototype.fromRadix=bg;aV.prototype.fromNumber=az;aV.prototype.bitwiseTo=aA;aV.prototype.changeBit=K;aV.prototype.addTo=bj;aV.prototype.dMultiply=g;aV.prototype.dAddOffset=w;aV.prototype.multiplyLowerTo=ap;aV.prototype.multiplyUpperTo=af;aV.prototype.modInt=be;aV.prototype.millerRabin=aj;aV.prototype.clone=ao;aV.prototype.intValue=M;aV.prototype.byteValue=aC;aV.prototype.shortValue=B;aV.prototype.signum=aY;aV.prototype.toByteArray=a0;aV.prototype.equals=E;aV.prototype.min=m;aV.prototype.max=Y;aV.prototype.and=a4;aV.prototype.or=ak;aV.prototype.xor=ac;aV.prototype.andNot=ab;aV.prototype.not=a8;aV.prototype.shiftLeft=aI;aV.prototype.shiftRight=a1;aV.prototype.getLowestSetBit=H;aV.prototype.bitCount=ay;aV.prototype.testBit=aw;aV.prototype.setBit=a2;aV.prototype.clearBit=F;aV.prototype.flipBit=U;aV.prototype.add=aH;aV.prototype.subtract=L;aV.prototype.multiply=D;aV.prototype.divide=aa;aV.prototype.remainder=al;aV.prototype.divideAndRemainder=ax;aV.prototype.modPow=Z;aV.prototype.modInverse=Q;aV.prototype.pow=aL;aV.prototype.gcd=R;aV.prototype.isProbablePrime=t;aG.jsbn=aG.jsbn||{};aG.jsbn.BigInteger=aV}var f="jsbn";if(typeof define!=="function"){if(typeof module==="object"&&module.exports){var b=true;define=function(h,g){g(require,module)}}else{if(typeof forge==="undefined"){forge={}}return a(forge)}}var d;var e=function(g,h){h.exports=function(l){var m=d.map(function(n){return g(n)}).concat(a);l=l||{};l.defined=l.defined||{};if(l.defined[f]){return l[f]}l.defined[f]=true;for(var j=0;j<m.length;++j){m[j](l)}return l[f]}};var c=define;define=function(h,g){d=(typeof h==="string")?g.slice(2):h.slice(2);if(b){delete define;return c.apply(null,Array.prototype.slice.call(arguments,0))}define=c;return define.apply(null,Array.prototype.slice.call(arguments,0))};define(["require","module"],function(){e.apply(null,Array.prototype.slice.call(arguments,0))})})();(function(){function a(j){var g=(typeof process!=="undefined"&&process.versions&&process.versions.node);var h=null;if(!j.disableNativeCode&&g&&!process.versions["node-webkit"]){h=require("crypto")}var l=j.prng=j.prng||{};l.create=function(C){var p={plugin:C,key:null,seed:null,time:null,reseeds:0,generated:0};var m=C.md;var n=new Array(32);for(var B=0;B<32;++B){n[B]=m.create()}p.pools=n;p.pool=0;p.generate=function(D,z){if(!z){return p.generateSync(D)}var x=p.plugin.cipher;var w=p.plugin.increment;var u=p.plugin.formatKey;var t=p.plugin.formatSeed;var v=j.util.createBuffer();p.key=null;y();function y(E){if(E){return z(E)}if(v.length()>=D){return z(null,v.getBytes(D))}if(p.generated>1048575){p.key=null}if(p.key===null){return j.util.nextTick(function(){q(y)})}var F=x(p.key,p.seed);p.generated+=F.length;v.putBytes(F);p.key=u(x(p.key,w(p.seed)));p.seed=t(x(p.key,p.seed));j.util.setImmediate(y)}};p.generateSync=function(u){var y=p.plugin.cipher;var x=p.plugin.increment;var v=p.plugin.formatKey;var t=p.plugin.formatSeed;p.key=null;var w=j.util.createBuffer();while(w.length()<u){if(p.generated>1048575){p.key=null}if(p.key===null){r()}var z=y(p.key,p.seed);p.generated+=z.length;w.putBytes(z);p.key=v(y(p.key,x(p.seed)));p.seed=t(y(p.key,p.seed))}return w.getBytes(u)};function q(t){if(p.pools[0].messageLength>=32){s();return t()}var u=(32-p.pools[0].messageLength)<<5;p.seedFile(u,function(w,v){if(w){return t(w)}p.collect(v);s();t()})}function r(){if(p.pools[0].messageLength>=32){return s()}var t=(32-p.pools[0].messageLength)<<5;p.collect(p.seedFileSync(t));s()}function s(){var t=p.plugin.md.create();t.update(p.pools[0].digest().getBytes());p.pools[0].start();var w=1;for(var x=1;x<32;++x){w=(w===31)?2147483648:(w<<2);if(w%p.reseeds===0){t.update(p.pools[x].digest().getBytes());p.pools[x].start()}}var v=t.digest().getBytes();t.start();t.update(v);var u=t.digest().getBytes();p.key=p.plugin.formatKey(v);p.seed=p.plugin.formatSeed(u);p.reseeds=(p.reseeds===4294967295)?0:p.reseeds+1;p.generated=0}function A(y){var z=null;if(typeof window!=="undefined"){var M=window.crypto||window.msCrypto;if(M&&M.getRandomValues){z=function(F){return M.getRandomValues(F)}}}var x=j.util.createBuffer();if(z){while(x.length()<y){var t=Math.max(1,Math.min(y-x.length(),65536)/4);var w=new Uint32Array(Math.floor(t));try{z(w);for(var E=0;E<w.length;++E){x.putInt32(w[E])}}catch(v){if(!(typeof QuotaExceededError!=="undefined"&&v instanceof QuotaExceededError)){throw v}}}}if(x.length()<y){var D,u,L;var K=Math.floor(Math.random()*65536);while(x.length()<y){u=16807*(K&65535);D=16807*(K>>16);u+=(D&32767)<<16;u+=D>>15;u=(u&2147483647)+(u>>31);K=u&4294967295;for(var E=0;E<3;++E){L=K>>>(E<<3);L^=Math.floor(Math.random()*256);x.putByte(String.fromCharCode(L&255))}}}return x.getBytes(y)}if(h){p.seedFile=function(u,t){h.randomBytes(u,function(w,v){if(w){return t(w)}t(null,v.toString())})};p.seedFileSync=function(t){return h.randomBytes(t).toString()}}else{p.seedFile=function(u,t){try{t(null,A(u))}catch(v){t(v)}};p.seedFileSync=A}p.collect=function(u){var t=u.length;for(var v=0;v<t;++v){p.pools[p.pool].update(u.substr(v,1));p.pool=(p.pool===31)?0:p.pool+1}};p.collectInt=function(w,t){var v="";for(var u=0;u<t;u+=8){v+=String.fromCharCode((w>>u)&255)}p.collect(v)};p.registerWorker=function(t){if(t===self){p.seedFile=function(v,x){function w(z){var y=z.data;if(y.forge&&y.forge.prng){self.removeEventListener("message",w);x(y.forge.prng.err,y.forge.prng.bytes)}}self.addEventListener("message",w);self.postMessage({forge:{prng:{needed:v}}})}}else{var u=function(w){var v=w.data;if(v.forge&&v.forge.prng){p.seedFile(v.forge.prng.needed,function(x,y){t.postMessage({forge:{prng:{err:x,bytes:y}}})})}};t.addEventListener("message",u)}};return p}}var f="prng";if(typeof define!=="function"){if(typeof module==="object"&&module.exports){var b=true;define=function(h,g){g(require,module)}}else{if(typeof forge==="undefined"){forge={}}return a(forge)}}var d;var e=function(g,h){h.exports=function(l){var m=d.map(function(n){return g(n)}).concat(a);l=l||{};l.defined=l.defined||{};if(l.defined[f]){return l[f]}l.defined[f]=true;for(var j=0;j<m.length;++j){m[j](l)}return l[f]}};var c=define;define=function(h,g){d=(typeof h==="string")?g.slice(2):h.slice(2);if(b){delete define;return c.apply(null,Array.prototype.slice.call(arguments,0))}define=c;return define.apply(null,Array.prototype.slice.call(arguments,0))};define(["require","module","./md","./util"],function(){e.apply(null,Array.prototype.slice.call(arguments,0))})})();(function(){function a(g){if(g.random&&g.random.getBytes){return}(function(n){var l={};var B=new Array(4);var A=g.util.createBuffer();l.formatKey=function(t){var u=g.util.createBuffer(t);t=new Array(4);t[0]=u.getInt32();t[1]=u.getInt32();t[2]=u.getInt32();t[3]=u.getInt32();return g.aes._expandKey(t,false)};l.formatSeed=function(u){var t=g.util.createBuffer(u);u=new Array(4);u[0]=t.getInt32();u[1]=t.getInt32();u[2]=t.getInt32();u[3]=t.getInt32();return u};l.cipher=function(t,u){g.aes._updateBlock(t,u,B,false);A.putInt32(B[0]);A.putInt32(B[1]);A.putInt32(B[2]);A.putInt32(B[3]);return A.getBytes()};l.increment=function(t){++t[3];return t};l.md=g.md.sha256;function s(){var t=g.prng.create(l);t.getBytes=function(u,v){return t.generate(u,v)};t.getBytesSync=function(u){return t.generate(u)};return t}var r=s();var h=(typeof process!=="undefined"&&process.versions&&process.versions.node);var q=null;if(typeof window!=="undefined"){var C=window.crypto||window.msCrypto;if(C&&C.getRandomValues){q=function(t){return C.getRandomValues(t)}}}if(g.disableNativeCode||(!h&&!q)){if(typeof window==="undefined"||window.document===undefined){}r.collectInt(+new Date(),32);if(typeof(navigator)!=="undefined"){var p="";for(var m in navigator){try{if(typeof(navigator[m])=="string"){p+=navigator[m]}}catch(j){}}r.collect(p);p=null}if(n){n().mousemove(function(t){r.collectInt(t.clientX,16);r.collectInt(t.clientY,16)});n().keypress(function(t){r.collectInt(t.charCode,8)})}}if(!g.random){g.random=r}else{for(var m in r){g.random[m]=r[m]}}g.random.createInstance=s})(typeof(jQuery)!=="undefined"?jQuery:null)}var f="random";if(typeof define!=="function"){if(typeof module==="object"&&module.exports){var b=true;define=function(h,g){g(require,module)}}else{if(typeof forge==="undefined"){forge={}}return a(forge)}}var d;var e=function(g,h){h.exports=function(l){var m=d.map(function(n){return g(n)}).concat(a);l=l||{};l.defined=l.defined||{};if(l.defined[f]){return l[f]}l.defined[f]=true;for(var j=0;j<m.length;++j){m[j](l)}return l[f]}};var c=define;define=function(h,g){d=(typeof h==="string")?g.slice(2):h.slice(2);if(b){delete define;return c.apply(null,Array.prototype.slice.call(arguments,0))}define=c;return define.apply(null,Array.prototype.slice.call(arguments,0))};define(["require","module","./aes","./md","./prng","./util"],function(){e.apply(null,Array.prototype.slice.call(arguments,0))})})();(function(){function a(h){h.pki=h.pki||{};var g=h.pki.oids=h.oids=h.oids||{};g["1.2.840.113549.1.1.1"]="rsaEncryption";g.rsaEncryption="1.2.840.113549.1.1.1";g["1.2.840.113549.1.1.4"]="md5WithRSAEncryption";g.md5WithRSAEncryption="1.2.840.113549.1.1.4";g["1.2.840.113549.1.1.5"]="sha1WithRSAEncryption";g.sha1WithRSAEncryption="1.2.840.113549.1.1.5";g["1.2.840.113549.1.1.7"]="RSAES-OAEP";g["RSAES-OAEP"]="1.2.840.113549.1.1.7";g["1.2.840.113549.1.1.8"]="mgf1";g.mgf1="1.2.840.113549.1.1.8";g["1.2.840.113549.1.1.9"]="pSpecified";g.pSpecified="1.2.840.113549.1.1.9";g["1.2.840.113549.1.1.10"]="RSASSA-PSS";g["RSASSA-PSS"]="1.2.840.113549.1.1.10";g["1.2.840.113549.1.1.11"]="sha256WithRSAEncryption";g.sha256WithRSAEncryption="1.2.840.113549.1.1.11";g["1.2.840.113549.1.1.12"]="sha384WithRSAEncryption";g.sha384WithRSAEncryption="1.2.840.113549.1.1.12";g["1.2.840.113549.1.1.13"]="sha512WithRSAEncryption";g.sha512WithRSAEncryption="1.2.840.113549.1.1.13";g["1.3.14.3.2.7"]="desCBC";g.desCBC="1.3.14.3.2.7";g["1.3.14.3.2.26"]="sha1";g.sha1="1.3.14.3.2.26";g["2.16.840.1.101.3.4.2.1"]="sha256";g.sha256="2.16.840.1.101.3.4.2.1";g["2.16.840.1.101.3.4.2.2"]="sha384";g.sha384="2.16.840.1.101.3.4.2.2";g["2.16.840.1.101.3.4.2.3"]="sha512";g.sha512="2.16.840.1.101.3.4.2.3";g["1.2.840.113549.2.5"]="md5";g.md5="1.2.840.113549.2.5";g["1.2.840.113549.1.7.1"]="data";g.data="1.2.840.113549.1.7.1";g["1.2.840.113549.1.7.2"]="signedData";g.signedData="1.2.840.113549.1.7.2";g["1.2.840.113549.1.7.3"]="envelopedData";g.envelopedData="1.2.840.113549.1.7.3";g["1.2.840.113549.1.7.4"]="signedAndEnvelopedData";g.signedAndEnvelopedData="1.2.840.113549.1.7.4";g["1.2.840.113549.1.7.5"]="digestedData";g.digestedData="1.2.840.113549.1.7.5";g["1.2.840.113549.1.7.6"]="encryptedData";g.encryptedData="1.2.840.113549.1.7.6";g["1.2.840.113549.1.9.1"]="emailAddress";g.emailAddress="1.2.840.113549.1.9.1";g["1.2.840.113549.1.9.2"]="unstructuredName";g.unstructuredName="1.2.840.113549.1.9.2";g["1.2.840.113549.1.9.3"]="contentType";g.contentType="1.2.840.113549.1.9.3";g["1.2.840.113549.1.9.4"]="messageDigest";g.messageDigest="1.2.840.113549.1.9.4";g["1.2.840.113549.1.9.5"]="signingTime";g.signingTime="1.2.840.113549.1.9.5";g["1.2.840.113549.1.9.6"]="counterSignature";g.counterSignature="1.2.840.113549.1.9.6";g["1.2.840.113549.1.9.7"]="challengePassword";g.challengePassword="1.2.840.113549.1.9.7";g["1.2.840.113549.1.9.8"]="unstructuredAddress";g.unstructuredAddress="1.2.840.113549.1.9.8";g["1.2.840.113549.1.9.14"]="extensionRequest";g.extensionRequest="1.2.840.113549.1.9.14";g["1.2.840.113549.1.9.20"]="friendlyName";g.friendlyName="1.2.840.113549.1.9.20";g["1.2.840.113549.1.9.21"]="localKeyId";g.localKeyId="1.2.840.113549.1.9.21";g["1.2.840.113549.1.9.22.1"]="x509Certificate";g.x509Certificate="1.2.840.113549.1.9.22.1";g["1.2.840.113549.1.12.10.1.1"]="keyBag";g.keyBag="1.2.840.113549.1.12.10.1.1";g["1.2.840.113549.1.12.10.1.2"]="pkcs8ShroudedKeyBag";g.pkcs8ShroudedKeyBag="1.2.840.113549.1.12.10.1.2";g["1.2.840.113549.1.12.10.1.3"]="certBag";g.certBag="1.2.840.113549.1.12.10.1.3";g["1.2.840.113549.1.12.10.1.4"]="crlBag";g.crlBag="1.2.840.113549.1.12.10.1.4";g["1.2.840.113549.1.12.10.1.5"]="secretBag";g.secretBag="1.2.840.113549.1.12.10.1.5";g["1.2.840.113549.1.12.10.1.6"]="safeContentsBag";g.safeContentsBag="1.2.840.113549.1.12.10.1.6";g["1.2.840.113549.1.5.13"]="pkcs5PBES2";g.pkcs5PBES2="1.2.840.113549.1.5.13";g["1.2.840.113549.1.5.12"]="pkcs5PBKDF2";g.pkcs5PBKDF2="1.2.840.113549.1.5.12";g["1.2.840.113549.1.12.1.1"]="pbeWithSHAAnd128BitRC4";g.pbeWithSHAAnd128BitRC4="1.2.840.113549.1.12.1.1";g["1.2.840.113549.1.12.1.2"]="pbeWithSHAAnd40BitRC4";g.pbeWithSHAAnd40BitRC4="1.2.840.113549.1.12.1.2";g["1.2.840.113549.1.12.1.3"]="pbeWithSHAAnd3-KeyTripleDES-CBC";g["pbeWithSHAAnd3-KeyTripleDES-CBC"]="1.2.840.113549.1.12.1.3";g["1.2.840.113549.1.12.1.4"]="pbeWithSHAAnd2-KeyTripleDES-CBC";g["pbeWithSHAAnd2-KeyTripleDES-CBC"]="1.2.840.113549.1.12.1.4";g["1.2.840.113549.1.12.1.5"]="pbeWithSHAAnd128BitRC2-CBC";g["pbeWithSHAAnd128BitRC2-CBC"]="1.2.840.113549.1.12.1.5";g["1.2.840.113549.1.12.1.6"]="pbewithSHAAnd40BitRC2-CBC";g["pbewithSHAAnd40BitRC2-CBC"]="1.2.840.113549.1.12.1.6";g["1.2.840.113549.3.7"]="des-EDE3-CBC";g["des-EDE3-CBC"]="1.2.840.113549.3.7";g["2.16.840.1.101.3.4.1.2"]="aes128-CBC";g["aes128-CBC"]="2.16.840.1.101.3.4.1.2";g["2.16.840.1.101.3.4.1.22"]="aes192-CBC";g["aes192-CBC"]="2.16.840.1.101.3.4.1.22";g["2.16.840.1.101.3.4.1.42"]="aes256-CBC";g["aes256-CBC"]="2.16.840.1.101.3.4.1.42";g["2.5.4.3"]="commonName";g.commonName="2.5.4.3";g["2.5.4.5"]="serialName";g.serialName="2.5.4.5";g["2.5.4.6"]="countryName";g.countryName="2.5.4.6";g["2.5.4.7"]="localityName";g.localityName="2.5.4.7";g["2.5.4.8"]="stateOrProvinceName";g.stateOrProvinceName="2.5.4.8";g["2.5.4.10"]="organizationName";g.organizationName="2.5.4.10";g["2.5.4.11"]="organizationalUnitName";g.organizationalUnitName="2.5.4.11";g["2.16.840.1.113730.1.1"]="nsCertType";g.nsCertType="2.16.840.1.113730.1.1";g["2.5.29.1"]="authorityKeyIdentifier";g["2.5.29.2"]="keyAttributes";g["2.5.29.3"]="certificatePolicies";g["2.5.29.4"]="keyUsageRestriction";g["2.5.29.5"]="policyMapping";g["2.5.29.6"]="subtreesConstraint";g["2.5.29.7"]="subjectAltName";g["2.5.29.8"]="issuerAltName";g["2.5.29.9"]="subjectDirectoryAttributes";g["2.5.29.10"]="basicConstraints";g["2.5.29.11"]="nameConstraints";g["2.5.29.12"]="policyConstraints";g["2.5.29.13"]="basicConstraints";g["2.5.29.14"]="subjectKeyIdentifier";g.subjectKeyIdentifier="2.5.29.14";g["2.5.29.15"]="keyUsage";g.keyUsage="2.5.29.15";g["2.5.29.16"]="privateKeyUsagePeriod";g["2.5.29.17"]="subjectAltName";g.subjectAltName="2.5.29.17";g["2.5.29.18"]="issuerAltName";g.issuerAltName="2.5.29.18";g["2.5.29.19"]="basicConstraints";g.basicConstraints="2.5.29.19";g["2.5.29.20"]="cRLNumber";g["2.5.29.21"]="cRLReason";g["2.5.29.22"]="expirationDate";g["2.5.29.23"]="instructionCode";g["2.5.29.24"]="invalidityDate";g["2.5.29.25"]="cRLDistributionPoints";g["2.5.29.26"]="issuingDistributionPoint";g["2.5.29.27"]="deltaCRLIndicator";g["2.5.29.28"]="issuingDistributionPoint";g["2.5.29.29"]="certificateIssuer";g["2.5.29.30"]="nameConstraints";g["2.5.29.31"]="cRLDistributionPoints";g["2.5.29.32"]="certificatePolicies";g["2.5.29.33"]="policyMappings";g["2.5.29.34"]="policyConstraints";g["2.5.29.35"]="authorityKeyIdentifier";g["2.5.29.36"]="policyConstraints";g["2.5.29.37"]="extKeyUsage";g.extKeyUsage="2.5.29.37";g["2.5.29.46"]="freshestCRL";g["2.5.29.54"]="inhibitAnyPolicy";g["1.3.6.1.5.5.7.3.1"]="serverAuth";g.serverAuth="1.3.6.1.5.5.7.3.1";g["1.3.6.1.5.5.7.3.2"]="clientAuth";g.clientAuth="1.3.6.1.5.5.7.3.2";g["1.3.6.1.5.5.7.3.3"]="codeSigning";g.codeSigning="1.3.6.1.5.5.7.3.3";g["1.3.6.1.5.5.7.3.4"]="emailProtection";g.emailProtection="1.3.6.1.5.5.7.3.4";g["1.3.6.1.5.5.7.3.8"]="timeStamping";g.timeStamping="1.3.6.1.5.5.7.3.8"}var f="oids";if(typeof define!=="function"){if(typeof module==="object"&&module.exports){var b=true;define=function(h,g){g(require,module)}}else{if(typeof forge==="undefined"){forge={}}return a(forge)}}var d;var e=function(g,h){h.exports=function(l){var m=d.map(function(n){return g(n)}).concat(a);l=l||{};l.defined=l.defined||{};if(l.defined[f]){return l[f]}l.defined[f]=true;for(var j=0;j<m.length;++j){m[j](l)}return l[f]}};var c=define;define=function(h,g){d=(typeof h==="string")?g.slice(2):h.slice(2);if(b){delete define;return c.apply(null,Array.prototype.slice.call(arguments,0))}define=c;return define.apply(null,Array.prototype.slice.call(arguments,0))};define(["require","module"],function(){e.apply(null,Array.prototype.slice.call(arguments,0))})})();(function(){function a(I){if(typeof t==="undefined"){var t=I.jsbn.BigInteger}var G=I.asn1;I.pki=I.pki||{};I.pki.rsa=I.rsa=I.rsa||{};var p=I.pki;var h=[6,4,2,4,2,4,6,2];var r={name:"PrivateKeyInfo",tagClass:G.Class.UNIVERSAL,type:G.Type.SEQUENCE,constructed:true,value:[{name:"PrivateKeyInfo.version",tagClass:G.Class.UNIVERSAL,type:G.Type.INTEGER,constructed:false,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:G.Class.UNIVERSAL,type:G.Type.SEQUENCE,constructed:true,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:G.Class.UNIVERSAL,type:G.Type.OID,constructed:false,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:G.Class.UNIVERSAL,type:G.Type.OCTETSTRING,constructed:false,capture:"privateKey"}]};var n={name:"RSAPrivateKey",tagClass:G.Class.UNIVERSAL,type:G.Type.SEQUENCE,constructed:true,value:[{name:"RSAPrivateKey.version",tagClass:G.Class.UNIVERSAL,type:G.Type.INTEGER,constructed:false,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:G.Class.UNIVERSAL,type:G.Type.INTEGER,constructed:false,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:G.Class.UNIVERSAL,type:G.Type.INTEGER,constructed:false,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:G.Class.UNIVERSAL,type:G.Type.INTEGER,constructed:false,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:G.Class.UNIVERSAL,type:G.Type.INTEGER,constructed:false,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:G.Class.UNIVERSAL,type:G.Type.INTEGER,constructed:false,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:G.Class.UNIVERSAL,type:G.Type.INTEGER,constructed:false,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:G.Class.UNIVERSAL,type:G.Type.INTEGER,constructed:false,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:G.Class.UNIVERSAL,type:G.Type.INTEGER,constructed:false,capture:"privateKeyCoefficient"}]};var v={name:"RSAPublicKey",tagClass:G.Class.UNIVERSAL,type:G.Type.SEQUENCE,constructed:true,value:[{name:"RSAPublicKey.modulus",tagClass:G.Class.UNIVERSAL,type:G.Type.INTEGER,constructed:false,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:G.Class.UNIVERSAL,type:G.Type.INTEGER,constructed:false,capture:"publicKeyExponent"}]};var H=I.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:G.Class.UNIVERSAL,type:G.Type.SEQUENCE,constructed:true,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:G.Class.UNIVERSAL,type:G.Type.SEQUENCE,constructed:true,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:G.Class.UNIVERSAL,type:G.Type.OID,constructed:false,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:G.Class.UNIVERSAL,type:G.Type.BITSTRING,constructed:false,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:G.Class.UNIVERSAL,type:G.Type.SEQUENCE,constructed:true,optional:true,captureAsn1:"rsaPublicKey"}]}]};var s=function(z){var x;if(z.algorithm in p.oids){x=p.oids[z.algorithm]}else{var C=new Error("Unknown message digest algorithm.");C.algorithm=z.algorithm;throw C}var A=G.oidToDer(x).getBytes();var y=G.create(G.Class.UNIVERSAL,G.Type.SEQUENCE,true,[]);var B=G.create(G.Class.UNIVERSAL,G.Type.SEQUENCE,true,[]);B.value.push(G.create(G.Class.UNIVERSAL,G.Type.OID,false,A));B.value.push(G.create(G.Class.UNIVERSAL,G.Type.NULL,false,""));var w=G.create(G.Class.UNIVERSAL,G.Type.OCTETSTRING,false,z.digest().getBytes());y.value.push(B);y.value.push(w);return G.toDer(y).getBytes()};var g=function(C,y,A){if(A){return C.modPow(y.e,y.n)}if(!y.p||!y.q){return C.modPow(y.d,y.n)}if(!y.dP){y.dP=y.d.mod(y.p.subtract(t.ONE))}if(!y.dQ){y.dQ=y.d.mod(y.q.subtract(t.ONE))}if(!y.qInv){y.qInv=y.q.modInverse(y.p)}var z;do{z=new t(I.util.bytesToHex(I.random.getBytes(y.n.bitLength()/8)),16).mod(y.n)}while(z.equals(t.ZERO));C=C.multiply(z.modPow(y.e,y.n)).mod(y.n);var x=C.mod(y.p).modPow(y.dP,y.p);var w=C.mod(y.q).modPow(y.dQ,y.q);while(x.compareTo(w)<0){x=x.add(y.p)}var B=x.subtract(w).multiply(y.qInv).mod(y.p).multiply(y.q).add(w);B=B.multiply(z.modInverse(y.n)).mod(y.n);return B};p.rsa.encrypt=function(x,F,K){var z=K;var B;var y=Math.ceil(F.n.bitLength()/8);if(K!==false&&K!==true){z=(K===2);B=m(x,F,K)}else{B=I.util.createBuffer();B.putBytes(x)}var E=new t(B.toHex(),16);var D=g(E,F,z);var C=D.toString(16);var A=I.util.createBuffer();var w=y-Math.ceil(C.length/2);while(w>0){A.putByte(0);--w}A.putBytes(I.util.hexToBytes(C));return A.getBytes()};p.rsa.decrypt=function(A,F,z,y){var x=Math.ceil(F.n.bitLength()/8);if(A.length!==x){var C=new Error("Encrypted message length is invalid.");C.length=A.length;C.expected=x;throw C}var D=new t(I.util.createBuffer(A).toHex(),16);if(D.compareTo(F.n)>=0){throw new Error("Encrypted message is invalid.")}var E=g(D,F,z);var K=E.toString(16);var B=I.util.createBuffer();var w=x-Math.ceil(K.length/2);while(w>0){B.putByte(0);--w}B.putBytes(I.util.hexToBytes(K));if(y!==false){return j(B.getBytes(),F,z)}return B.getBytes()};p.rsa.createKeyPairGenerationState=function(C,z,x){if(typeof(C)==="string"){C=parseInt(C,10)}C=C||2048;x=x||{};var A=x.prng||I.random;var B={nextBytes:function(E){var D=A.getBytesSync(E.length);for(var F=0;F<E.length;++F){E[F]=D.charCodeAt(F)}}};var w=x.algorithm||"PRIMEINC";var y;if(w==="PRIMEINC"){y={algorithm:w,state:0,bits:C,rng:B,eInt:z||65537,e:new t(null),p:null,q:null,qBits:C>>1,pBits:C-(C>>1),pqState:0,num:null,keys:null};y.e.fromInt(y.eInt)}else{throw new Error("Invalid key generation algorithm: "+w)}return y};p.rsa.stepKeyPairGenerationState=function(F,w){if(!("algorithm" in F)){F.algorithm="PRIMEINC"}var y=new t(null);y.fromInt(30);var A=0;var x=function(K,L){return K|L};var B=+new Date();var z;var D=0;while(F.keys===null&&(w<=0||D<w)){if(F.state===0){var E=(F.p===null)?F.pBits:F.qBits;var J=E-1;if(F.pqState===0){F.num=new t(E,F.rng);if(!F.num.testBit(J)){F.num.bitwiseTo(t.ONE.shiftLeft(J),x,F.num)}F.num.dAddOffset(31-F.num.mod(y).byteValue(),0);A=0;++F.pqState}else{if(F.pqState===1){if(F.num.bitLength()>E){F.pqState=0}else{if(F.num.isProbablePrime(u(F.num.bitLength()))){++F.pqState}else{F.num.dAddOffset(h[A++%8],0)}}}else{if(F.pqState===2){F.pqState=(F.num.subtract(t.ONE).gcd(F.e).compareTo(t.ONE)===0)?3:0}else{if(F.pqState===3){F.pqState=0;if(F.p===null){F.p=F.num}else{F.q=F.num}if(F.p!==null&&F.q!==null){++F.state}F.num=null}}}}}else{if(F.state===1){if(F.p.compareTo(F.q)<0){F.num=F.p;F.p=F.q;F.q=F.num}++F.state}else{if(F.state===2){F.p1=F.p.subtract(t.ONE);F.q1=F.q.subtract(t.ONE);F.phi=F.p1.multiply(F.q1);++F.state}else{if(F.state===3){if(F.phi.gcd(F.e).compareTo(t.ONE)===0){++F.state}else{F.p=null;F.q=null;F.state=0}}else{if(F.state===4){F.n=F.p.multiply(F.q);if(F.n.bitLength()===F.bits){++F.state}else{F.q=null;F.state=0}}else{if(F.state===5){var C=F.e.modInverse(F.phi);F.keys={privateKey:p.rsa.setPrivateKey(F.n,F.e,C,F.p,F.q,C.mod(F.p1),C.mod(F.q1),F.q.modInverse(F.p)),publicKey:p.rsa.setPublicKey(F.n,F.e)}}}}}}}z=+new Date();D+=z-B;B=z}return F.keys!==null};p.rsa.generateKeyPair=function(x,y,z,A){if(arguments.length===1){if(typeof x==="object"){z=x;x=undefined}else{if(typeof x==="function"){A=x;x=undefined}}}else{if(arguments.length===2){if(typeof x==="number"){if(typeof y==="function"){A=y;y=undefined}else{if(typeof y!=="number"){z=y;y=undefined}}}else{z=x;A=y;x=undefined;y=undefined}}else{if(arguments.length===3){if(typeof y==="number"){if(typeof z==="function"){A=z;z=undefined}}else{A=z;z=y;y=undefined}}}}z=z||{};if(x===undefined){x=z.bits||2048}if(y===undefined){y=z.e||65537}var w=p.rsa.createKeyPairGenerationState(x,y,z);if(!A){p.rsa.stepKeyPairGenerationState(w,0);return w.keys}q(w,z,A)};p.setRsaPublicKey=p.rsa.setPublicKey=function(x,w){var y={n:x,e:w};y.encrypt=function(z,C,A){if(typeof C==="string"){C=C.toUpperCase()}else{if(C===undefined){C="RSAES-PKCS1-V1_5"}}if(C==="RSAES-PKCS1-V1_5"){C={encode:function(D,E,F){return m(D,E,2).getBytes()}}}else{if(C==="RSA-OAEP"||C==="RSAES-OAEP"){C={encode:function(D,E){return I.pkcs1.encode_rsa_oaep(E,D,A)}}}else{if(["RAW","NONE","NULL",null].indexOf(C)!==-1){C={encode:function(D){return D}}}else{if(typeof C==="string"){throw new Error('Unsupported encryption scheme: "'+C+'".')}}}}var B=C.encode(z,y,true);return p.rsa.encrypt(B,y,true)};y.verify=function(A,B,C){if(typeof C==="string"){C=C.toUpperCase()}else{if(C===undefined){C="RSASSA-PKCS1-V1_5"}}if(C==="RSASSA-PKCS1-V1_5"){C={verify:function(F,E){E=j(E,y,true);var D=G.fromDer(E);return F===D.value[1].value}}}else{if(C==="NONE"||C==="NULL"||C===null){C={verify:function(E,D){D=j(D,y,true);return E===D}}}}var z=p.rsa.decrypt(B,y,true,false);return C.verify(A,z,y.n.bitLength())};return y};p.setRsaPrivateKey=p.rsa.setPrivateKey=function(w,x,y,E,D,A,z,C){var B={n:w,e:x,d:y,p:E,q:D,dP:A,dQ:z,qInv:C};B.decrypt=function(O,M,F){if(typeof M==="string"){M=M.toUpperCase()}else{if(M===undefined){M="RSAES-PKCS1-V1_5"}}var N=p.rsa.decrypt(O,B,false,false);if(M==="RSAES-PKCS1-V1_5"){M={decode:j}}else{if(M==="RSA-OAEP"||M==="RSAES-OAEP"){M={decode:function(K,J){return I.pkcs1.decode_rsa_oaep(J,K,F)}}}else{if(["RAW","NONE","NULL",null].indexOf(M)!==-1){M={decode:function(J){return J}}}else{throw new Error('Unsupported encryption scheme: "'+M+'".')}}}return M.decode(N,B,false)};B.sign=function(O,M){var F=false;if(typeof M==="string"){M=M.toUpperCase()}if(M===undefined||M==="RSASSA-PKCS1-V1_5"){M={encode:s};F=1}else{if(M==="NONE"||M==="NULL"||M===null){M={encode:function(){return O}};F=1}}var N=M.encode(O,B.n.bitLength());return p.rsa.encrypt(N,B,F)};return B};p.wrapRsaPrivateKey=function(w){return G.create(G.Class.UNIVERSAL,G.Type.SEQUENCE,true,[G.create(G.Class.UNIVERSAL,G.Type.INTEGER,false,G.integerToDer(0).getBytes()),G.create(G.Class.UNIVERSAL,G.Type.SEQUENCE,true,[G.create(G.Class.UNIVERSAL,G.Type.OID,false,G.oidToDer(p.oids.rsaEncryption).getBytes()),G.create(G.Class.UNIVERSAL,G.Type.NULL,false,"")]),G.create(G.Class.UNIVERSAL,G.Type.OCTETSTRING,false,G.toDer(w).getBytes())])};p.privateKeyFromAsn1=function(x){var E={};var D=[];if(G.validate(x,r,E,D)){x=G.fromDer(I.util.createBuffer(E.privateKey))}E={};D=[];if(!G.validate(x,n,E,D)){var B=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");B.errors=D;throw B}var w,y,z,L,K,C,A,F;w=I.util.createBuffer(E.privateKeyModulus).toHex();y=I.util.createBuffer(E.privateKeyPublicExponent).toHex();z=I.util.createBuffer(E.privateKeyPrivateExponent).toHex();L=I.util.createBuffer(E.privateKeyPrime1).toHex();K=I.util.createBuffer(E.privateKeyPrime2).toHex();C=I.util.createBuffer(E.privateKeyExponent1).toHex();A=I.util.createBuffer(E.privateKeyExponent2).toHex();F=I.util.createBuffer(E.privateKeyCoefficient).toHex();return p.setRsaPrivateKey(new t(w,16),new t(y,16),new t(z,16),new t(L,16),new t(K,16),new t(C,16),new t(A,16),new t(F,16))};p.privateKeyToAsn1=p.privateKeyToRSAPrivateKey=function(w){return G.create(G.Class.UNIVERSAL,G.Type.SEQUENCE,true,[G.create(G.Class.UNIVERSAL,G.Type.INTEGER,false,G.integerToDer(0).getBytes()),G.create(G.Class.UNIVERSAL,G.Type.INTEGER,false,l(w.n)),G.create(G.Class.UNIVERSAL,G.Type.INTEGER,false,l(w.e)),G.create(G.Class.UNIVERSAL,G.Type.INTEGER,false,l(w.d)),G.create(G.Class.UNIVERSAL,G.Type.INTEGER,false,l(w.p)),G.create(G.Class.UNIVERSAL,G.Type.INTEGER,false,l(w.q)),G.create(G.Class.UNIVERSAL,G.Type.INTEGER,false,l(w.dP)),G.create(G.Class.UNIVERSAL,G.Type.INTEGER,false,l(w.dQ)),G.create(G.Class.UNIVERSAL,G.Type.INTEGER,false,l(w.qInv))])};p.publicKeyFromAsn1=function(C){var B={};var z=[];if(G.validate(C,H,B,z)){var x=G.derToOid(B.publicKeyOid);if(x!==p.oids.rsaEncryption){var w=new Error("Cannot read public key. Unknown OID.");w.oid=x;throw w}C=B.rsaPublicKey}z=[];if(!G.validate(C,v,B,z)){var w=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");w.errors=z;throw w}var y=I.util.createBuffer(B.publicKeyModulus).toHex();var A=I.util.createBuffer(B.publicKeyExponent).toHex();return p.setRsaPublicKey(new t(y,16),new t(A,16))};p.publicKeyToAsn1=p.publicKeyToSubjectPublicKeyInfo=function(w){return G.create(G.Class.UNIVERSAL,G.Type.SEQUENCE,true,[G.create(G.Class.UNIVERSAL,G.Type.SEQUENCE,true,[G.create(G.Class.UNIVERSAL,G.Type.OID,false,G.oidToDer(p.oids.rsaEncryption).getBytes()),G.create(G.Class.UNIVERSAL,G.Type.NULL,false,"")]),G.create(G.Class.UNIVERSAL,G.Type.BITSTRING,false,[p.publicKeyToRSAPublicKey(w)])])};p.publicKeyToRSAPublicKey=function(w){return G.create(G.Class.UNIVERSAL,G.Type.SEQUENCE,true,[G.create(G.Class.UNIVERSAL,G.Type.INTEGER,false,l(w.n)),G.create(G.Class.UNIVERSAL,G.Type.INTEGER,false,l(w.e))])};function m(w,C,D){var A=I.util.createBuffer();var y=Math.ceil(C.n.bitLength()/8);if(w.length>(y-11)){var B=new Error("Message is too long for PKCS#1 v1.5 padding.");B.length=w.length;B.max=y-11;throw B}A.putByte(0);A.putByte(D);var x=y-3-w.length;var F;if(D===0||D===1){F=(D===0)?0:255;for(var z=0;z<x;++z){A.putByte(F)}}else{while(x>0){var J=0;var E=I.random.getBytes(x);for(var z=0;z<x;++z){F=E.charCodeAt(z);if(F===0){++J}else{A.putByte(F)}}x=J}}A.putByte(0);A.putBytes(w);return A}function j(F,D,y,x){var w=Math.ceil(D.n.bitLength()/8);var B=I.util.createBuffer(F);var A=B.getByte();var E=B.getByte();if(A!==0||(y&&E!==0&&E!==1)||(!y&&E!=2)||(y&&E===0&&typeof(x)==="undefined")){throw new Error("Encryption block is invalid.")}var J=0;if(E===0){J=w-3-x;for(var z=0;z<J;++z){if(B.getByte()!==0){throw new Error("Encryption block is invalid.")}}}else{if(E===1){J=0;while(B.length()>1){if(B.getByte()!==255){--B.read;break}++J}}else{if(E===2){J=0;while(B.length()>1){if(B.getByte()===0){--B.read;break}++J}}}}var C=B.getByte();if(C!==0||J!==(w-3-B.length())){throw new Error("Encryption block is invalid.")}return B.getBytes()}function q(C,w,z){if(typeof w==="function"){z=w;w={}}w=w||{};var A={algorithm:{name:w.algorithm||"PRIMEINC",options:{workers:w.workers||2,workLoad:w.workLoad||100,workerScript:w.workerScript}}};if("prng" in w){A.prng=w.prng}B();function B(){x(C.pBits,function(E,D){if(E){return z(E)}C.p=D;if(C.q!==null){return y(E,C.q)}x(C.qBits,y)})}function x(D,E){I.prime.generateProbablePrime(D,A,E)}function y(E,J){if(E){return z(E)}C.q=J;if(C.p.compareTo(C.q)<0){var D=C.p;C.p=C.q;C.q=D}if(C.p.subtract(t.ONE).gcd(C.e).compareTo(t.ONE)!==0){C.p=null;B();return}if(C.q.subtract(t.ONE).gcd(C.e).compareTo(t.ONE)!==0){C.q=null;x(C.qBits,y);return}C.p1=C.p.subtract(t.ONE);C.q1=C.q.subtract(t.ONE);C.phi=C.p1.multiply(C.q1);if(C.phi.gcd(C.e).compareTo(t.ONE)!==0){C.p=C.q=null;B();return}C.n=C.p.multiply(C.q);if(C.n.bitLength()!==C.bits){C.q=null;x(C.qBits,y);return}var F=C.e.modInverse(C.phi);C.keys={privateKey:p.rsa.setPrivateKey(C.n,C.e,F,C.p,C.q,F.mod(C.p1),F.mod(C.q1),C.q.modInverse(C.p)),publicKey:p.rsa.setPublicKey(C.n,C.e)};z(null,C.keys)}}function l(x){var w=x.toString(16);if(w[0]>="8"){w="00"+w}return I.util.hexToBytes(w)}function u(w){if(w<=100){return 27}if(w<=150){return 18}if(w<=200){return 15}if(w<=250){return 12}if(w<=300){return 9}if(w<=350){return 8}if(w<=400){return 7}if(w<=500){return 6}if(w<=600){return 5}if(w<=800){return 4}if(w<=1250){return 3}return 2}}var f="rsa";if(typeof define!=="function"){if(typeof module==="object"&&module.exports){var b=true;define=function(h,g){g(require,module)}}else{if(typeof forge==="undefined"){forge={}}return a(forge)}}var d;var e=function(g,h){h.exports=function(l){var m=d.map(function(n){return g(n)}).concat(a);l=l||{};l.defined=l.defined||{};if(l.defined[f]){return l[f]}l.defined[f]=true;for(var j=0;j<m.length;++j){m[j](l)}return l[f]}};var c=define;define=function(h,g){d=(typeof h==="string")?g.slice(2):h.slice(2);if(b){delete define;return c.apply(null,Array.prototype.slice.call(arguments,0))}define=c;return define.apply(null,Array.prototype.slice.call(arguments,0))};define(["require","module","./asn1","./jsbn","./oids","./pkcs1","./prime","./random","./util"],function(){e.apply(null,Array.prototype.slice.call(arguments,0))})})();(function(){function a(u){var j=u.asn1;var n=u.pki=u.pki||{};var q=n.oids;var w={};w.CN=q.commonName;w.commonName="CN";w.C=q.countryName;w.countryName="C";w.L=q.localityName;w.localityName="L";w.ST=q.stateOrProvinceName;w.stateOrProvinceName="ST";w.O=q.organizationName;w.organizationName="O";w.OU=q.organizationalUnitName;w.organizationalUnitName="OU";w.E=q.emailAddress;w.emailAddress="E";var K=u.pki.rsa.publicKeyValidator;var x={name:"Certificate",tagClass:j.Class.UNIVERSAL,type:j.Type.SEQUENCE,constructed:true,value:[{name:"Certificate.TBSCertificate",tagClass:j.Class.UNIVERSAL,type:j.Type.SEQUENCE,constructed:true,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:j.Class.CONTEXT_SPECIFIC,type:0,constructed:true,optional:true,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:j.Class.UNIVERSAL,type:j.Type.INTEGER,constructed:false,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:j.Class.UNIVERSAL,type:j.Type.INTEGER,constructed:false,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:j.Class.UNIVERSAL,type:j.Type.SEQUENCE,constructed:true,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:j.Class.UNIVERSAL,type:j.Type.OID,constructed:false,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:j.Class.UNIVERSAL,optional:true,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:j.Class.UNIVERSAL,type:j.Type.SEQUENCE,constructed:true,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:j.Class.UNIVERSAL,type:j.Type.SEQUENCE,constructed:true,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:j.Class.UNIVERSAL,type:j.Type.UTCTIME,constructed:false,optional:true,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:j.Class.UNIVERSAL,type:j.Type.GENERALIZEDTIME,constructed:false,optional:true,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:j.Class.UNIVERSAL,type:j.Type.UTCTIME,constructed:false,optional:true,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:j.Class.UNIVERSAL,type:j.Type.GENERALIZEDTIME,constructed:false,optional:true,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:j.Class.UNIVERSAL,type:j.Type.SEQUENCE,constructed:true,captureAsn1:"certSubject"},K,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:j.Class.CONTEXT_SPECIFIC,type:1,constructed:true,optional:true,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:j.Class.UNIVERSAL,type:j.Type.BITSTRING,constructed:false,capture:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:j.Class.CONTEXT_SPECIFIC,type:2,constructed:true,optional:true,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:j.Class.UNIVERSAL,type:j.Type.BITSTRING,constructed:false,capture:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:j.Class.CONTEXT_SPECIFIC,type:3,constructed:true,captureAsn1:"certExtensions",optional:true}]},{name:"Certificate.signatureAlgorithm",tagClass:j.Class.UNIVERSAL,type:j.Type.SEQUENCE,constructed:true,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:j.Class.UNIVERSAL,type:j.Type.OID,constructed:false,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:j.Class.UNIVERSAL,optional:true,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:j.Class.UNIVERSAL,type:j.Type.BITSTRING,constructed:false,capture:"certSignature"}]};var v={name:"rsapss",tagClass:j.Class.UNIVERSAL,type:j.Type.SEQUENCE,constructed:true,value:[{name:"rsapss.hashAlgorithm",tagClass:j.Class.CONTEXT_SPECIFIC,type:0,constructed:true,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:j.Class.UNIVERSAL,type:j.Class.SEQUENCE,constructed:true,optional:true,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:j.Class.UNIVERSAL,type:j.Type.OID,constructed:false,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:j.Class.CONTEXT_SPECIFIC,type:1,constructed:true,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:j.Class.UNIVERSAL,type:j.Class.SEQUENCE,constructed:true,optional:true,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:j.Class.UNIVERSAL,type:j.Type.OID,constructed:false,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:j.Class.UNIVERSAL,type:j.Type.SEQUENCE,constructed:true,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:j.Class.UNIVERSAL,type:j.Type.OID,constructed:false,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:j.Class.CONTEXT_SPECIFIC,type:2,optional:true,value:[{name:"rsapss.saltLength.saltLength",tagClass:j.Class.UNIVERSAL,type:j.Class.INTEGER,constructed:false,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:j.Class.CONTEXT_SPECIFIC,type:3,optional:true,value:[{name:"rsapss.trailer.trailer",tagClass:j.Class.UNIVERSAL,type:j.Class.INTEGER,constructed:false,capture:"trailer"}]}]};var p={name:"CertificationRequestInfo",tagClass:j.Class.UNIVERSAL,type:j.Type.SEQUENCE,constructed:true,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:j.Class.UNIVERSAL,type:j.Type.INTEGER,constructed:false,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:j.Class.UNIVERSAL,type:j.Type.SEQUENCE,constructed:true,captureAsn1:"certificationRequestInfoSubject"},K,{name:"CertificationRequestInfo.attributes",tagClass:j.Class.CONTEXT_SPECIFIC,type:0,constructed:true,optional:true,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:j.Class.UNIVERSAL,type:j.Type.SEQUENCE,constructed:true,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:j.Class.UNIVERSAL,type:j.Type.OID,constructed:false},{name:"CertificationRequestInfo.attributes.value",tagClass:j.Class.UNIVERSAL,type:j.Type.SET,constructed:true}]}]}]};var g={name:"CertificationRequest",tagClass:j.Class.UNIVERSAL,type:j.Type.SEQUENCE,constructed:true,captureAsn1:"csr",value:[p,{name:"CertificationRequest.signatureAlgorithm",tagClass:j.Class.UNIVERSAL,type:j.Type.SEQUENCE,constructed:true,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:j.Class.UNIVERSAL,type:j.Type.OID,constructed:false,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:j.Class.UNIVERSAL,optional:true,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:j.Class.UNIVERSAL,type:j.Type.BITSTRING,constructed:false,capture:"csrSignature"}]};n.RDNAttributesAsArray=function(B,z){var E=[];var F,A,D;for(var C=0;C<B.value.length;++C){F=B.value[C];for(var y=0;y<F.value.length;++y){D={};A=F.value[y];D.type=j.derToOid(A.value[0].value);D.value=A.value[1].value;D.valueTagClass=A.value[1].type;if(D.type in q){D.name=q[D.type];if(D.name in w){D.shortName=w[D.name]}}if(z){z.update(D.type);z.update(D.value)}E.push(D)}}return E};n.CRIAttributesAsArray=function(A){var D=[];for(var C=0;C<A.length;++C){var G=A[C];var E=j.derToOid(G.value[0].value);var F=G.value[1].value;for(var z=0;z<F.length;++z){var B={};B.type=E;B.value=F[z].value;B.valueTagClass=F[z].type;if(B.type in q){B.name=q[B.type];if(B.name in w){B.shortName=w[B.name]}}if(B.type===q.extensionRequest){B.extensions=[];for(var y=0;y<B.value.length;++y){B.extensions.push(n.certificateExtensionFromAsn1(B.value[y]))}}D.push(B)}}return D};function m(B,C){if(typeof C==="string"){C={shortName:C}}var z=null;var A;for(var y=0;z===null&&y<B.attributes.length;++y){A=B.attributes[y];if(C.type&&C.type===A.type){z=A}else{if(C.name&&C.name===A.name){z=A}else{if(C.shortName&&C.shortName===A.shortName){z=A}}}}return z}var l=function(z,B,A){var D={};if(z!==q["RSASSA-PSS"]){return D}if(A){D={hash:{algorithmOid:q.sha1},mgf:{algorithmOid:q.mgf1,hash:{algorithmOid:q.sha1}},saltLength:20}}var C={};var E=[];if(!j.validate(B,v,C,E)){var y=new Error("Cannot read RSASSA-PSS parameter block.");y.errors=E;throw y}if(C.hashOid!==undefined){D.hash=D.hash||{};D.hash.algorithmOid=j.derToOid(C.hashOid)}if(C.maskGenOid!==undefined){D.mgf=D.mgf||{};D.mgf.algorithmOid=j.derToOid(C.maskGenOid);D.mgf.hash=D.mgf.hash||{};D.mgf.hash.algorithmOid=j.derToOid(C.maskGenHashOid)}if(C.saltLength!==undefined){D.saltLength=C.saltLength.charCodeAt(0)}return D};n.certificateFromPem=function(y,D,z){var B=u.pem.decode(y)[0];if(B.type!=="CERTIFICATE"&&B.type!=="X509 CERTIFICATE"&&B.type!=="TRUSTED CERTIFICATE"){var C=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');C.headerType=B.type;throw C}if(B.procType&&B.procType.type==="ENCRYPTED"){throw new Error("Could not convert certificate from PEM; PEM is encrypted.")}var A=j.fromDer(B.body,z);return n.certificateFromAsn1(A,D)};n.certificateToPem=function(z,y){var A={type:"CERTIFICATE",body:j.toDer(n.certificateToAsn1(z)).getBytes()};return u.pem.encode(A,{maxline:y})};n.publicKeyFromPem=function(B){var z=u.pem.decode(B)[0];if(z.type!=="PUBLIC KEY"&&z.type!=="RSA PUBLIC KEY"){var A=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');A.headerType=z.type;throw A}if(z.procType&&z.procType.type==="ENCRYPTED"){throw new Error("Could not convert public key from PEM; PEM is encrypted.")}var y=j.fromDer(z.body);return n.publicKeyFromAsn1(y)};n.publicKeyToPem=function(z,y){var A={type:"PUBLIC KEY",body:j.toDer(n.publicKeyToAsn1(z)).getBytes()};return u.pem.encode(A,{maxline:y})};n.publicKeyToRSAPublicKeyPem=function(z,y){var A={type:"RSA PUBLIC KEY",body:j.toDer(n.publicKeyToRSAPublicKey(z)).getBytes()};return u.pem.encode(A,{maxline:y})};n.getPublicKeyFingerprint=function(y,B){B=B||{};var D=B.md||u.md.sha1.create();var z=B.type||"RSAPublicKey";var A;switch(z){case"RSAPublicKey":A=j.toDer(n.publicKeyToRSAPublicKey(y)).getBytes();break;case"SubjectPublicKeyInfo":A=j.toDer(n.publicKeyToAsn1(y)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+B.type+'".')}D.start();D.update(A);var E=D.digest();if(B.encoding==="hex"){var C=E.toHex();if(B.delimiter){return C.match(/.{2}/g).join(B.delimiter)}return C}else{if(B.encoding==="binary"){return E.getBytes()}else{if(B.encoding){throw new Error('Unknown encoding "'+B.encoding+'".')}}}return E};n.certificationRequestFromPem=function(y,D,z){var B=u.pem.decode(y)[0];if(B.type!=="CERTIFICATE REQUEST"){var C=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');C.headerType=B.type;throw C}if(B.procType&&B.procType.type==="ENCRYPTED"){throw new Error("Could not convert certification request from PEM; PEM is encrypted.")}var A=j.fromDer(B.body,z);return n.certificationRequestFromAsn1(A,D)};n.certificationRequestToPem=function(z,y){var A={type:"CERTIFICATE REQUEST",body:j.toDer(n.certificationRequestToAsn1(z)).getBytes()};return u.pem.encode(A,{maxline:y})};n.createCertificate=function(){var y={};y.version=2;y.serialNumber="00";y.signatureOid=null;y.signature=null;y.siginfo={};y.siginfo.algorithmOid=null;y.validity={};y.validity.notBefore=new Date();y.validity.notAfter=new Date();y.issuer={};y.issuer.getField=function(z){return m(y.issuer,z)};y.issuer.addField=function(z){r([z]);y.issuer.attributes.push(z)};y.issuer.attributes=[];y.issuer.hash=null;y.subject={};y.subject.getField=function(z){return m(y.subject,z)};y.subject.addField=function(z){r([z]);y.subject.attributes.push(z)};y.subject.attributes=[];y.subject.hash=null;y.extensions=[];y.publicKey=null;y.md=null;y.setSubject=function(z,A){r(z);y.subject.attributes=z;delete y.subject.uniqueId;if(A){y.subject.uniqueId=A}y.subject.hash=null};y.setIssuer=function(z,A){r(z);y.issuer.attributes=z;delete y.issuer.uniqueId;if(A){y.issuer.uniqueId=A}y.issuer.hash=null};y.setExtensions=function(A){for(var z=0;z<A.length;++z){s(A[z],{cert:y})}y.extensions=A};y.getExtension=function(A){if(typeof A==="string"){A={name:A}}var B=null;var z;for(var C=0;B===null&&C<y.extensions.length;++C){z=y.extensions[C];if(A.id&&z.id===A.id){B=z}else{if(A.name&&z.name===A.name){B=z}}}return B};y.sign=function(z,A){y.md=A||u.md.sha1.create();var C=q[y.md.algorithm+"WithRSAEncryption"];if(!C){var D=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");D.algorithm=y.md.algorithm;throw D}y.signatureOid=y.siginfo.algorithmOid=C;y.tbsCertificate=n.getTBSCertificate(y);var B=j.toDer(y.tbsCertificate);y.md.update(B.getBytes());y.signature=z.sign(y.md)};y.verify=function(A){var E=false;if(!y.issued(A)){var F=A.issuer;var G=y.subject;var H=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");H.expectedIssuer=F.attributes;H.actualIssuer=G.attributes;throw H}var I=A.md;if(I===null){if(A.signatureOid in q){var B=q[A.signatureOid];switch(B){case"sha1WithRSAEncryption":I=u.md.sha1.create();break;case"md5WithRSAEncryption":I=u.md.md5.create();break;case"sha256WithRSAEncryption":I=u.md.sha256.create();break;case"RSASSA-PSS":I=u.md.sha256.create();break}}if(I===null){var H=new Error("Could not compute certificate digest. Unknown signature OID.");H.signatureOid=A.signatureOid;throw H}var J=A.tbsCertificate||n.getTBSCertificate(A);var N=j.toDer(J);I.update(N.getBytes())}if(I!==null){var z;switch(A.signatureOid){case q.sha1WithRSAEncryption:z=undefined;break;case q["RSASSA-PSS"]:var D,C;D=q[A.signatureParameters.mgf.hash.algorithmOid];if(D===undefined||u.md[D]===undefined){var H=new Error("Unsupported MGF hash function.");H.oid=A.signatureParameters.mgf.hash.algorithmOid;H.name=D;throw H}C=q[A.signatureParameters.mgf.algorithmOid];if(C===undefined||u.mgf[C]===undefined){var H=new Error("Unsupported MGF function.");H.oid=A.signatureParameters.mgf.algorithmOid;H.name=C;throw H}C=u.mgf[C].create(u.md[D].create());D=q[A.signatureParameters.hash.algorithmOid];if(D===undefined||u.md[D]===undefined){throw {message:"Unsupported RSASSA-PSS hash function.",oid:A.signatureParameters.hash.algorithmOid,name:D}}z=u.pss.create(u.md[D].create(),C,A.signatureParameters.saltLength);break}E=y.publicKey.verify(I.digest().getBytes(),A.signature,z)}return E};y.isIssuer=function(A){var D=false;var F=y.issuer;var z=A.subject;if(F.hash&&z.hash){D=(F.hash===z.hash)}else{if(F.attributes.length===z.attributes.length){D=true;var B,C;for(var E=0;D&&E<F.attributes.length;++E){B=F.attributes[E];C=z.attributes[E];if(B.type!==C.type||B.value!==C.value){D=false}}}}return D};y.issued=function(z){return z.isIssuer(y)};y.generateSubjectKeyIdentifier=function(){return n.getPublicKeyFingerprint(y.publicKey,{type:"RSAPublicKey"})};y.verifySubjectKeyIdentifier=function(){var A=q.subjectKeyIdentifier;for(var C=0;C<y.extensions.length;++C){var z=y.extensions[C];if(z.id===A){var B=y.generateSubjectKeyIdentifier().getBytes();return(u.util.hexToBytes(z.subjectKeyIdentifier)===B)}}return false};return y};n.certificateFromAsn1=function(D,Q){var S={};var J=[];if(!j.validate(D,x,S,J)){var H=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");H.errors=J;throw H}if(typeof S.certSignature!=="string"){var B="\x00";for(var E=0;E<S.certSignature.length;++E){B+=j.toDer(S.certSignature[E]).getBytes()}S.certSignature=B}var A=j.derToOid(S.publicKeyOid);if(A!==n.oids.rsaEncryption){throw new Error("Cannot read public key. OID is not RSA.")}var C=n.createCertificate();C.version=S.certVersion?S.certVersion.charCodeAt(0):0;var R=u.util.createBuffer(S.certSerialNumber);C.serialNumber=R.toHex();C.signatureOid=u.asn1.derToOid(S.certSignatureOid);C.signatureParameters=l(C.signatureOid,S.certSignatureParams,true);C.siginfo.algorithmOid=u.asn1.derToOid(S.certinfoSignatureOid);C.siginfo.parameters=l(C.siginfo.algorithmOid,S.certinfoSignatureParams,false);var y=u.util.createBuffer(S.certSignature);++y.read;C.signature=y.getBytes();var G=[];if(S.certValidity1UTCTime!==undefined){G.push(j.utcTimeToDate(S.certValidity1UTCTime))}if(S.certValidity2GeneralizedTime!==undefined){G.push(j.generalizedTimeToDate(S.certValidity2GeneralizedTime))}if(S.certValidity3UTCTime!==undefined){G.push(j.utcTimeToDate(S.certValidity3UTCTime))}if(S.certValidity4GeneralizedTime!==undefined){G.push(j.generalizedTimeToDate(S.certValidity4GeneralizedTime))}if(G.length>2){throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.")}if(G.length<2){throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.")}C.validity.notBefore=G[0];C.validity.notAfter=G[1];C.tbsCertificate=S.tbsCertificate;if(Q){C.md=null;if(C.signatureOid in q){var A=q[C.signatureOid];switch(A){case"sha1WithRSAEncryption":C.md=u.md.sha1.create();break;case"md5WithRSAEncryption":C.md=u.md.md5.create();break;case"sha256WithRSAEncryption":C.md=u.md.sha256.create();break;case"RSASSA-PSS":C.md=u.md.sha256.create();break}}if(C.md===null){var H=new Error("Could not compute certificate digest. Unknown signature OID.");H.signatureOid=C.signatureOid;throw H}var z=j.toDer(C.tbsCertificate);C.md.update(z.getBytes())}var F=u.md.sha1.create();C.issuer.getField=function(N){return m(C.issuer,N)};C.issuer.addField=function(N){r([N]);C.issuer.attributes.push(N)};C.issuer.attributes=n.RDNAttributesAsArray(S.certIssuer,F);if(S.certIssuerUniqueId){C.issuer.uniqueId=S.certIssuerUniqueId}C.issuer.hash=F.digest().toHex();var I=u.md.sha1.create();C.subject.getField=function(N){return m(C.subject,N)};C.subject.addField=function(N){r([N]);C.subject.attributes.push(N)};C.subject.attributes=n.RDNAttributesAsArray(S.certSubject,I);if(S.certSubjectUniqueId){C.subject.uniqueId=S.certSubjectUniqueId}C.subject.hash=I.digest().toHex();if(S.certExtensions){C.extensions=n.certificateExtensionsFromAsn1(S.certExtensions)}else{C.extensions=[]}C.publicKey=n.publicKeyFromAsn1(S.subjectPublicKeyInfo);return C};n.certificateExtensionsFromAsn1=function(y){var B=[];for(var C=0;C<y.value.length;++C){var z=y.value[C];for(var A=0;A<z.value.length;++A){B.push(n.certificateExtensionFromAsn1(z.value[A]))}}return B};n.certificateExtensionFromAsn1=function(z){var E={};E.id=j.derToOid(z.value[0].value);E.critical=false;if(z.value[1].type===j.Type.BOOLEAN){E.critical=(z.value[1].value.charCodeAt(0)!==0);E.value=z.value[2].value}else{E.value=z.value[1].value}if(E.id in q){E.name=q[E.id];if(E.name==="keyUsage"){var G=j.fromDer(E.value);var H=0;var F=0;if(G.value.length>1){H=G.value.charCodeAt(1);F=G.value.length>2?G.value.charCodeAt(2):0}E.digitalSignature=(H&128)===128;E.nonRepudiation=(H&64)===64;E.keyEncipherment=(H&32)===32;E.dataEncipherment=(H&16)===16;E.keyAgreement=(H&8)===8;E.keyCertSign=(H&4)===4;E.cRLSign=(H&2)===2;E.encipherOnly=(H&1)===1;E.decipherOnly=(F&128)===128}else{if(E.name==="basicConstraints"){var G=j.fromDer(E.value);if(G.value.length>0&&G.value[0].type===j.Type.BOOLEAN){E.cA=(G.value[0].value.charCodeAt(0)!==0)}else{E.cA=false}var I=null;if(G.value.length>0&&G.value[0].type===j.Type.INTEGER){I=G.value[0].value}else{if(G.value.length>1){I=G.value[1].value}}if(I!==null){E.pathLenConstraint=j.derToInteger(I)}}else{if(E.name==="extKeyUsage"){var G=j.fromDer(E.value);for(var D=0;D<G.value.length;++D){var B=j.derToOid(G.value[D].value);if(B in q){E[q[B]]=true}else{E[B]=true}}}else{if(E.name==="nsCertType"){var G=j.fromDer(E.value);var H=0;if(G.value.length>1){H=G.value.charCodeAt(1)}E.client=(H&128)===128;E.server=(H&64)===64;E.email=(H&32)===32;E.objsign=(H&16)===16;E.reserved=(H&8)===8;E.sslCA=(H&4)===4;E.emailCA=(H&2)===2;E.objCA=(H&1)===1}else{if(E.name==="subjectAltName"||E.name==="issuerAltName"){E.altNames=[];var C;var G=j.fromDer(E.value);for(var A=0;A<G.value.length;++A){C=G.value[A];var y={type:C.type,value:C.value};E.altNames.push(y);switch(C.type){case 1:case 2:case 6:break;case 7:y.ip=u.util.bytesToIP(C.value);break;case 8:y.oid=j.derToOid(C.value);break;default:}}}else{if(E.name==="subjectKeyIdentifier"){var G=j.fromDer(E.value);E.subjectKeyIdentifier=u.util.bytesToHex(G.value)}}}}}}}return E};n.certificationRequestFromAsn1=function(A,H){var I={};var G=[];if(!j.validate(A,g,I,G)){var E=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");E.errors=G;throw E}if(typeof I.csrSignature!=="string"){var D="\x00";for(var B=0;B<I.csrSignature.length;++B){D+=j.toDer(I.csrSignature[B]).getBytes()}I.csrSignature=D}var z=j.derToOid(I.publicKeyOid);if(z!==n.oids.rsaEncryption){throw new Error("Cannot read public key. OID is not RSA.")}var C=n.createCertificationRequest();C.version=I.csrVersion?I.csrVersion.charCodeAt(0):0;C.signatureOid=u.asn1.derToOid(I.csrSignatureOid);C.signatureParameters=l(C.signatureOid,I.csrSignatureParams,true);C.siginfo.algorithmOid=u.asn1.derToOid(I.csrSignatureOid);C.siginfo.parameters=l(C.siginfo.algorithmOid,I.csrSignatureParams,false);var y=u.util.createBuffer(I.csrSignature);++y.read;C.signature=y.getBytes();C.certificationRequestInfo=I.certificationRequestInfo;if(H){C.md=null;if(C.signatureOid in q){var z=q[C.signatureOid];switch(z){case"sha1WithRSAEncryption":C.md=u.md.sha1.create();break;case"md5WithRSAEncryption":C.md=u.md.md5.create();break;case"sha256WithRSAEncryption":C.md=u.md.sha256.create();break;case"RSASSA-PSS":C.md=u.md.sha256.create();break}}if(C.md===null){var E=new Error("Could not compute certification request digest. Unknown signature OID.");E.signatureOid=C.signatureOid;throw E}var J=j.toDer(C.certificationRequestInfo);C.md.update(J.getBytes())}var F=u.md.sha1.create();C.subject.getField=function(N){return m(C.subject,N)};C.subject.addField=function(N){r([N]);C.subject.attributes.push(N)};C.subject.attributes=n.RDNAttributesAsArray(I.certificationRequestInfoSubject,F);C.subject.hash=F.digest().toHex();C.publicKey=n.publicKeyFromAsn1(I.subjectPublicKeyInfo);C.getAttribute=function(N){return m(C,N)};C.addAttribute=function(N){r([N]);C.attributes.push(N)};C.attributes=n.CRIAttributesAsArray(I.certificationRequestInfoAttributes||[]);return C};n.createCertificationRequest=function(){var y={};y.version=0;y.signatureOid=null;y.signature=null;y.siginfo={};y.siginfo.algorithmOid=null;y.subject={};y.subject.getField=function(z){return m(y.subject,z)};y.subject.addField=function(z){r([z]);y.subject.attributes.push(z)};y.subject.attributes=[];y.subject.hash=null;y.publicKey=null;y.attributes=[];y.getAttribute=function(z){return m(y,z)};y.addAttribute=function(z){r([z]);y.attributes.push(z)};y.md=null;y.setSubject=function(z){r(z);y.subject.attributes=z;y.subject.hash=null};y.setAttributes=function(z){r(z);y.attributes=z};y.sign=function(z,A){y.md=A||u.md.sha1.create();var C=q[y.md.algorithm+"WithRSAEncryption"];if(!C){var D=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");D.algorithm=y.md.algorithm;throw D}y.signatureOid=y.siginfo.algorithmOid=C;y.certificationRequestInfo=n.getCertificationRequestInfo(y);var B=j.toDer(y.certificationRequestInfo);y.md.update(B.getBytes());y.signature=z.sign(y.md)};y.verify=function(){var E=false;var G=y.md;if(G===null){if(y.signatureOid in q){var A=q[y.signatureOid];switch(A){case"sha1WithRSAEncryption":G=u.md.sha1.create();break;case"md5WithRSAEncryption":G=u.md.md5.create();break;case"sha256WithRSAEncryption":G=u.md.sha256.create();break;case"RSASSA-PSS":G=u.md.sha256.create();break}}if(G===null){var F=new Error("Could not compute certification request digest. Unknown signature OID.");F.signatureOid=y.signatureOid;throw F}var B=y.certificationRequestInfo||n.getCertificationRequestInfo(y);var H=j.toDer(B);G.update(H.getBytes())}if(G!==null){var z;switch(y.signatureOid){case q.sha1WithRSAEncryption:break;case q["RSASSA-PSS"]:var D,C;D=q[y.signatureParameters.mgf.hash.algorithmOid];if(D===undefined||u.md[D]===undefined){var F=new Error("Unsupported MGF hash function.");F.oid=y.signatureParameters.mgf.hash.algorithmOid;F.name=D;throw F}C=q[y.signatureParameters.mgf.algorithmOid];if(C===undefined||u.mgf[C]===undefined){var F=new Error("Unsupported MGF function.");F.oid=y.signatureParameters.mgf.algorithmOid;F.name=C;throw F}C=u.mgf[C].create(u.md[D].create());D=q[y.signatureParameters.hash.algorithmOid];if(D===undefined||u.md[D]===undefined){var F=new Error("Unsupported RSASSA-PSS hash function.");F.oid=y.signatureParameters.hash.algorithmOid;F.name=D;throw F}z=u.pss.create(u.md[D].create(),C,y.signatureParameters.saltLength);break}E=y.publicKey.verify(G.digest().getBytes(),y.signature,z)}return E};return y};function t(E){var D=j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,true,[]);var z,F;var B=E.attributes;for(var y=0;y<B.length;++y){z=B[y];var C=z.value;var A=j.Type.PRINTABLESTRING;if("valueTagClass" in z){A=z.valueTagClass;if(A===j.Type.UTF8){C=u.util.encodeUtf8(C)}}F=j.create(j.Class.UNIVERSAL,j.Type.SET,true,[j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,true,[j.create(j.Class.UNIVERSAL,j.Type.OID,false,j.oidToDer(z.type).getBytes()),j.create(j.Class.UNIVERSAL,A,false,C)])]);D.value.push(F)}return D}function h(B){var C={};for(var y=0;y<B.length;++y){var z=B[y];if(z.shortName&&(z.valueTagClass===j.Type.UTF8||z.valueTagClass===j.Type.PRINTABLESTRING||z.valueTagClass===j.Type.IA5STRING)){var A=z.value;if(z.valueTagClass===j.Type.UTF8){A=u.util.encodeUtf8(z.value)}if(!(z.shortName in C)){C[z.shortName]=A}else{if(u.util.isArray(C[z.shortName])){C[z.shortName].push(A)}else{C[z.shortName]=[C[z.shortName],A]}}}}return C}function r(y){var z;for(var A=0;A<y.length;++A){z=y[A];if(typeof z.name==="undefined"){if(z.type&&z.type in n.oids){z.name=n.oids[z.type]}else{if(z.shortName&&z.shortName in w){z.name=n.oids[w[z.shortName]]}}}if(typeof z.type==="undefined"){if(z.name&&z.name in n.oids){z.type=n.oids[z.name]}else{var B=new Error("Attribute type not specified.");B.attribute=z;throw B}}if(typeof z.shortName==="undefined"){if(z.name&&z.name in w){z.shortName=w[z.name]}}if(z.type===q.extensionRequest){z.valueConstructed=true;z.valueTagClass=j.Type.SEQUENCE;if(!z.value&&z.extensions){z.value=[];for(var C=0;C<z.extensions.length;++C){z.value.push(n.certificateExtensionToAsn1(s(z.extensions[C])))}}}if(typeof z.value==="undefined"){var B=new Error("Attribute value not specified.");B.attribute=z;throw B}}}function s(C,J){J=J||{};if(typeof C.name==="undefined"){if(C.id&&C.id in n.oids){C.name=n.oids[C.id]}}if(typeof C.id==="undefined"){if(C.name&&C.name in n.oids){C.id=n.oids[C.name]}else{var D=new Error("Extension ID not specified.");D.extension=C;throw D}}if(typeof C.value!=="undefined"){return C}if(C.name==="keyUsage"){var B=0;var F=0;var E=0;if(C.digitalSignature){F|=128;B=7}if(C.nonRepudiation){F|=64;B=6}if(C.keyEncipherment){F|=32;B=5}if(C.dataEncipherment){F|=16;B=4}if(C.keyAgreement){F|=8;B=3}if(C.keyCertSign){F|=4;B=2}if(C.cRLSign){F|=2;B=1}if(C.encipherOnly){F|=1;B=0}if(C.decipherOnly){E|=128;B=7}var G=String.fromCharCode(B);if(E!==0){G+=String.fromCharCode(F)+String.fromCharCode(E)}else{if(F!==0){G+=String.fromCharCode(F)}}C.value=j.create(j.Class.UNIVERSAL,j.Type.BITSTRING,false,G)}else{if(C.name==="basicConstraints"){C.value=j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,true,[]);if(C.cA){C.value.value.push(j.create(j.Class.UNIVERSAL,j.Type.BOOLEAN,false,String.fromCharCode(255)))}if("pathLenConstraint" in C){C.value.value.push(j.create(j.Class.UNIVERSAL,j.Type.INTEGER,false,j.integerToDer(C.pathLenConstraint).getBytes()))}}else{if(C.name==="extKeyUsage"){C.value=j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,true,[]);var I=C.value.value;for(var H in C){if(C[H]!==true){continue}if(H in q){I.push(j.create(j.Class.UNIVERSAL,j.Type.OID,false,j.oidToDer(q[H]).getBytes()))}else{if(H.indexOf(".")!==-1){I.push(j.create(j.Class.UNIVERSAL,j.Type.OID,false,j.oidToDer(H).getBytes()))}}}}else{if(C.name==="nsCertType"){var B=0;var F=0;if(C.client){F|=128;B=7}if(C.server){F|=64;B=6}if(C.email){F|=32;B=5}if(C.objsign){F|=16;B=4}if(C.reserved){F|=8;B=3}if(C.sslCA){F|=4;B=2}if(C.emailCA){F|=2;B=1}if(C.objCA){F|=1;B=0}var G=String.fromCharCode(B);if(F!==0){G+=String.fromCharCode(F)}C.value=j.create(j.Class.UNIVERSAL,j.Type.BITSTRING,false,G)}else{if(C.name==="subjectAltName"||C.name==="issuerAltName"){C.value=j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,true,[]);var y;for(var A=0;A<C.altNames.length;++A){y=C.altNames[A];var G=y.value;if(y.type===7&&y.ip){G=u.util.bytesFromIP(y.ip);if(G===null){var D=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');D.extension=C;throw D}}else{if(y.type===8){if(y.oid){G=j.oidToDer(j.oidToDer(y.oid))}else{G=j.oidToDer(G)}}}C.value.value.push(j.create(j.Class.CONTEXT_SPECIFIC,y.type,false,G))}}else{if(C.name==="subjectKeyIdentifier"&&J.cert){var z=J.cert.generateSubjectKeyIdentifier();C.subjectKeyIdentifier=z.toHex();C.value=j.create(j.Class.UNIVERSAL,j.Type.OCTETSTRING,false,z.getBytes())}}}}}}if(typeof C.value==="undefined"){var D=new Error("Extension value not specified.");D.extension=C;throw D}return C}function L(z,y){switch(z){case q["RSASSA-PSS"]:var A=[];if(y.hash.algorithmOid!==undefined){A.push(j.create(j.Class.CONTEXT_SPECIFIC,0,true,[j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,true,[j.create(j.Class.UNIVERSAL,j.Type.OID,false,j.oidToDer(y.hash.algorithmOid).getBytes()),j.create(j.Class.UNIVERSAL,j.Type.NULL,false,"")])]))}if(y.mgf.algorithmOid!==undefined){A.push(j.create(j.Class.CONTEXT_SPECIFIC,1,true,[j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,true,[j.create(j.Class.UNIVERSAL,j.Type.OID,false,j.oidToDer(y.mgf.algorithmOid).getBytes()),j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,true,[j.create(j.Class.UNIVERSAL,j.Type.OID,false,j.oidToDer(y.mgf.hash.algorithmOid).getBytes()),j.create(j.Class.UNIVERSAL,j.Type.NULL,false,"")])])]))}if(y.saltLength!==undefined){A.push(j.create(j.Class.CONTEXT_SPECIFIC,2,true,[j.create(j.Class.UNIVERSAL,j.Type.INTEGER,false,j.integerToDer(y.saltLength).getBytes())]))}return j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,true,A);default:return j.create(j.Class.UNIVERSAL,j.Type.NULL,false,"")}}function M(B){var A=j.create(j.Class.CONTEXT_SPECIFIC,0,true,[]);if(B.attributes.length===0){return A}var F=B.attributes;for(var z=0;z<F.length;++z){var C=F[z];var D=C.value;var E=j.Type.UTF8;if("valueTagClass" in C){E=C.valueTagClass}if(E===j.Type.UTF8){D=u.util.encodeUtf8(D)}var y=false;if("valueConstructed" in C){y=C.valueConstructed}var G=j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,true,[j.create(j.Class.UNIVERSAL,j.Type.OID,false,j.oidToDer(C.type).getBytes()),j.create(j.Class.UNIVERSAL,j.Type.SET,true,[j.create(j.Class.UNIVERSAL,E,y,D)])]);A.value.push(G)}return A}n.getTBSCertificate=function(y){var z=j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,true,[j.create(j.Class.CONTEXT_SPECIFIC,0,true,[j.create(j.Class.UNIVERSAL,j.Type.INTEGER,false,j.integerToDer(y.version).getBytes())]),j.create(j.Class.UNIVERSAL,j.Type.INTEGER,false,u.util.hexToBytes(y.serialNumber)),j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,true,[j.create(j.Class.UNIVERSAL,j.Type.OID,false,j.oidToDer(y.siginfo.algorithmOid).getBytes()),L(y.siginfo.algorithmOid,y.siginfo.parameters)]),t(y.issuer),j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,true,[j.create(j.Class.UNIVERSAL,j.Type.UTCTIME,false,j.dateToUtcTime(y.validity.notBefore)),j.create(j.Class.UNIVERSAL,j.Type.UTCTIME,false,j.dateToUtcTime(y.validity.notAfter))]),t(y.subject),n.publicKeyToAsn1(y.publicKey)]);if(y.issuer.uniqueId){z.value.push(j.create(j.Class.CONTEXT_SPECIFIC,1,true,[j.create(j.Class.UNIVERSAL,j.Type.BITSTRING,false,String.fromCharCode(0)+y.issuer.uniqueId)]))}if(y.subject.uniqueId){z.value.push(j.create(j.Class.CONTEXT_SPECIFIC,2,true,[j.create(j.Class.UNIVERSAL,j.Type.BITSTRING,false,String.fromCharCode(0)+y.subject.uniqueId)]))}if(y.extensions.length>0){z.value.push(n.certificateExtensionsToAsn1(y.extensions))}return z};n.getCertificationRequestInfo=function(y){var z=j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,true,[j.create(j.Class.UNIVERSAL,j.Type.INTEGER,false,j.integerToDer(y.version).getBytes()),t(y.subject),n.publicKeyToAsn1(y.publicKey),M(y)]);return z};n.distinguishedNameToAsn1=function(y){return t(y)};n.certificateToAsn1=function(y){var z=y.tbsCertificate||n.getTBSCertificate(y);return j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,true,[z,j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,true,[j.create(j.Class.UNIVERSAL,j.Type.OID,false,j.oidToDer(y.signatureOid).getBytes()),L(y.signatureOid,y.signatureParameters)]),j.create(j.Class.UNIVERSAL,j.Type.BITSTRING,false,String.fromCharCode(0)+y.signature)])};n.certificateExtensionsToAsn1=function(y){var z=j.create(j.Class.CONTEXT_SPECIFIC,3,true,[]);var A=j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,true,[]);z.value.push(A);for(var B=0;B<y.length;++B){A.value.push(n.certificateExtensionToAsn1(y[B]))}return z};n.certificateExtensionToAsn1=function(A){var z=j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,true,[]);z.value.push(j.create(j.Class.UNIVERSAL,j.Type.OID,false,j.oidToDer(A.id).getBytes()));if(A.critical){z.value.push(j.create(j.Class.UNIVERSAL,j.Type.BOOLEAN,false,String.fromCharCode(255)))}var y=A.value;if(typeof A.value!=="string"){y=j.toDer(y).getBytes()}z.value.push(j.create(j.Class.UNIVERSAL,j.Type.OCTETSTRING,false,y));return z};n.certificationRequestToAsn1=function(y){var z=y.certificationRequestInfo||n.getCertificationRequestInfo(y);return j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,true,[z,j.create(j.Class.UNIVERSAL,j.Type.SEQUENCE,true,[j.create(j.Class.UNIVERSAL,j.Type.OID,false,j.oidToDer(y.signatureOid).getBytes()),L(y.signatureOid,y.signatureParameters)]),j.create(j.Class.UNIVERSAL,j.Type.BITSTRING,false,String.fromCharCode(0)+y.signature)])};n.createCaStore=function(B){var z={certs:{}};z.getIssuer=function(D){var E=y(D.issuer);return E};z.addCertificate=function(E){if(typeof E==="string"){E=u.pki.certificateFromPem(E)}if(!E.subject.hash){var F=u.md.sha1.create();E.subject.attributes=n.RDNAttributesAsArray(t(E.subject),F);E.subject.hash=F.digest().toHex()}if(E.subject.hash in z.certs){var D=z.certs[E.subject.hash];if(!u.util.isArray(D)){D=[D]}D.push(E)}else{z.certs[E.subject.hash]=E}};z.hasCertificate=function(H){var F=y(H.subject);if(!F){return false}if(!u.util.isArray(F)){F=[F]}var E=j.toDer(n.certificateToAsn1(H)).getBytes();for(var G=0;G<F.length;++G){var D=j.toDer(n.certificateToAsn1(F[G])).getBytes();if(E===D){return true}}return false};function y(D){if(!D.hash){var E=u.md.sha1.create();D.attributes=n.RDNAttributesAsArray(t(D),E);D.hash=E.digest().toHex()}return z.certs[D.hash]||null}if(B){for(var C=0;C<B.length;++C){var A=B[C];z.addCertificate(A)}}return z};n.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};n.verifyCertificateChain=function(y,A,D){A=A.slice(0);var T=A.slice(0);var F=new Date();var ae=true;var C=null;var R=0;do{var P=A.shift();var af=null;var H=false;if(F<P.validity.notBefore||F>P.validity.notAfter){C={message:"Certificate is not valid yet or has expired.",error:n.certificateError.certificate_expired,notBefore:P.validity.notBefore,notAfter:P.validity.notAfter,now:F}}if(C===null){af=A[0]||y.getIssuer(P);if(af===null){if(P.isIssuer(P)){H=true;af=P}}if(af){var O=af;if(!u.util.isArray(O)){O=[O]}var B=false;while(!B&&O.length>0){af=O.shift();try{B=af.verify(P)}catch(J){}}if(!B){C={message:"Certificate signature is invalid.",error:n.certificateError.bad_certificate}}}if(C===null&&(!af||H)&&!y.hasCertificate(P)){C={message:"Certificate is not trusted.",error:n.certificateError.unknown_ca}}}if(C===null&&af&&!P.isIssuer(af)){C={message:"Certificate issuer is invalid.",error:n.certificateError.bad_certificate}}if(C===null){var S={keyUsage:true,basicConstraints:true};for(var I=0;C===null&&I<P.extensions.length;++I){var ad=P.extensions[I];if(ad.critical&&!(ad.name in S)){C={message:"Certificate has an unsupported critical extension.",error:n.certificateError.unsupported_certificate}}}}if(C===null&&(!ae||(A.length===0&&(!af||H)))){var G=P.getExtension("basicConstraints");var z=P.getExtension("keyUsage");if(z!==null){if(!z.keyCertSign||G===null){C={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:n.certificateError.bad_certificate}}}if(C===null&&G!==null&&!G.cA){C={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:n.certificateError.bad_certificate}}if(C===null&&z!==null&&"pathLenConstraint" in G){var E=R-1;if(E>G.pathLenConstraint){C={message:"Certificate basicConstraints pathLenConstraint violated.",error:n.certificateError.bad_certificate}}}}var N=(C===null)?true:C.error;var Q=D?D(N,R,T):N;if(Q===true){C=null}else{if(N===true){C={message:"The application rejected the certificate.",error:n.certificateError.bad_certificate}}if(Q||Q===0){if(typeof Q==="object"&&!u.util.isArray(Q)){if(Q.message){C.message=Q.message}if(Q.error){C.error=Q.error}}else{if(typeof Q==="string"){C.error=Q}}}throw C}ae=false;++R}while(A.length>0);return true}}var f="x509";if(typeof define!=="function"){if(typeof module==="object"&&module.exports){var b=true;define=function(h,g){g(require,module)}}else{if(typeof forge==="undefined"){forge={}}return a(forge)}}var d;var e=function(g,h){h.exports=function(l){var m=d.map(function(n){return g(n)}).concat(a);l=l||{};l.defined=l.defined||{};if(l.defined[f]){return l[f]}l.defined[f]=true;for(var j=0;j<m.length;++j){m[j](l)}return l.pki}};var c=define;define=function(h,g){d=(typeof h==="string")?g.slice(2):h.slice(2);if(b){delete define;return c.apply(null,Array.prototype.slice.call(arguments,0))}define=c;return define.apply(null,Array.prototype.slice.call(arguments,0))};define(["require","module","./aes","./asn1","./des","./md","./mgf","./oids","./pem","./pss","./rsa","./util"],function(){e.apply(null,Array.prototype.slice.call(arguments,0))})})();(function(){function a(h){var g=h.asn1;var j=h.pki=h.pki||{};j.pemToDer=function(l){var m=h.pem.decode(l)[0];if(m.procType&&m.procType.type==="ENCRYPTED"){throw new Error("Could not convert PEM to DER; PEM is encrypted.")}return h.util.createBuffer(m.body)};j.privateKeyFromPem=function(l){var p=h.pem.decode(l)[0];if(p.type!=="PRIVATE KEY"&&p.type!=="RSA PRIVATE KEY"){var q=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');q.headerType=p.type;throw q}if(p.procType&&p.procType.type==="ENCRYPTED"){throw new Error("Could not convert private key from PEM; PEM is encrypted.")}var m=g.fromDer(p.body);return j.privateKeyFromAsn1(m)};j.privateKeyToPem=function(l,n){var m={type:"RSA PRIVATE KEY",body:g.toDer(j.privateKeyToAsn1(l)).getBytes()};return h.pem.encode(m,{maxline:n})};j.privateKeyInfoToPem=function(l,n){var m={type:"PRIVATE KEY",body:g.toDer(l).getBytes()};return h.pem.encode(m,{maxline:n})}}var f="pki";if(typeof define!=="function"){if(typeof module==="object"&&module.exports){var b=true;define=function(h,g){g(require,module)}}else{if(typeof forge==="undefined"){forge={}}return a(forge)}}var d;var e=function(g,h){h.exports=function(l){var m=d.map(function(n){return g(n)}).concat(a);l=l||{};l.defined=l.defined||{};if(l.defined[f]){return l[f]}l.defined[f]=true;for(var j=0;j<m.length;++j){m[j](l)}return l[f]}};var c=define;define=function(h,g){d=(typeof h==="string")?g.slice(2):h.slice(2);if(b){delete define;return c.apply(null,Array.prototype.slice.call(arguments,0))}define=c;return define.apply(null,Array.prototype.slice.call(arguments,0))};define(["require","module","./asn1","./oids","./pbe","./pem","./pbkdf2","./pkcs12","./pss","./rsa","./util","./x509"],function(){e.apply(null,Array.prototype.slice.call(arguments,0))})})();(function(){function a(h){h.aes=h.aes||{};h.aes.startEncrypting=function(x,w,v,t){var u=l({key:x,output:v,decrypt:false,mode:t});u.start(w);return u};h.aes.createEncryptionCipher=function(u,t){return l({key:u,output:null,decrypt:false,mode:t})};h.aes.startDecrypting=function(x,w,v,t){var u=l({key:x,output:v,decrypt:true,mode:t});u.start(w);return u};h.aes.createDecryptionCipher=function(u,t){return l({key:u,output:null,decrypt:true,mode:t})};h.aes.Algorithm=function(v,t){if(!p){A()}var u=this;u.name=v;u.mode=new t({blockSize:16,cipher:{encrypt:function(x,w){return q(u._w,x,w,false)},decrypt:function(x,w){return q(u._w,x,w,true)}}});u._init=false};h.aes.Algorithm.prototype.initialize=function(x){if(this._init){return}var t=x.key;var z;if(typeof t==="string"&&(t.length===16||t.length===24||t.length===32)){t=h.util.createBuffer(t)}else{if(h.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){z=t;t=h.util.createBuffer();for(var y=0;y<z.length;++y){t.putByte(z[y])}}}if(!h.util.isArray(t)){z=t;t=[];var w=z.length();if(w===16||w===24||w===32){w=w>>>2;for(var y=0;y<w;++y){t.push(z.getInt32())}}}if(!h.util.isArray(t)||!(t.length===4||t.length===6||t.length===8)){throw new Error("Invalid key parameter.")}var v=this.mode.name;var u=(["CFB","OFB","CTR","GCM"].indexOf(v)!==-1);this._w=m(t,x.decrypt&&!u);this._init=true};h.aes._expandKey=function(t,u){if(!p){A()}return m(t,u)};h.aes._updateBlock=q;j("AES-ECB",h.cipher.modes.ecb);j("AES-CBC",h.cipher.modes.cbc);j("AES-CFB",h.cipher.modes.cfb);j("AES-OFB",h.cipher.modes.ofb);j("AES-CTR",h.cipher.modes.ctr);j("AES-GCM",h.cipher.modes.gcm);function j(v,t){var u=function(){return new h.aes.Algorithm(v,t)};h.cipher.registerAlgorithm(v,u)}var p=false;var g=4;var B;var n;var s;var r;var C;function A(){p=true;s=[0,1,2,4,8,16,32,64,128,27,54];var z=new Array(256);for(var L=0;L<128;++L){z[L]=L<<1;z[L+128]=(L+128)<<1^283}B=new Array(256);n=new Array(256);r=new Array(4);C=new Array(4);for(var L=0;L<4;++L){r[L]=new Array(256);C[L]=new Array(256)}var u=0,K=0,x,v,M,y,D,w,t;for(var L=0;L<256;++L){y=K^(K<<1)^(K<<2)^(K<<3)^(K<<4);y=(y>>8)^(y&255)^99;B[u]=y;n[y]=u;D=z[y];x=z[u];v=z[x];M=z[v];w=(D<<24)^(y<<16)^(y<<8)^(y^D);t=(x^v^M)<<24^(u^M)<<16^(u^v^M)<<8^(u^x^M);for(var E=0;E<4;++E){r[E][u]=w;C[E][y]=t;w=w<<24|w>>>8;t=t<<24|t>>>8}if(u===0){u=K=1}else{u=x^z[z[z[x^M]]];K^=z[z[K]]}}}function m(G,H){var z=G.slice(0);var J,F=1;var u=z.length;var K=u+6+1;var v=g*K;for(var x=u;x<v;++x){J=z[x-1];if(x%u===0){J=B[J>>>16&255]<<24^B[J>>>8&255]<<16^B[J&255]<<8^B[J>>>24]^(s[F]<<24);F++}else{if(u>6&&(x%u===4)){J=B[J>>>24]<<24^B[J>>>16&255]<<16^B[J>>>8&255]<<8^B[J&255]}}z[x]=z[x-u]^J}if(H){var w;var W=C[0];var V=C[1];var I=C[2];var D=C[3];var y=z.slice(0);v=z.length;for(var x=0,E=v-g;x<v;x+=g,E-=g){if(x===0||x===(v-g)){y[x]=z[E];y[x+1]=z[E+3];y[x+2]=z[E+2];y[x+3]=z[E+1]}else{for(var t=0;t<g;++t){w=z[E+t];y[x+(3&-t)]=W[B[w>>>24]]^V[B[w>>>16&255]]^I[B[w>>>8&255]]^D[B[w&255]]}}}z=y}return z}function q(w,y,v,H){var L=w.length/4-1;var J,E,z,x,u;if(H){J=C[0];E=C[1];z=C[2];x=C[3];u=n}else{J=r[0];E=r[1];z=r[2];x=r[3];u=B}var Z,M,I,G,aa,t,D;Z=y[0]^w[0];M=y[H?3:1]^w[1];I=y[2]^w[2];G=y[H?1:3]^w[3];var F=3;for(var K=1;K<L;++K){aa=J[Z>>>24]^E[M>>>16&255]^z[I>>>8&255]^x[G&255]^w[++F];t=J[M>>>24]^E[I>>>16&255]^z[G>>>8&255]^x[Z&255]^w[++F];D=J[I>>>24]^E[G>>>16&255]^z[Z>>>8&255]^x[M&255]^w[++F];G=J[G>>>24]^E[Z>>>16&255]^z[M>>>8&255]^x[I&255]^w[++F];Z=aa;M=t;I=D}v[0]=(u[Z>>>24]<<24)^(u[M>>>16&255]<<16)^(u[I>>>8&255]<<8)^(u[G&255])^w[++F];v[H?3:1]=(u[M>>>24]<<24)^(u[I>>>16&255]<<16)^(u[G>>>8&255]<<8)^(u[Z&255])^w[++F];v[2]=(u[I>>>24]<<24)^(u[G>>>16&255]<<16)^(u[Z>>>8&255]<<8)^(u[M&255])^w[++F];v[H?1:3]=(u[G>>>24]<<24)^(u[Z>>>16&255]<<16)^(u[M>>>8&255]<<8)^(u[I&255])^w[++F]}function l(w){w=w||{};var x=(w.mode||"CBC").toUpperCase();var v="AES-"+x;var u;if(w.decrypt){u=h.cipher.createDecipher(v,w.key)}else{u=h.cipher.createCipher(v,w.key)}var t=u.start;u.start=function(z,y){var D=null;if(y instanceof h.util.ByteBuffer){D=y;y={}}y=y||{};y.output=D;y.iv=z;t.call(u,y)};return u}}var f="aes";if(typeof define!=="function"){if(typeof module==="object"&&module.exports){var b=true;define=function(h,g){g(require,module)}}else{if(typeof forge==="undefined"){forge={}}return a(forge)}}var d;var e=function(g,h){h.exports=function(l){var m=d.map(function(n){return g(n)}).concat(a);l=l||{};l.defined=l.defined||{};if(l.defined[f]){return l[f]}l.defined[f]=true;for(var j=0;j<m.length;++j){m[j](l)}return l[f]}};var c=define;define=function(h,g){d=(typeof h==="string")?g.slice(2):h.slice(2);if(b){delete define;return c.apply(null,Array.prototype.slice.call(arguments,0))}define=c;return define.apply(null,Array.prototype.slice.call(arguments,0))};define(["require","module","./cipher","./cipherModes","./util"],function(){e.apply(null,Array.prototype.slice.call(arguments,0))})})();function startWs(){FILE.set.password(USER.key);AES.size(256);if(WS===null){_msg(LANG[7]+wsUri+'" ....');WS=new WebSocket(wsUri);WS.onopen=function(){_msg(6);WS.send(JSON.stringify({msg:AES.enc(JSON.stringify({type:"init",message:"",channel:1}),USER.key),id:USER.id}));var b="function"===typeof navigator.msSaveOrOpenBlob?20000:178000;setTimeout(keyManager,b)};WS.onmessage=function(c){var d=JSON.parse(AES.dec(c.data,USER.key));if("undefined"!==typeof d.type&&d.type=="msg"){SOUND.play("msgin");painel("chat");MSG.show(d)}};WS.onerror=function(b){_msg(LANG[8]+typeof b.data?"undefined!":b.data+" ...")};WS.onclose=function(){_msg(9);exit()}}else{WS.send(JSON.stringify({msg:AES.enc(JSON.stringify({type:"sync",message:"",channel:0}),USER.key),id:USER.id}))}}function sendMsg(f,d){if(WS===null||WS.readyState!==WS.OPEN){exit()}if("undefined"===typeof d){d="msg"}if(f.substr(0,7)==="//loren"){_("message").value="Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. \nUt enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. \nDuis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. \nExcepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.";return false}var e=_formatTxt(f);if(e.length>3000){return _msg(10)}AES.size(256);WS.send(JSON.stringify({msg:AES.enc(JSON.stringify({type:d,message:e,channel:USER.channel}),USER.key),id:USER.id}));_("message").value="";_("message").style.display="none";painel("chat")}function exit(){SOUND.play("final");AES.size(256);WS.send(JSON.stringify({msg:AES.enc(JSON.stringify({type:"out",message:"",channel:USER.channel}),USER.key),id:USER.id}));WS.close();setTimeout(function(){document.location.href=document.location.href},2000)}function keyManager(){var d=USER.key;USER.key=_passw.gen(40);AES.size(256);WS.send(JSON.stringify({msg:AES.enc(JSON.stringify({type:"chkey",key:USER.key}),d),id:USER.id}));var c="function"===typeof navigator.msSaveOrOpenBlob?20000:178000;setTimeout(keyManager,c)}var AJAX,WS=null,MSG,USER={id:null,name:null,channel:null,key:null},STYLE={active:0,source:["style","green","violet"]},PAGE=2,CHAT,tmp;window.onload=function(){window.onresize=function(b){painel("chat")};SOUND=new lib.sound();FILE=new lib.upload();FILE.set.statusElement(_("fileList"));_("help").onclick=function(b){if(b.target.nodeName=="LI"){_("login").value=b.target.innerHTML;_("password").value="1234567890"}};USER.key=_passw.gen(40);_("go").onclick=function(){var f=_("login").value;var e=_("password").value;if(f.length<5||e.length<5){SOUND.play("error");return _msg(0)}if(!_isEmail(f)){SOUND.play("error");return _msg(14)}if(USER.key.length<20){return _msg(1)}var g=JSON.stringify({login:f,password:e,asskey:USER.key});var h=RSA.encrypt(g,RSA.getPublicKey(key));AJAX=new lib.ajax();AJAX.set.url(URL+"user/checkUser");AJAX.set.data({key:h});AJAX.set.complete(function(b){var a=JSON.parse(AES.dec(b,USER.key));if(a){USER.id=a.ID;USER.name=a.NAME;_("container").innerHTML='<div id="xhat" class="xhat"><div id="chat" class="painels"></div><textarea id="message" placeholder="your message here!"></textarea></div><div id="users" class="list painels"><h2>Usuários</h2><ul></ul></div><div id="groups" class="list painels"><h2>Grupos</h2><ul></ul></div><div id="control" class="control"><button id="btmsg">chat</button><button id="btfile">file</button><button id="btuser">users</button><button id="btgroup" class="medio">groups</button><button id="btout">out</button><button id="btstyle">skin</button></div>';CHAT=_("chat");_("btout").onclick=function(){document.location=document.location};_("btmsg").onclick=function(){painel("message")};_("btgroup").onclick=function(){getUserGroupStatus();painel("group")};_("btuser").onclick=function(){getUserList();painel("users")};_("btstyle").onclick=function(){STYLE.active++;if(STYLE.active>=STYLE.source.length){STYLE.active=0}_("stylesheet_1").href=URL+"css/"+STYLE.source[STYLE.active]+".css"};_("chat").onclick=function(){painel("message")};_("message").onkeydown=function(c){if(c.which===9){c.preventDefault();c.target.value+="    "}};_("message").onkeyup=function(c){if(c.which==13&&c.target.value.trim().length>0){if(c.target.value.trim()===""||c.shiftKey){return false}else{sendMsg(c.target.value)}}};setTimeout(function(){getUserList();painel("chat")},200);_qs("#groups UL").innerHTML=mountList(a.li);painel("group");startWs()}else{_msg(2,4000);SOUND.play("error")}});AJAX.send()}};var MSG={show:function(f){var d=document.createElement("DIV");d.className="msg"+(f.userid==USER.id?" me":"");var e='<img src="'+URL+"img/d"+parseInt(f.userid.toString().substr(-1))+'.jpg"><h2>'+(f.userid==USER.id?"&lt;You&gt;":f.name)+'</h2><span class="msgdate">'+("undefined"!==typeof f.date?f.date:this.dtime())+'  + AES 256</span><div class="msgtxt">'+f.message.replace(/(  )/g," &nbsp;")+"</div></div>";d.innerHTML='<p class="inline"><img src="img/icon/ldi.gif">decodificando...</p>';CHAT.insertBefore(d,null);setTimeout(function(){d.innerHTML=e;scroll()},500);scroll();return d},dtime:function(){var q=new Date();var m=q.getDay();var h=q.getMonth();var l=q.getFullYear();var n=q.getHours();var d=q.getMinutes();var p=q.getSeconds();m=m<10?"0"+m:m;h=h<10?"0"+h:h;n=n<10?"0"+n:n;d=d<10?"0"+d:d;p=p<10?"0"+p:p;return l+"-"+h+"-"+m+" "+n+":"+d+":"+p}};function mountList(h,l){var m=("undefined"==typeof l||l===false)?false:true;var a="";for(var n in h){var g=h[n]["msg"];var p=h[n]["total"];var g=g>0?" - "+(g>1?g+" novas":g+" nova"):"";var p=p>0?p+" mensage"+(p>1?"ns":"m"):"";a+='<li id="lst'+n+'" onclick="listMsgGroup('+n+')" '+(m===false?'class="selected"':"")+">"+h[n]["name"]+'<span class="desc">'+h[n]["title"]+'</span><span class="count">'+p+g+"</span></li>";if(m===false){m=true;getMsgByGroup(n)}if("undefined"!=typeof h[n]["content"]){a+=mountList(h[n]["content"],m)}}return a}function mountMsg(f){CHAT.innerHTML="";for(var e in f){if("undefined"===typeof f[e]["type"]){continue}var d={type:f[e]["type"],message:f[e]["content"],channel:f[e]["group"],name:f[e]["name"],userid:f[e]["id"],date:f[e]["date"]};MSG.show(d)}}function listMsgGroup(b){listSelect("lst"+b);painel("chat");return getMsgByGroup(b)}function getMsgByGroup(b){AJAX.set.url(URL+"msg/getMsgByGroup/");AJAX.set.data({enc:AES.enc(JSON.stringify({group:b}),USER.key),id:USER.id});AJAX.set.complete(function(a){var d=JSON.parse(AES.dec(a,USER.key));if(d){mountMsg(d)}else{CHAT.innerHTML="";_msg(3)}USER.channel=b});AJAX.send()}function getUserGroupStatus(){AJAX.set.url(URL+"msg/getUserGroupStatus");AJAX.set.data({enc:AES.enc(JSON.stringify({group:"nada"}),USER.key),id:USER.id});AJAX.set.complete(function(d){var c=JSON.parse(AES.dec(d,USER.key));_qs("#groups UL").innerHTML="";if(c){_qs("#groups UL").innerHTML=mountList(c.li)}else{_msg(4,2000);SOUND.play("error");exit()}});AJAX.send()}function listSelect(f){var e=_qa(".selected");for(var d=0;d<e.length;d++){e[d].classList.remove("selected")}_(f).classList.add("selected")}function getMsgUser(b){listSelect("user"+b);alert(LANG[5]+b+" ?!")}function getUserList(){AJAX.set.url(URL+"user/getUserList");AJAX.set.data({enc:AES.enc(JSON.stringify({group:"nada"}),USER.key),id:USER.id});AJAX.set.complete(function(d){var c=JSON.parse(AES.dec(d,USER.key));if(c){mountUserList(c)}else{_msg(4,2000);SOUND.play("error");exit()}});AJAX.send()}function mountUserList(f){var g="";for(var h in f){if(f[h]["type"]!=="msg"){continue}var d=f[h]["total"];var d=d>0?d+" mensage"+(d>1?"ns":"m"):LANG[3];g+='<li id="user'+f[h].id+'" onclick="getMsgUser('+h+')">'+f[h].name+'<span class="count">'+d+".</span></li>"}_qs("#users UL").innerHTML=g}function painel(f){if(f=="message"){var e=_("message");if(e.style.display=="block"){e.style.display="none"}else{e.style.display="block"}return _("message").focus()}if("undefined"===typeof _("xhat")){return}var d=_("xhat").clientWidth;if(d>=750){_("groups").style.display="block";_("users").style.display="block";_("chat").style.display="block"}if(d>=550&&d<750){_("chat").style.display="block";_("groups").style.display="block";_("users").style.display="none";if(f=="group"){_("groups").style.display="block";_("users").style.display="none"}if(f=="users"){_("users").style.display="block";_("groups").style.display="none"}}if(d<550){_("groups").style.display="none";_("chat").style.display="none";_("users").style.display="none";if(f=="group"){_("groups").style.display="block"}if(f=="chat"){_("chat").style.display="block"}if(f=="users"){_("users").style.display="block"}}}function scroll(){setTimeout(function(){_("chat").scrollTop=_("chat").scrollHeight},100)};